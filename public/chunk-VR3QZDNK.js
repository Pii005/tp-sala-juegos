var $R=Object.defineProperty,HR=Object.defineProperties;var qR=Object.getOwnPropertyDescriptors;var aw=Object.getOwnPropertySymbols,zR=Object.getPrototypeOf,GR=Object.prototype.hasOwnProperty,WR=Object.prototype.propertyIsEnumerable,KR=Reflect.get;var cw=(t,e,n)=>e in t?$R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})GR.call(e,n)&&cw(t,n,e[n]);if(aw)for(var n of aw(e))WR.call(e,n)&&cw(t,n,e[n]);return t},oe=(t,e)=>HR(t,qR(e));var lr=(t,e,n)=>KR(zR(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function uw(t,e){return Object.is(t,e)}var ze=null,Wc=!1,Kc=1,An=Symbol("SIGNAL");function pe(t){let e=ze;return ze=t,e}function lw(){return ze}var Wo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _f(t){if(Wc)throw new Error("");if(ze===null)return;ze.consumerOnSignalRead(t);let e=ze.nextProducerIndex++;if(Jc(ze),e<ze.producerNode.length&&ze.producerNode[e]!==t&&Go(ze)){let n=ze.producerNode[e];Zc(n,ze.producerIndexOfThis[e])}ze.producerNode[e]!==t&&(ze.producerNode[e]=t,ze.producerIndexOfThis[e]=Go(ze)?pw(t,ze,e):0),ze.producerLastReadVersion[e]=t.version}function QR(){Kc++}function dw(t){if(!(Go(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Kc)){if(!t.producerMustRecompute(t)&&!wf(t)){t.dirty=!1,t.lastCleanEpoch=Kc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Kc}}function hw(t){if(t.liveConsumerNode===void 0)return;let e=Wc;Wc=!0;try{for(let n of t.liveConsumerNode)n.dirty||YR(n)}finally{Wc=e}}function fw(){return ze?.consumerAllowSignalWrites!==!1}function YR(t){t.dirty=!0,hw(t),t.consumerMarkedDirty?.(t)}function Yc(t){return t&&(t.nextProducerIndex=0),pe(t)}function If(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Go(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Zc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function wf(t){Jc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(dw(n),r!==n.version))return!0}return!1}function Ef(t){if(Jc(t),Go(t))for(let e=0;e<t.producerNode.length;e++)Zc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function pw(t,e,n){if(gw(t),t.liveConsumerNode.length===0&&mw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=pw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Zc(t,e){if(gw(t),t.liveConsumerNode.length===1&&mw(t))for(let r=0;r<t.producerNode.length;r++)Zc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Jc(i),i.producerIndexOfThis[r]=e}}function Go(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Jc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function gw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function mw(t){return t.producerNode!==void 0}function yw(t){let e=Object.create(ZR);e.computation=t;let n=()=>{if(dw(e),_f(e),e.value===Qc)throw e.error;return e.value};return n[An]=e,n}var yf=Symbol("UNSET"),vf=Symbol("COMPUTING"),Qc=Symbol("ERRORED"),ZR=oe(k({},Wo),{value:yf,dirty:!0,error:null,equal:uw,producerMustRecompute(t){return t.value===yf||t.value===vf},producerRecomputeValue(t){if(t.value===vf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=vf;let n=Yc(t),r;try{r=t.computation()}catch(i){r=Qc,t.error=i}finally{If(t,n)}if(e!==yf&&e!==Qc&&r!==Qc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function JR(){throw new Error}var vw=JR;function _w(){vw()}function Iw(t){vw=t}var XR=null;function ww(t){let e=Object.create(Dw);e.value=t;let n=()=>(_f(e),e.value);return n[An]=e,n}function Df(t,e){fw()||_w(),t.equal(t.value,e)||(t.value=e,eN(t))}function Ew(t,e){fw()||_w(),Df(t,e(t.value))}var Dw=oe(k({},Wo),{equal:uw,value:void 0});function eN(t){t.version++,QR(),hw(t),XR?.()}function J(t){return typeof t=="function"}function Yi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Xc=Yi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ti(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(s){e=s instanceof Xc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Cw(s)}catch(o){e=e??[],o instanceof Xc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Xc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Cw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ti(n,e)}remove(e){let{_finalizers:n}=this;n&&ti(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var Cf=Pe.EMPTY;function eu(t){return t instanceof Pe||t&&"closed"in t&&J(t.remove)&&J(t.add)&&J(t.unsubscribe)}function Cw(t){J(t)?t():t.unsubscribe()}var Qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Zi={setTimeout(t,e,...n){let{delegate:r}=Zi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Zi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function tu(t){Zi.setTimeout(()=>{let{onUnhandledError:e}=Qt;if(e)e(t);else throw t})}function Ko(){}var Tw=Tf("C",void 0,void 0);function bw(t){return Tf("E",void 0,t)}function Sw(t){return Tf("N",t,void 0)}function Tf(t,e,n){return{kind:t,value:e,error:n}}var ni=null;function Ji(t){if(Qt.useDeprecatedSynchronousErrorHandling){let e=!ni;if(e&&(ni={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ni;if(ni=null,n)throw r}}else t()}function Aw(t){Qt.useDeprecatedSynchronousErrorHandling&&ni&&(ni.errorThrown=!0,ni.error=t)}var ri=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,eu(e)&&e.add(this)):this.destination=rN}static create(e,n,r){return new Xi(e,n,r)}next(e){this.isStopped?Sf(Sw(e),this):this._next(e)}error(e){this.isStopped?Sf(bw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Sf(Tw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tN=Function.prototype.bind;function bf(t,e){return tN.call(t,e)}var Af=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){nu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){nu(r)}else nu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){nu(n)}}},Xi=class extends ri{constructor(e,n,r){super();let i;if(J(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Qt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&bf(e.next,s),error:e.error&&bf(e.error,s),complete:e.complete&&bf(e.complete,s)}):i=e}this.destination=new Af(i)}};function nu(t){Qt.useDeprecatedSynchronousErrorHandling?Aw(t):tu(t)}function nN(t){throw t}function Sf(t,e){let{onStoppedNotification:n}=Qt;n&&Zi.setTimeout(()=>n(t,e))}var rN={closed:!0,next:Ko,error:nN,complete:Ko};var es=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Tt(t){return t}function ru(...t){return Rf(t)}function Rf(t){return t.length===0?Tt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ae=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=sN(n)?n:new Xi(n,r,i);return Ji(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Rw(r),new r((i,s)=>{let o=new Xi({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[es](){return this}pipe(...n){return Rf(n)(this)}toPromise(n){return n=Rw(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Rw(t){var e;return(e=t??Qt.Promise)!==null&&e!==void 0?e:Promise}function iN(t){return t&&J(t.next)&&J(t.error)&&J(t.complete)}function sN(t){return t&&t instanceof ri||iN(t)&&eu(t)}function Nf(t){return J(t?.lift)}function he(t){return e=>{if(Nf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(t,e,n,r,i){return new Mf(t,e,n,r,i)}var Mf=class extends ri{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ts(){return he((t,e)=>{let n=null;t._refCount++;let r=ce(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ns=class extends ae{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Nf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(ce(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return ts()(this)}};var Nw=Yi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Xe=(()=>{class t extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new iu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Nw}next(n){Ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Cf:(this.currentObservers=null,s.push(n),new Pe(()=>{this.currentObservers=null,ti(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ae;return n.source=this,n}}return t.create=(e,n)=>new iu(e,n),t})(),iu=class extends Xe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Cf}};var et=class extends Xe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var xf={now(){return(xf.delegate||Date).now()},delegate:void 0};var su=class extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}};var Qo={setInterval(t,e,...n){let{delegate:r}=Qo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Qo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var rs=class extends su{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Qo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Qo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ti(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var is=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};is.now=xf.now;var ss=class extends is{constructor(e,n=is.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Pf=new ss(rs);var ou=class extends rs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var au=class extends ss{};var Of=new au(ou);var bt=new ae(t=>t.complete());function Mw(t){return t&&J(t.schedule)}function xw(t){return t[t.length-1]}function cu(t){return J(xw(t))?t.pop():void 0}function dr(t){return Mw(xw(t))?t.pop():void 0}function kf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ow(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Pw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ii(t){return this instanceof ii?(this.v=t,this):new ii(t)}function kw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(S){return Promise.resolve(S).then(v,p)}}function a(v,S){r[v]&&(i[v]=function(M){return new Promise(function(R,F){s.push([v,M,R,F])>1||u(v,M)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(M){m(s[0][3],M)}}function l(v){v.value instanceof ii?Promise.resolve(v.value.v).then(h,p):m(s[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,S){v(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Fw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Pw=="function"?Pw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var uu=t=>t&&typeof t.length=="number"&&typeof t!="function";function lu(t){return J(t?.then)}function du(t){return J(t[es])}function hu(t){return Symbol.asyncIterator&&J(t?.[Symbol.asyncIterator])}function fu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function oN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pu=oN();function gu(t){return J(t?.[pu])}function mu(t){return kw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ii(n.read());if(i)return yield ii(void 0);yield yield ii(r)}}finally{n.releaseLock()}})}function yu(t){return J(t?.getReader)}function Le(t){if(t instanceof ae)return t;if(t!=null){if(du(t))return aN(t);if(uu(t))return cN(t);if(lu(t))return uN(t);if(hu(t))return Lw(t);if(gu(t))return lN(t);if(yu(t))return dN(t)}throw fu(t)}function aN(t){return new ae(e=>{let n=t[es]();if(J(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function cN(t){return new ae(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function uN(t){return new ae(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,tu)})}function lN(t){return new ae(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Lw(t){return new ae(e=>{hN(t,e).catch(n=>e.error(n))})}function dN(t){return Lw(mu(t))}function hN(t,e){var n,r,i,s;return Ow(this,void 0,void 0,function*(){try{for(n=Fw(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function wt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function hr(t,e=0){return he((n,r)=>{n.subscribe(ce(r,i=>wt(r,t,()=>r.next(i),e),()=>wt(r,t,()=>r.complete(),e),i=>wt(r,t,()=>r.error(i),e)))})}function fr(t,e=0){return he((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Vw(t,e){return Le(t).pipe(fr(e),hr(e))}function Uw(t,e){return Le(t).pipe(fr(e),hr(e))}function jw(t,e){return new ae(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Bw(t,e){return new ae(n=>{let r;return wt(n,e,()=>{r=t[pu](),wt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function vu(t,e){if(!t)throw new Error("Iterable cannot be null");return new ae(n=>{wt(n,e,()=>{let r=t[Symbol.asyncIterator]();wt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function $w(t,e){return vu(mu(t),e)}function Hw(t,e){if(t!=null){if(du(t))return Vw(t,e);if(uu(t))return jw(t,e);if(lu(t))return Uw(t,e);if(hu(t))return vu(t,e);if(gu(t))return Bw(t,e);if(yu(t))return $w(t,e)}throw fu(t)}function Ae(t,e){return e?Hw(t,e):Le(t)}function G(...t){let e=dr(t);return Ae(t,e)}function os(t,e){let n=J(t)?t:()=>t,r=i=>i.error(n());return new ae(e?i=>e.schedule(r,0,i):r)}function Ff(t){return!!t&&(t instanceof ae||J(t.lift)&&J(t.subscribe))}var Rn=Yi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function te(t,e){return he((n,r)=>{let i=0;n.subscribe(ce(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:fN}=Array;function pN(t,e){return fN(e)?t(...e):t(e)}function _u(t){return te(e=>pN(t,e))}var{isArray:gN}=Array,{getPrototypeOf:mN,prototype:yN,keys:vN}=Object;function Iu(t){if(t.length===1){let e=t[0];if(gN(e))return{args:e,keys:null};if(_N(e)){let n=vN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function _N(t){return t&&typeof t=="object"&&mN(t)===yN}function wu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Yo(...t){let e=dr(t),n=cu(t),{args:r,keys:i}=Iu(t);if(r.length===0)return Ae([],e);let s=new ae(IN(r,e,i?o=>wu(i,o):Tt));return n?s.pipe(_u(n)):s}function IN(t,e,n=Tt){return r=>{qw(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)qw(e,()=>{let l=Ae(t[u],e),h=!1;l.subscribe(ce(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function qw(t,e,n){t?wt(n,t,e):e()}function zw(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=M=>l<r?S(M):u.push(M),S=M=>{s&&e.next(M),l++;let R=!1;Le(n(M,h++)).subscribe(ce(e,F=>{i?.(F),s?v(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();o?wt(e,o,()=>S(F)):S(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(ce(e,v,()=>{p=!0,m()})),()=>{a?.()}}function Ve(t,e,n=1/0){return J(e)?Ve((r,i)=>te((s,o)=>e(r,s,i,o))(Le(t(r,i))),n):(typeof e=="number"&&(n=e),he((r,i)=>zw(r,i,t,n)))}function as(t=1/0){return Ve(Tt,t)}function Gw(){return as(1)}function cs(...t){return Gw()(Ae(t,dr(t)))}function Eu(t){return new ae(e=>{Le(t()).subscribe(e)})}function Lf(...t){let e=cu(t),{args:n,keys:r}=Iu(t),i=new ae(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Le(n[h]).subscribe(ce(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?wu(r,a):a),s.complete())}))}});return e?i.pipe(_u(e)):i}function St(t,e){return he((n,r)=>{let i=0;n.subscribe(ce(r,s=>t.call(e,s,i++)&&r.next(s)))})}function pr(t){return he((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ce(n,void 0,void 0,o=>{s=Le(t(o,pr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Ww(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ce(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function si(t,e){return J(e)?Ve(t,e,1):Ve(t,1)}function gr(t){return he((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Nn(t){return t<=0?()=>bt:he((e,n)=>{let r=0;e.subscribe(ce(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Vf(t){return te(()=>t)}function Du(t=wN){return he((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function wN(){return new Rn}function Zo(t){return he((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function sn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?St((i,s)=>t(i,s,r)):Tt,Nn(1),n?gr(e):Du(()=>new Rn))}function us(t){return t<=0?()=>bt:he((e,n)=>{let r=[];e.subscribe(ce(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Uf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?St((i,s)=>t(i,s,r)):Tt,us(1),n?gr(e):Du(()=>new Rn))}function Cu(t,e){return he(Ww(t,e,arguments.length>=2,!0))}function Tu(...t){let e=dr(t);return he((n,r)=>{(e?cs(t,n,e):cs(t,n)).subscribe(r)})}function Ft(t,e){return he((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ce(r,u=>{i?.unsubscribe();let l=0,h=s++;Le(t(u,h)).subscribe(i=ce(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function jf(t){return he((e,n)=>{Le(t).subscribe(ce(n,()=>n.complete(),Ko)),!n.closed&&e.subscribe(n)})}function Ge(t,e,n){let r=J(t)||e||n?{next:t,error:e,complete:n}:t;return r?he((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ce(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Tt}var EN="https://g.co/ng/security#xss",j=class extends Error{constructor(e,n){super(qp(e,n)),this.code=e}};function qp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function aa(t){return{toString:t}.toString()}var bu="__parameters__";function DN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function xE(t,e,n){return aa(()=>{let r=DN(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(bu)?u[bu]:Object.defineProperty(u,bu,{value:[]})[bu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Jo=globalThis;function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function CN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function gt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(gt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Kw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var TN=Ee({__forward_ref__:Ee});function Jt(t){return t.__forward_ref__=Jt,t.toString=function(){return gt(this())},t}function pt(t){return PE(t)?t():t}function PE(t){return typeof t=="function"&&t.hasOwnProperty(TN)&&t.__forward_ref__===Jt}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function kn(t){return{providers:t.providers||[],imports:t.imports||[]}}function sl(t){return Qw(t,kE)||Qw(t,FE)}function OE(t){return sl(t)!==null}function Qw(t,e){return t.hasOwnProperty(e)?t[e]:null}function bN(t){let e=t&&(t[kE]||t[FE]);return e||null}function Yw(t){return t&&(t.hasOwnProperty(Zw)||t.hasOwnProperty(SN))?t[Zw]:null}var kE=Ee({\u0275prov:Ee}),Zw=Ee({\u0275inj:Ee}),FE=Ee({ngInjectableDef:Ee}),SN=Ee({ngInjectorDef:Ee}),U=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function LE(t){return t&&!!t.\u0275providers}var AN=Ee({\u0275cmp:Ee}),RN=Ee({\u0275dir:Ee}),NN=Ee({\u0275pipe:Ee}),MN=Ee({\u0275mod:Ee}),ku=Ee({\u0275fac:Ee}),ea=Ee({__NG_ELEMENT_ID__:Ee}),Jw=Ee({__NG_ENV_ID__:Ee});function zp(t){return typeof t=="string"?t:t==null?"":String(t)}function xN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():zp(t)}function PN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new j(-200,t)}function Gp(t,e){throw new j(-201,!1)}var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{}),tp;function VE(){return tp}function Et(t){let e=tp;return tp=t,e}function UE(t,e,n){let r=sl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&re.Optional)return null;if(e!==void 0)return e;Gp(t,"Injector")}var ON={},ta=ON,np="__NG_DI_FLAG__",Fu="ngTempTokenPath",kN="ngTokenPath",FN=/\n/gm,LN="\u0275",Xw="__source",ps;function VN(){return ps}function mr(t){let e=ps;return ps=t,e}function UN(t,e=re.Default){if(ps===void 0)throw new j(-203,!1);return ps===null?UE(t,void 0,e):ps.get(t,e&re.Optional?null:void 0,e)}function W(t,e=re.Default){return(VE()||UN)(pt(t),e)}function P(t,e=re.Default){return W(t,ol(e))}function ol(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function rp(t){let e=[];for(let n=0;n<t.length;n++){let r=pt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,s=re.Default;for(let o=0;o<r.length;o++){let a=r[o],u=jN(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(W(i,s))}else e.push(W(r))}return e}function jE(t,e){return t[np]=e,t.prototype[np]=e,t}function jN(t){return t[np]}function BN(t,e,n,r){let i=t[Fu];throw e[Xw]&&i.unshift(e[Xw]),t.message=$N(`
`+t.message,i,n,r),t[kN]=i,t[Fu]=null,t}function $N(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==LN?t.slice(2):t;let i=gt(e);if(Array.isArray(e))i=e.map(gt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):gt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(FN,`
  `)}`}var at=jE(xE("Optional"),8);var Wp=jE(xE("SkipSelf"),4);function ci(t,e){let n=t.hasOwnProperty(ku);return n?t[ku]:null}function Kp(t,e){t.forEach(n=>Array.isArray(n)?Kp(n,e):e(n))}function BE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Lu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function HN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function qN(t,e,n){let r=ca(t,e);return r>=0?t[r|1]=n:(r=~r,HN(t,r,e,n)),r}function Bf(t,e){let n=ca(t,e);if(n>=0)return t[n|1]}function ca(t,e){return zN(t,e,1)}function zN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ms={},Lt=[],ys=new U(""),$E=new U("",-1),HE=new U(""),Vu=class{get(e,n=ta){if(n===ta){let r=new Error(`NullInjectorError: No provider for ${gt(e)}!`);throw r.name="NullInjectorError",r}return n}},qE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(qE||{}),cn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(cn||{}),_r=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(_r||{});function GN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function ip(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];KN(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function WN(t){return t===3||t===4||t===6}function KN(t){return t.charCodeAt(0)===64}function na(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?eE(t,n,i,null,e[++r]):eE(t,n,i,null,null))}}return t}function eE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var zE="ng-template";function QN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&GN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Qp(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Qp(t){return t.type===4&&t.value!==zE}function YN(t,e,n){let r=t.type===4&&!n?zE:t.value;return e===r}function ZN(t,e,n){let r=4,i=t.attrs,s=i!==null?eM(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Yt(r)&&!Yt(u))return!1;if(o&&Yt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!YN(t,u,n)||u===""&&e.length===1){if(Yt(r))return!1;o=!0}}else if(r&8){if(i===null||!QN(t,i,u,n)){if(Yt(r))return!1;o=!0}}else{let l=e[++a],h=JN(u,i,Qp(t),n);if(h===-1){if(Yt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Yt(r))return!1;o=!0}}}}return Yt(r)||o}function Yt(t){return(t&1)===0}function JN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return tM(e,t)}function XN(t,e,n=!1){for(let r=0;r<e.length;r++)if(ZN(t,e[r],n))return!0;return!1}function eM(t){for(let e=0;e<t.length;e++){let n=t[e];if(WN(n))return e}return t.length}function tM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function tE(t,e){return t?":not("+e.trim()+")":e}function nM(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Yt(o)&&(e+=tE(s,i),i=""),r=o,s=s||!Yt(r);n++}return i!==""&&(e+=tE(s,i)),e}function rM(t){return t.map(nM).join(",")}function iM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Yt(i))break;i=s}r++}return{attrs:e,classes:n}}function GE(t){return aa(()=>{let e=ZE(t),n=oe(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===qE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||cn.Emulated,styles:t.styles||Lt,_:null,schemas:t.schemas||null,tView:null,id:""});JE(n);let r=t.dependencies;return n.directiveDefs=rE(r,!1),n.pipeDefs=rE(r,!0),n.id=aM(n),n})}function sM(t){return Ir(t)||WE(t)}function oM(t){return t!==null}function Fn(t){return aa(()=>({type:t.type,bootstrap:t.bootstrap||Lt,declarations:t.declarations||Lt,imports:t.imports||Lt,exports:t.exports||Lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function nE(t,e){if(t==null)return ms;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=_r.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==_r.None?[r,a]:r,e[s]=o):n[s]=r}return n}function je(t){return aa(()=>{let e=ZE(t);return JE(e),e})}function Yp(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ir(t){return t[AN]||null}function WE(t){return t[RN]||null}function KE(t){return t[NN]||null}function QE(t){let e=Ir(t)||WE(t)||KE(t);return e!==null?e.standalone:!1}function YE(t,e){let n=t[MN]||null;if(!n&&e===!0)throw new Error(`Type ${gt(t)} does not have '\u0275mod' property.`);return n}function ZE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ms,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Lt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:nE(t.inputs,e),outputs:nE(t.outputs),debugInfo:null}}function JE(t){t.features?.forEach(e=>e(t))}function rE(t,e){if(!t)return null;let n=e?KE:sM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(oM)}function aM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function hn(t){return{\u0275providers:t}}function cM(...t){return{\u0275providers:XE(!0,t),\u0275fromNgModule:!0}}function XE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Kp(e,o=>{let a=o;sp(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&eD(i,s),n}function eD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Zp(i,s=>{e(s,r)})}}function sp(t,e,n,r){if(t=pt(t),!t)return!1;let i=null,s=Yw(t),o=!s&&Ir(t);if(!s&&!o){let u=t.ngModule;if(s=Yw(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)sp(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Kp(s.imports,h=>{sp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&eD(l,e)}if(!a){let l=ci(i)||(()=>new i);e({provide:i,useFactory:l,deps:Lt},i),e({provide:HE,useValue:i,multi:!0},i),e({provide:ys,useValue:()=>W(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;Zp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Zp(t,e){for(let n of t)LE(n)&&(n=n.\u0275providers),Array.isArray(n)?Zp(n,e):e(n)}var uM=Ee({provide:String,useValue:Ee});function tD(t){return t!==null&&typeof t=="object"&&uM in t}function lM(t){return!!(t&&t.useExisting)}function dM(t){return!!(t&&t.useFactory)}function vs(t){return typeof t=="function"}function hM(t){return!!t.useClass}var al=new U(""),Nu={},fM={},$f;function Jp(){return $f===void 0&&($f=new Vu),$f}var At=class{},ra=class extends At{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ap(e,o=>this.processProvider(o)),this.records.set($E,ls(void 0,this)),i.has("environment")&&this.records.set(At,ls(void 0,this));let s=this.records.get(al);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(HE,Lt,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=mr(this),r=Et(void 0),i;try{return e()}finally{mr(n),Et(r)}}get(e,n=ta,r=re.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Jw))return e[Jw](this);r=ol(r);let i,s=mr(this),o=Et(void 0);try{if(!(r&re.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=vM(e)&&sl(e);l&&this.injectableDefInScope(l)?u=ls(op(e),Nu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&re.Self?Jp():this.parent;return n=r&re.Optional&&n===ta?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Fu]=a[Fu]||[]).unshift(gt(e)),s)throw a;return BN(a,e,"R3InjectorError",this.source)}else throw a}finally{Et(o),mr(s)}}resolveInjectorInitializers(){let e=pe(null),n=mr(this),r=Et(void 0),i;try{let s=this.get(ys,Lt,re.Self);for(let o of s)o()}finally{mr(n),Et(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(gt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=pt(e);let n=vs(e)?e:pt(e&&e.provide),r=gM(e);if(!vs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ls(void 0,Nu,!0),i.factory=()=>rp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===Nu&&(n.value=fM,n.value=n.factory()),typeof n.value=="object"&&n.value&&yM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=pt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function op(t){let e=sl(t),n=e!==null?e.factory:ci(t);if(n!==null)return n;if(t instanceof U)throw new j(204,!1);if(t instanceof Function)return pM(t);throw new j(204,!1)}function pM(t){if(t.length>0)throw new j(204,!1);let n=bN(t);return n!==null?()=>n.factory(t):()=>new t}function gM(t){if(tD(t))return ls(void 0,t.useValue);{let e=nD(t);return ls(e,Nu)}}function nD(t,e,n){let r;if(vs(t)){let i=pt(t);return ci(i)||op(i)}else if(tD(t))r=()=>pt(t.useValue);else if(dM(t))r=()=>t.useFactory(...rp(t.deps||[]));else if(lM(t))r=()=>W(pt(t.useExisting));else{let i=pt(t&&(t.useClass||t.provide));if(mM(t))r=()=>new i(...rp(t.deps));else return ci(i)||op(i)}return r}function ls(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function mM(t){return!!t.deps}function yM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function vM(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function ap(t,e){for(let n of t)Array.isArray(n)?ap(n,e):n&&LE(n)?ap(n.\u0275providers,e):e(n)}function fn(t,e){t instanceof ra&&t.assertNotDestroyed();let n,r=mr(t),i=Et(void 0);try{return e()}finally{mr(r),Et(i)}}function rD(){return VE()!==void 0||VN()!=null}function _M(t){if(!rD())throw new j(-203,!1)}function IM(t){return typeof t=="function"}var Ln=0,se=1,K=2,mt=3,Zt=4,Xt=5,Uu=6,ju=7,un=8,_s=9,Mn=10,Ue=11,ia=12,iE=13,Rs=14,ln=15,Is=16,ds=17,ws=18,cl=19,iD=20,yr=21,Hf=22,Vt=23,jt=25,sD=1;var ui=7,Bu=8,$u=9,Ut=10,Hu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Hu||{});function vr(t){return Array.isArray(t)&&typeof t[sD]=="object"}function Vn(t){return Array.isArray(t)&&t[sD]===!0}function Xp(t){return(t.flags&4)!==0}function ul(t){return t.componentOffset>-1}function ll(t){return(t.flags&1)===1}function wr(t){return!!t.template}function cp(t){return(t[K]&512)!==0}var up=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function oD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Un(){return aD}function aD(t){return t.type.prototype.ngOnChanges&&(t.setInput=EM),wM}Un.ngInherit=!0;function wM(){let t=uD(this),e=t?.current;if(e){let n=t.previous;if(n===ms)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function EM(t,e,n,r,i){let s=this.declaredInputs[r],o=uD(t)||DM(t,{previous:ms,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new up(l&&l.currentValue,n,u===ms),oD(t,e,i,n)}var cD="__ngSimpleChanges__";function uD(t){return t[cD]||null}function DM(t,e){return t[cD]=e}var sE=null;var on=function(t,e,n){sE?.(t,e,n)},CM="svg",TM="math";function dn(t){for(;Array.isArray(t);)t=t[Ln];return t}function lD(t,e){return dn(e[t])}function Bt(t,e){return dn(e[t.index])}function dD(t,e){return t.data[e]}function hD(t,e){return t[e]}function Tr(t,e){let n=e[t];return vr(n)?n:n[Ln]}function eg(t){return(t[K]&128)===128}function bM(t){return Vn(t[mt])}function Es(t,e){return e==null?null:t[e]}function fD(t){t[ds]=0}function pD(t){t[K]&1024||(t[K]|=1024,eg(t)&&hl(t))}function SM(t,e){for(;t>0;)e=e[Rs],t--;return e}function dl(t){return!!(t[K]&9216||t[Vt]?.dirty)}function lp(t){t[Mn].changeDetectionScheduler?.notify(8),t[K]&64&&(t[K]|=1024),dl(t)&&hl(t)}function hl(t){t[Mn].changeDetectionScheduler?.notify(0);let e=li(t);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!eg(e)));)e=li(e)}function gD(t,e){if((t[K]&256)===256)throw new j(911,!1);t[yr]===null&&(t[yr]=[]),t[yr].push(e)}function AM(t,e){if(t[yr]===null)return;let n=t[yr].indexOf(e);n!==-1&&t[yr].splice(n,1)}function li(t){let e=t[mt];return Vn(e)?e[mt]:e}var de={lFrame:TD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var mD=!1;function RM(){return de.lFrame.elementDepthCount}function NM(){de.lFrame.elementDepthCount++}function MM(){de.lFrame.elementDepthCount--}function yD(){return de.bindingsEnabled}function xM(){return de.skipHydrationRootTNode!==null}function PM(t){return de.skipHydrationRootTNode===t}function OM(){de.skipHydrationRootTNode=null}function De(){return de.lFrame.lView}function ct(){return de.lFrame.tView}function yt(){let t=vD();for(;t!==null&&t.type===64;)t=t.parent;return t}function vD(){return de.lFrame.currentTNode}function kM(){let t=de.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function gi(t,e){let n=de.lFrame;n.currentTNode=t,n.isParent=e}function tg(){return de.lFrame.isParent}function _D(){de.lFrame.isParent=!1}function ID(){return mD}function oE(t){mD=t}function wD(){let t=de.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function FM(t){return de.lFrame.bindingIndex=t}function fl(){return de.lFrame.bindingIndex++}function LM(t){let e=de.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function VM(){return de.lFrame.inI18n}function UM(t,e){let n=de.lFrame;n.bindingIndex=n.bindingRootIndex=t,dp(e)}function jM(){return de.lFrame.currentDirectiveIndex}function dp(t){de.lFrame.currentDirectiveIndex=t}function BM(t){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function ED(t){de.lFrame.currentQueryIndex=t}function $M(t){let e=t[se];return e.type===2?e.declTNode:e.type===1?t[Xt]:null}function DD(t,e,n){if(n&re.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&re.Host);)if(i=$M(s),i===null||(s=s[Rs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=de.lFrame=CD();return r.currentTNode=e,r.lView=t,!0}function ng(t){let e=CD(),n=t[se];de.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function CD(){let t=de.lFrame,e=t===null?null:t.child;return e===null?TD(t):e}function TD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function bD(){let t=de.lFrame;return de.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var SD=bD;function rg(){let t=bD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function HM(t){return(de.lFrame.contextLView=SM(t,de.lFrame.contextLView))[un]}function Ns(){return de.lFrame.selectedIndex}function di(t){de.lFrame.selectedIndex=t}function ig(){let t=de.lFrame;return dD(t.tView,t.selectedIndex)}function qM(){return de.lFrame.currentNamespace}var AD=!0;function pl(){return AD}function gl(t){AD=t}function zM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=aD(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function ml(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Mu(t,e,n){RD(t,e,3,n)}function xu(t,e,n,r){(t[K]&3)===n&&RD(t,e,n,r)}function qf(t,e){let n=t[K];(n&3)===e&&(n&=16383,n+=1,t[K]=n)}function RD(t,e,n,r){let i=r!==void 0?t[ds]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[ds]+=65536),(a<s||s==-1)&&(GM(t,n,e,u),t[ds]=(t[ds]&4294901760)+u+2),u++}function aE(t,e){on(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),on(5,t,e)}}function GM(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[K]>>14<t[ds]>>16&&(t[K]&3)===e&&(t[K]+=16384,aE(a,s)):aE(a,s)}var gs=-1,hi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function WM(t){return t instanceof hi}function KM(t){return(t.flags&8)!==0}function QM(t){return(t.flags&16)!==0}var zf={},hp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ol(r);let i=this.injector.get(e,zf,r);return i!==zf||n===zf?i:this.parentInjector.get(e,n,r)}};function ND(t){return t!==gs}function qu(t){return t&32767}function YM(t){return t>>16}function zu(t,e){let n=YM(t),r=e;for(;n>0;)r=r[Rs],n--;return r}var fp=!0;function Gu(t){let e=fp;return fp=t,e}var ZM=256,MD=ZM-1,xD=5,JM=0,an={};function XM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ea)&&(r=n[ea]),r==null&&(r=n[ea]=JM++);let i=r&MD,s=1<<i;e.data[t+(i>>xD)]|=s}function Wu(t,e){let n=PD(t,e);if(n!==-1)return n;let r=e[se];r.firstCreatePass&&(t.injectorIndex=e.length,Gf(r.data,t),Gf(e,null),Gf(r.blueprint,null));let i=sg(t,e),s=t.injectorIndex;if(ND(i)){let o=qu(i),a=zu(i,e),u=a[se].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Gf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function PD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function sg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=VD(i),r===null)return gs;if(n++,i=i[Rs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return gs}function pp(t,e,n){XM(t,e,n)}function OD(t,e,n){if(n&re.Optional||t!==void 0)return t;Gp(e,"NodeInjector")}function kD(t,e,n,r){if(n&re.Optional&&r===void 0&&(r=null),!(n&(re.Self|re.Host))){let i=t[_s],s=Et(void 0);try{return i?i.get(e,r,n&re.Optional):UE(e,r,n&re.Optional)}finally{Et(s)}}return OD(r,e,n)}function FD(t,e,n,r=re.Default,i){if(t!==null){if(e[K]&2048&&!(r&re.Self)){let o=ix(t,e,n,r,an);if(o!==an)return o}let s=LD(t,e,n,r,an);if(s!==an)return s}return kD(e,n,r,i)}function LD(t,e,n,r,i){let s=nx(n);if(typeof s=="function"){if(!DD(e,t,r))return r&re.Host?OD(i,n,r):kD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&re.Optional))Gp(n);else return o}finally{SD()}}else if(typeof s=="number"){let o=null,a=PD(t,e),u=gs,l=r&re.Host?e[ln][Xt]:null;for((a===-1||r&re.SkipSelf)&&(u=a===-1?sg(t,e):e[a+8],u===gs||!uE(r,!1)?a=-1:(o=e[se],a=qu(u),e=zu(u,e)));a!==-1;){let h=e[se];if(cE(s,a,h.data)){let p=ex(a,e,n,o,r,l);if(p!==an)return p}u=e[a+8],u!==gs&&uE(r,e[se].data[a+8]===l)&&cE(s,a,e)?(o=h,a=qu(u),e=zu(u,e)):a=-1}}return i}function ex(t,e,n,r,i,s){let o=e[se],a=o.data[t+8],u=r==null?ul(a)&&fp:r!=o&&(a.type&3)!==0,l=i&re.Host&&s===a,h=tx(a,o,n,u,l);return h!==null?Ds(e,o,h,a):an}function tx(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let S=o[v];if(v<u&&n===S||v>=u&&S.type===n)return v}if(i){let v=o[u];if(v&&wr(v)&&v.type===n)return u}return null}function Ds(t,e,n,r){let i=t[n],s=e.data;if(WM(i)){let o=i;o.resolving&&PN(xN(s[n]));let a=Gu(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Et(o.injectImpl):null,h=DD(t,r,re.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&zM(n,s[n],e)}finally{l!==null&&Et(l),Gu(a),o.resolving=!1,SD()}}return i}function nx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ea)?t[ea]:void 0;return typeof e=="number"?e>=0?e&MD:rx:e}function cE(t,e,n){let r=1<<t;return!!(n[e+(t>>xD)]&r)}function uE(t,e){return!(t&re.Self)&&!(t&re.Host&&e)}var ai=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return FD(this._tNode,this._lView,e,ol(r),n)}};function rx(){return new ai(yt(),De())}function br(t){return aa(()=>{let e=t.prototype.constructor,n=e[ku]||gp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[ku]||gp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function gp(t){return PE(t)?()=>{let e=gp(pt(t));return e&&e()}:ci(t)}function ix(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[K]&2048&&!(o[K]&512);){let a=LD(s,o,n,r|re.Self,an);if(a!==an)return a;let u=s.parent;if(!u){let l=o[iD];if(l){let h=l.get(n,an,r);if(h!==an)return h}u=VD(o),o=o[Rs]}s=u}return i}function VD(t){let e=t[se],n=e.type;return n===2?e.declTNode:n===1?t[Xt]:null}function lE(t,e=null,n=null,r){let i=UD(t,e,n,r);return i.resolveInjectorInitializers(),i}function UD(t,e=null,n=null,r,i=new Set){let s=[n||Lt,cM(t)];return r=r||(typeof t=="object"?void 0:gt(t)),new ra(s,e||Jp(),r||null,i)}var tt=class t{static{this.THROW_IF_NOT_FOUND=ta}static{this.NULL=new Vu}static create(e,n){if(Array.isArray(e))return lE({name:""},n,e,"");{let r=e.name??"";return lE({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=B({token:t,providedIn:"any",factory:()=>W($E)})}static{this.__NG_ELEMENT_ID__=-1}};var sx=new U("");sx.__NG_ELEMENT_ID__=t=>{let e=yt();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(t&re.Optional)return null;throw new j(204,!1)};var ox="ngOriginalError";function Wf(t){return t[ox]}var jD=!0,og=(()=>{class t{static{this.__NG_ELEMENT_ID__=ax}static{this.__NG_ENV_ID__=n=>n}}return t})(),mp=class extends og{constructor(e){super(),this._lView=e}onDestroy(e){return gD(this._lView,e),()=>AM(this._lView,e)}};function ax(){return new mp(De())}var Ms=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new et(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}}return t})();var yp=class extends Xe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,rD()&&(this.destroyRef=P(og,{optional:!0})??void 0,this.pendingTasks=P(Ms,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Pe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Oe=yp;function Ku(...t){}function BD(t){let e,n;function r(){t=Ku;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function dE(t){return queueMicrotask(()=>t()),()=>{t=Ku}}var ag="isAngularZone",Qu=ag+"_ID",cx=0,_e=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oe(!1),this.onMicrotaskEmpty=new Oe(!1),this.onStable=new Oe(!1),this.onError=new Oe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=jD}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,dx(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ag)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,ux,Ku,Ku);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},ux={};function cg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function lx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){BD(()=>{t.callbackScheduled=!1,vp(t),t.isCheckStableRunning=!0,cg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),vp(t)}function dx(t){let e=()=>{lx(t)},n=cx++;t._inner=t._inner.fork({name:"angular",properties:{[ag]:!0,[Qu]:n,[Qu+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(hx(u))return r.invokeTask(s,o,a,u);try{return hE(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),fE(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return hE(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!fx(u)&&e(),fE(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,vp(t),cg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function vp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function hE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function fE(t){t._nesting--,cg(t)}var _p=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oe,this.onMicrotaskEmpty=new Oe,this.onStable=new Oe,this.onError=new Oe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function hx(t){return $D(t,"__ignore_ng_zone__")}function fx(t){return $D(t,"__scheduler_tick__")}function $D(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var xn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Wf(e);for(;n&&Wf(n);)n=Wf(n);return n||null}},px=new U("",{providedIn:"root",factory:()=>{let t=P(_e),e=P(xn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function gx(){return yl(yt(),De())}function yl(t,e){return new mi(Bt(t,e))}var mi=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=gx}}return t})();function HD(t){return(t.flags&128)===128}var qD=new Map,mx=0;function yx(){return mx++}function vx(t){qD.set(t[cl],t)}function Ip(t){qD.delete(t[cl])}var pE="__ngContext__";function Er(t,e){vr(e)?(t[pE]=e[cl],vx(e)):t[pE]=e}function zD(t){return WD(t[ia])}function GD(t){return WD(t[Zt])}function WD(t){for(;t!==null&&!Vn(t);)t=t[Zt];return t}var wp;function KD(t){wp=t}function _x(){if(wp!==void 0)return wp;if(typeof document<"u")return document;throw new j(210,!1)}var ug=new U("",{providedIn:"root",factory:()=>Ix}),Ix="ng",lg=new U(""),pn=new U("",{providedIn:"platform",factory:()=>"unknown"});var dg=new U("",{providedIn:"root",factory:()=>_x().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var wx="h",Ex="b";var Dx=()=>null;function hg(t,e,n=!1){return Dx(t,e,n)}var QD=!1,Cx=new U("",{providedIn:"root",factory:()=>QD});var Ep=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${EN})`}};function fg(t){return t instanceof Ep?t.changingThisBreaksApplicationSecurity:t}var Tx=/^>|^->|<!--|-->|--!>|<!-$/g,bx=/(<|>)/g,Sx="\u200B$1\u200B";function Ax(t){return t.replace(Tx,e=>e.replace(bx,Sx))}function YD(t){return t instanceof Function?t():t}function Rx(t){return(t??P(tt)).get(pn)==="browser"}var Pn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Pn||{}),Nx;function pg(t,e){return Nx(t,e)}function hs(t,e,n,r,i){if(r!=null){let s,o=!1;Vn(r)?s=r:vr(r)&&(o=!0,r=r[Ln]);let a=dn(r);t===0&&n!==null?i==null?tC(e,n,a):Yu(e,n,a,i||null,!0):t===1&&n!==null?Yu(e,n,a,i||null,!0):t===2?Gx(e,a,o):t===3&&e.destroyNode(a),s!=null&&Kx(e,t,s,n,i)}}function Mx(t,e){return t.createText(e)}function xx(t,e,n){t.setValue(e,n)}function Px(t,e){return t.createComment(Ax(e))}function ZD(t,e,n){return t.createElement(e,n)}function Ox(t,e){JD(t,e),e[Ln]=null,e[Xt]=null}function kx(t,e,n,r,i,s){r[Ln]=i,r[Xt]=e,_l(t,r,n,1,i,s)}function JD(t,e){e[Mn].changeDetectionScheduler?.notify(9),_l(t,e,e[Ue],2,null,null)}function Fx(t){let e=t[ia];if(!e)return Kf(t[se],t);for(;e;){let n=null;if(vr(e))n=e[ia];else{let r=e[Ut];r&&(n=r)}if(!n){for(;e&&!e[Zt]&&e!==t;)vr(e)&&Kf(e[se],e),e=e[mt];e===null&&(e=t),vr(e)&&Kf(e[se],e),n=e&&e[Zt]}e=n}}function Lx(t,e,n,r){let i=Ut+r,s=n.length;r>0&&(n[i-1][Zt]=e),r<s-Ut?(e[Zt]=n[i],BE(n,Ut+r,e)):(n.push(e),e[Zt]=null),e[mt]=n;let o=e[Is];o!==null&&n!==o&&XD(o,e);let a=e[ws];a!==null&&a.insertView(t),lp(e),e[K]|=128}function XD(t,e){let n=t[$u],r=e[mt];if(vr(r))t[K]|=Hu.HasTransplantedViews;else{let i=r[mt][ln];e[ln]!==i&&(t[K]|=Hu.HasTransplantedViews)}n===null?t[$u]=[e]:n.push(e)}function gg(t,e){let n=t[$u],r=n.indexOf(e);n.splice(r,1)}function Dp(t,e){if(t.length<=Ut)return;let n=Ut+e,r=t[n];if(r){let i=r[Is];i!==null&&i!==t&&gg(i,r),e>0&&(t[n-1][Zt]=r[Zt]);let s=Lu(t,Ut+e);Ox(r[se],r);let o=s[ws];o!==null&&o.detachView(s[se]),r[mt]=null,r[Zt]=null,r[K]&=-129}return r}function eC(t,e){if(!(e[K]&256)){let n=e[Ue];n.destroyNode&&_l(t,e,n,3,null,null),Fx(e)}}function Kf(t,e){if(e[K]&256)return;let n=pe(null);try{e[K]&=-129,e[K]|=256,e[Vt]&&Ef(e[Vt]),Ux(t,e),Vx(t,e),e[se].type===1&&e[Ue].destroy();let r=e[Is];if(r!==null&&Vn(e[mt])){r!==e[mt]&&gg(r,e);let i=e[ws];i!==null&&i.detachView(t)}Ip(e)}finally{pe(n)}}function Vx(t,e){let n=t.cleanup,r=e[ju];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[ju]=null);let i=e[yr];if(i!==null){e[yr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function Ux(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof hi)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];on(4,a,u);try{u.call(a)}finally{on(5,a,u)}}else{on(4,i,s);try{s.call(i)}finally{on(5,i,s)}}}}}function jx(t,e,n){return Bx(t,e.parent,n)}function Bx(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Ln];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===cn.None||s===cn.Emulated)return null}return Bt(r,n)}}function Yu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function tC(t,e,n){t.appendChild(e,n)}function gE(t,e,n,r,i){r!==null?Yu(t,e,n,r,i):tC(t,e,n)}function nC(t,e){return t.parentNode(e)}function $x(t,e){return t.nextSibling(e)}function Hx(t,e,n){return zx(t,e,n)}function qx(t,e,n){return t.type&40?Bt(t,n):null}var zx=qx,mE;function vl(t,e,n,r){let i=jx(t,r,e),s=e[Ue],o=r.parent||e[Xt],a=Hx(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)gE(s,i,n[u],a,!1);else gE(s,i,n,a,!1);mE!==void 0&&mE(s,r,e,n,i)}function Xo(t,e){if(e!==null){let n=e.type;if(n&3)return Bt(e,t);if(n&4)return Cp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Xo(t,r);{let i=t[e.index];return Vn(i)?Cp(-1,i):dn(i)}}else{if(n&128)return Xo(t,e.next);if(n&32)return pg(e,t)()||dn(t[e.index]);{let r=rC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=li(t[ln]);return Xo(i,r)}else return Xo(t,e.next)}}}return null}function rC(t,e){if(e!==null){let r=t[ln][Xt],i=e.projection;return r.projection[i]}return null}function Cp(t,e){let n=Ut+t+1;if(n<e.length){let r=e[n],i=r[se].firstChild;if(i!==null)return Xo(r,i)}return e[ui]}function Gx(t,e,n){t.removeChild(null,e,n)}function mg(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&Er(dn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)mg(t,e,n.child,r,i,s,!1),hs(e,t,i,a,s);else if(u&32){let l=pg(n,r),h;for(;h=l();)hs(e,t,i,h,s);hs(e,t,i,a,s)}else u&16?Wx(t,e,r,n,i,s):hs(e,t,i,a,s);n=o?n.projectionNext:n.next}}function _l(t,e,n,r,i,s){mg(n,r,t.firstChild,e,i,s,!1)}function Wx(t,e,n,r,i,s){let o=n[ln],u=o[Xt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];hs(e,t,i,h,s)}else{let l=u,h=o[mt];HD(r)&&(l.flags|=128),mg(t,e,l,h,i,s,!0)}}function Kx(t,e,n,r,i){let s=n[ui],o=dn(n);s!==o&&hs(e,t,r,s,i);for(let a=Ut;a<n.length;a++){let u=n[a];_l(u[se],u,t,e,r,s)}}function Qx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Pn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Pn.Important),t.setStyle(n,r,i,s))}}function Yx(t,e,n){t.setAttribute(e,"style",n)}function iC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function sC(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&ip(t,e,r),i!==null&&iC(t,e,i),s!==null&&Yx(t,e,s)}var yi={};function P9(t=1){oC(ct(),De(),Ns()+t,!1)}function oC(t,e,n,r){if(!r)if((e[K]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Mu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&xu(e,s,0,n)}di(n)}function ne(t,e=re.Default){let n=De();if(n===null)return W(t,e);let r=yt();return FD(r,n,pt(t),e)}function aC(){let t="invalid";throw new Error(t)}function cC(t,e,n,r,i,s){let o=pe(null);try{let a=null;i&_r.SignalBased&&(a=e[r][An]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&_r.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):oD(e,a,r,s)}finally{pe(o)}}function Zx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)di(~i);else{let s=i,o=n[++r],a=n[++r];UM(o,s);let u=e[s];a(2,u)}}}finally{di(-1)}}function Il(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[Ln]=i,p[K]=r|4|128|8|64,(l!==null||t&&t[K]&2048)&&(p[K]|=2048),fD(p),p[mt]=p[Rs]=t,p[un]=n,p[Mn]=o||t&&t[Mn],p[Ue]=a||t&&t[Ue],p[_s]=u||t&&t[_s]||null,p[Xt]=s,p[cl]=yx(),p[Uu]=h,p[iD]=l,p[ln]=e.type==2?t[ln]:p,p}function ua(t,e,n,r,i){let s=t.data[e];if(s===null)s=Jx(t,e,n,r,i),VM()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=kM();s.injectorIndex=o===null?-1:o.injectorIndex}return gi(s,!0),s}function Jx(t,e,n,r,i){let s=vD(),o=tg(),a=o?s:s&&s.parent,u=t.data[e]=rP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function uC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function lC(t,e,n,r,i){let s=Ns(),o=r&2;try{di(-1),o&&e.length>jt&&oC(t,e,jt,!1),on(o?2:0,i),n(r,i)}finally{di(s),on(o?3:1,i)}}function yg(t,e,n){if(Xp(e)){let r=pe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{pe(r)}}}function vg(t,e,n){yD()&&(uP(t,e,n,Bt(n,e)),(n.flags&64)===64&&pC(t,e,n))}function _g(t,e,n=Bt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function dC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ig(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ig(t,e,n,r,i,s,o,a,u,l,h){let p=jt+r,m=p+i,v=Xx(p,m),S=typeof l=="function"?l():l;return v[se]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function Xx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:yi);return n}function eP(t,e,n,r){let s=r.get(Cx,QD)||n===cn.ShadowDom,o=t.selectRootElement(e,s);return tP(o),o}function tP(t){nP(t)}var nP=()=>null;function rP(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return xM()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function yE(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=_r.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?vE(r,n,l,a,u):vE(r,n,l,a)}return r}function vE(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function iP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,v=m?m.inputs:null,S=m?m.outputs:null;u=yE(0,p.inputs,h,u,v),l=yE(1,p.outputs,h,l,S);let M=u!==null&&o!==null&&!Qp(e)?IP(u,h,o):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function sP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function hC(t,e,n,r,i,s,o,a){let u=Bt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Eg(t,n,h,r,i),ul(e)&&oP(n,e.index)):e.type&3?(r=sP(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function oP(t,e){let n=Tr(e,t);n[K]&16||(n[K]|=64)}function wg(t,e,n,r){if(yD()){let i=r===null?null:{"":-1},s=dP(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&fC(t,e,n,o,i,a),i&&hP(n,r,i)}n.mergedAttrs=na(n.mergedAttrs,n.attrs)}function fC(t,e,n,r,i,s){for(let l=0;l<r.length;l++)pp(Wu(n,e),t,r[l].type);pP(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=uC(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=na(n.mergedAttrs,h.hostAttrs),gP(t,n,e,u,h),fP(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}iP(t,n,s)}function aP(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;cP(o)!=a&&o.push(a),o.push(n,r,s)}}function cP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function uP(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;ul(n)&&mP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Wu(n,e),Er(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=Ds(e,t,a,n);if(Er(l,e),o!==null&&_P(e,a-i,l,u,n,o),wr(u)){let h=Tr(n.index,e);h[un]=Ds(e,t,a,n)}}}function pC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=jM();try{di(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];dp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&lP(u,l)}}finally{di(-1),dp(o)}}function lP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function dP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(XN(e,o.selectors,!1))if(r||(r=[]),wr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Tp(t,e,u)}else r.unshift(o),Tp(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Tp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function hP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new j(-301,!1);r.push(e[i],s)}}}function fP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;wr(e)&&(n[""]=t)}}function pP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function gP(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=ci(i.type,!0)),o=new hi(s,wr(i),ne);t.blueprint[r]=o,n[r]=o,aP(t,e,r,uC(t,n,i.hostVars,yi),i)}function mP(t,e,n){let r=Bt(e,t),i=dC(n),s=t[Mn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=wl(t,Il(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function yP(t,e,n,r,i,s){let o=Bt(t,e);vP(e[Ue],o,s,t.value,n,r,i)}function vP(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?zp(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function _P(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];cC(r,n,u,l,h,p)}}function IP(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function gC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function mC(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];ED(s),a.contentQueries(2,e[o],o)}}}finally{pe(r)}}}function wl(t,e){return t[ia]?t[iE][Zt]=e:t[ia]=e,t[iE]=e,e}function bp(t,e,n){ED(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function wP(t){return t[ju]??=[]}function EP(t){return t.cleanup??=[]}function yC(t,e){let n=t[_s],r=n?n.get(xn,null):null;r&&r.handleError(e)}function Eg(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];cC(h,l,r,a,u,i)}}function DP(t,e,n){let r=lD(e,t);xx(t[Ue],r,n)}function CP(t,e){let n=Tr(e,t),r=n[se];TP(r,n);let i=n[Ln];i!==null&&n[Uu]===null&&(n[Uu]=hg(i,n[_s])),Dg(r,n,n[un])}function TP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Dg(t,e,n){ng(e);try{let r=t.viewQuery;r!==null&&bp(1,r,n);let i=t.template;i!==null&&lC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ws]?.finishViewCreation(t),t.staticContentQueries&&mC(t,e),t.staticViewQueries&&bp(2,t.viewQuery,n);let s=t.components;s!==null&&bP(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[K]&=-5,rg()}}function bP(t,e){for(let n=0;n<e.length;n++)CP(t,e[n])}function SP(t,e,n,r){let i=pe(null);try{let s=e.tView,a=t[K]&4096?4096:16,u=Il(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Is]=l;let h=t[ws];return h!==null&&(u[ws]=h.createEmbeddedView(s)),Dg(s,u,n),u}finally{pe(i)}}function _E(t,e){return!e||e.firstChild===null||HD(t)}function AP(t,e,n,r=!0){let i=e[se];if(Lx(i,e,t,n),r){let o=Cp(n,t),a=e[Ue],u=nC(a,t[ui]);u!==null&&kx(i,t[Xt],a,e,u,o)}let s=e[Uu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Zu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(dn(s)),Vn(s)&&RP(s,r);let o=n.type;if(o&8)Zu(t,e,n.child,r);else if(o&32){let a=pg(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=rC(e,n);if(Array.isArray(a))r.push(...a);else{let u=li(e[ln]);Zu(u[se],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function RP(t,e){for(let n=Ut;n<t.length;n++){let r=t[n],i=r[se].firstChild;i!==null&&Zu(r[se],r,i,e)}t[ui]!==t[Ln]&&e.push(t[ui])}var vC=[];function NP(t){return t[Vt]??MP(t)}function MP(t){let e=vC.pop()??Object.create(PP);return e.lView=t,e}function xP(t){t.lView[Vt]!==t&&(t.lView=null,vC.push(t))}var PP=oe(k({},Wo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{hl(t.lView)},consumerOnSignalRead(){this.lView[Vt]=this}});function OP(t){let e=t[Vt]??Object.create(kP);return e.lView=t,e}var kP=oe(k({},Wo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=li(t.lView);for(;e&&!_C(e[se]);)e=li(e);e&&pD(e)},consumerOnSignalRead(){this.lView[Vt]=this}});function _C(t){return t.type!==2}var FP=100;function IC(t,e=!0,n=0){let r=t[Mn],i=r.rendererFactory,s=!1;s||i.begin?.();try{LP(t,n)}catch(o){throw e&&yC(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function LP(t,e){let n=ID();try{oE(!0),Sp(t,e);let r=0;for(;dl(t);){if(r===FP)throw new j(103,!1);r++,Sp(t,1)}}finally{oE(n)}}function VP(t,e,n,r){let i=e[K];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Mn].inlineEffectRunner?.flush(),ng(e);let a=!0,u=null,l=null;s||(_C(t)?(l=NP(e),u=Yc(l)):lw()===null?(a=!1,l=OP(e),u=Yc(l)):e[Vt]&&(Ef(e[Vt]),e[Vt]=null));try{fD(e),FM(t.bindingStartIndex),n!==null&&lC(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let v=t.preOrderCheckHooks;v!==null&&Mu(e,v,null)}else{let v=t.preOrderHooks;v!==null&&xu(e,v,0,null),qf(e,0)}if(o||UP(e),wC(e,0),t.contentQueries!==null&&mC(t,e),!s)if(h){let v=t.contentCheckHooks;v!==null&&Mu(e,v)}else{let v=t.contentHooks;v!==null&&xu(e,v,1),qf(e,1)}Zx(t,e);let p=t.components;p!==null&&DC(e,p,0);let m=t.viewQuery;if(m!==null&&bp(2,m,r),!s)if(h){let v=t.viewCheckHooks;v!==null&&Mu(e,v)}else{let v=t.viewHooks;v!==null&&xu(e,v,2),qf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Hf]){for(let v of e[Hf])v();e[Hf]=null}s||(e[K]&=-73)}catch(h){throw s||hl(e),h}finally{l!==null&&(If(l,u),a&&xP(l)),rg()}}function wC(t,e){for(let n=zD(t);n!==null;n=GD(n))for(let r=Ut;r<n.length;r++){let i=n[r];EC(i,e)}}function UP(t){for(let e=zD(t);e!==null;e=GD(e)){if(!(e[K]&Hu.HasTransplantedViews))continue;let n=e[$u];for(let r=0;r<n.length;r++){let i=n[r];pD(i)}}}function jP(t,e,n){let r=Tr(e,t);EC(r,n)}function EC(t,e){eg(t)&&Sp(t,e)}function Sp(t,e){let r=t[se],i=t[K],s=t[Vt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&wf(s)),o||=!1,s&&(s.dirty=!1),t[K]&=-9217,o)VP(r,t,r.template,t[un]);else if(i&8192){wC(t,1);let a=r.components;a!==null&&DC(t,a,1)}}function DC(t,e,n){for(let r=0;r<e.length;r++)jP(t,e[r],n)}function Cg(t,e){let n=ID()?64:1088;for(t[Mn].changeDetectionScheduler?.notify(e);t;){t[K]|=n;let r=li(t);if(cp(t)&&!r)return t;t=r}return null}var fi=class{get rootNodes(){let e=this._lView,n=e[se];return Zu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[un]}set context(e){this._lView[un]=e}get destroyed(){return(this._lView[K]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[mt];if(Vn(e)){let n=e[Bu],r=n?n.indexOf(this):-1;r>-1&&(Dp(e,r),Lu(n,r))}this._attachedToViewContainer=!1}eC(this._lView[se],this._lView)}onDestroy(e){gD(this._lView,e)}markForCheck(){Cg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){lp(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,IC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=cp(this._lView),n=this._lView[Is];n!==null&&!e&&gg(n,this._lView),JD(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let n=cp(this._lView),r=this._lView[Is];r!==null&&!n&&XD(r,this._lView),lp(this._lView)}},El=(()=>{class t{static{this.__NG_ELEMENT_ID__=HP}}return t})(),BP=El,$P=class extends BP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=SP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new fi(i)}};function HP(){return qP(yt(),De())}function qP(t,e){return t.type&4?new $P(e,t,yl(t,e)):null}var k9=new RegExp(`^(\\d+)*(${Ex}|${wx})*(.*)`);var zP=()=>null;function IE(t,e){return zP(t,e)}var Cs=class{},Dl=new U("",{providedIn:"root",factory:()=>!1});var CC=new U(""),TC=new U(""),Ap=class{},Ju=class{};function GP(t){let e=Error(`No component factory found for ${gt(t)}.`);return e[WP]=t,e}var WP="ngComponent";var Rp=class{resolveComponentFactory(e){throw GP(e)}},Ts=class{static{this.NULL=new Rp}},bs=class{},xs=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>KP()}}return t})();function KP(){let t=De(),e=yt(),n=Tr(e.index,t);return(vr(n)?n:t)[Ue]}var QP=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>null})}}return t})();function Xu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Kw(i,a);else if(s==2){let u=a,l=e[++o];r=Kw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var el=class extends Ts{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ir(e);return new Ss(n,this.ngModule)}};function wE(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:_r.None;e?n.push({propName:o,templateName:r,isSignal:(a&_r.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function YP(t){let e=t.toLowerCase();return e==="svg"?CM:e==="math"?TM:null}var Ss=class extends Ju{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=wE(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return wE(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=rM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=pe(null);try{i=i||this.ngModule;let o=i instanceof At?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new hp(e,o):e,u=a.get(bs,null);if(u===null)throw new j(407,!1);let l=a.get(QP,null),h=a.get(Cs,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",S=r?eP(m,r,this.componentDef.encapsulation,a):ZD(m,v,YP(v)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;S!==null&&(R=hg(S,a,!0));let F=Ig(0,null,null,1,0,null,null,null,null,null,null),H=Il(null,F,null,M,null,null,p,m,a,null,R);ng(H);let q,ie,Me=null;try{let Z=this.componentDef,D,y=null;Z.findHostDirectiveDefs?(D=[],y=new Map,Z.findHostDirectiveDefs(Z,D,y),D.push(Z)):D=[Z];let _=ZP(H,S);Me=JP(_,S,Z,D,H,p,m),ie=dD(F,jt),S&&tO(m,Z,S,r),n!==void 0&&nO(ie,this.ngContentSelectors,n),q=eO(Me,Z,D,y,H,[rO]),Dg(F,H,null)}catch(Z){throw Me!==null&&Ip(Me),Ip(H),Z}finally{rg()}return new Np(this.componentType,q,yl(ie,H),H,ie)}finally{pe(s)}}},Np=class extends Ap{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new fi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Eg(s[se],s,i,e,n),this.previousInputValues.set(e,n);let o=Tr(this._tNode.index,s);Cg(o,1)}}get injector(){return new ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ZP(t,e){let n=t[se],r=jt;return t[r]=e,ua(n,r,2,"#host",null)}function JP(t,e,n,r,i,s,o){let a=i[se];XP(r,t,e,o);let u=null;e!==null&&(u=hg(e,i[_s]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Il(i,dC(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&Tp(a,t,r.length-1),wl(i,p),i[t.index]=p}function XP(t,e,n,r){for(let i of t)e.mergedAttrs=na(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Xu(e,e.mergedAttrs,!0),n!==null&&sC(r,n,e))}function eO(t,e,n,r,i,s){let o=yt(),a=i[se],u=Bt(o,i);fC(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=Ds(i,a,p,o);Er(m,i)}pC(a,i,o),u&&Er(u,i);let l=Ds(i,a,o.directiveStart+o.componentOffset,o);if(t[un]=i[un]=l,s!==null)for(let h of s)h(l,e);return yg(a,o,i),l}function tO(t,e,n,r){if(r)ip(t,n,["ng-version","18.2.6"]);else{let{attrs:i,classes:s}=iM(e.selectors[0]);i&&ip(t,n,i),s&&s.length>0&&iC(t,n,s.join(" "))}}function nO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function rO(){let t=yt();ml(De()[se],t)}var Ps=(()=>{class t{static{this.__NG_ELEMENT_ID__=iO}}return t})();function iO(){let t=yt();return oO(t,De())}var sO=Ps,bC=class extends sO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return yl(this._hostTNode,this._hostLView)}get injector(){return new ai(this._hostTNode,this._hostLView)}get parentInjector(){let e=sg(this._hostTNode,this._hostLView);if(ND(e)){let n=zu(e,this._hostLView),r=qu(e),i=n[se].data[r+8];return new ai(i,n)}else return new ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=EE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ut}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=IE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,_E(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!IM(e),a;if(o)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new Ss(Ir(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(At,null);M&&(s=M)}let h=Ir(u.componentType??{}),p=IE(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,s);return this.insertImpl(v.hostView,a,_E(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(bM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[mt],l=new bC(u,u[Xt],u[mt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return AP(o,i,s,r),e.attachToViewContainerRef(),BE(Qf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=EE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Dp(this._lContainer,n);r&&(Lu(Qf(this._lContainer),n),eC(r[se],r))}detach(e){let n=this._adjustIndex(e,-1),r=Dp(this._lContainer,n);return r&&Lu(Qf(this._lContainer),n)!=null?new fi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function EE(t){return t[Bu]}function Qf(t){return t[Bu]||(t[Bu]=[])}function oO(t,e){let n,r=e[t.index];return Vn(r)?n=r:(n=gC(r,e,null,t),e[t.index]=n,wl(e,n)),cO(n,e,t,r),new bC(n,t,e)}function aO(t,e){let n=t[Ue],r=n.createComment(""),i=Bt(e,t),s=nC(n,i);return Yu(n,s,r,$x(n,i),!1),r}var cO=dO,uO=()=>!1;function lO(t,e,n){return uO(t,e,n)}function dO(t,e,n,r){if(t[ui])return;let i;n.type&8?i=dn(r):i=aO(e,n),t[ui]=i}var DE=new Set;function Os(t){DE.has(t)||(DE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function hO(t){return typeof t=="function"&&t[An]!==void 0}function ks(t,e){Os("NgSignals");let n=ww(t),r=n[An];return e?.equal&&(r.equal=e.equal),n.set=i=>Df(r,i),n.update=i=>Ew(r,i),n.asReadonly=fO.bind(n),n}function fO(){let t=this[An];if(t.readonlyFn===void 0){let e=()=>this();e[An]=t,t.readonlyFn=e}return t.readonlyFn}function SC(t){return hO(t)&&typeof t.set=="function"}function pO(t){return Object.getPrototypeOf(t.prototype).constructor}function Rt(t){let e=pO(t.type),n=!0,r=[t];for(;e;){let i;if(wr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Su(t.inputs),o.inputTransforms=Su(t.inputTransforms),o.declaredInputs=Su(t.declaredInputs),o.outputs=Su(t.outputs);let a=i.hostBindings;a&&_O(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&yO(t,u),l&&vO(t,l),gO(t,i),CN(t.outputs,i.outputs),wr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Rt&&(n=!1)}}e=Object.getPrototypeOf(e)}mO(r)}function gO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function mO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=na(i.hostAttrs,n=na(n,i.hostAttrs))}}function Su(t){return t===ms?{}:t===Lt?[]:t}function yO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function vO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function _O(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var Dr=class{},sa=class{};var Mp=class extends Dr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new el(this);let s=YE(e);this._bootstrapComponents=YD(s.bootstrap),this._r3Injector=UD(e,n,[{provide:Dr,useValue:this},{provide:Ts,useValue:this.componentFactoryResolver},...r],gt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},xp=class extends sa{constructor(e){super(),this.moduleType=e}create(e){return new Mp(this.moduleType,e,[])}};var tl=class extends Dr{constructor(e){super(),this.componentFactoryResolver=new el(this),this.instance=null;let n=new ra([...e.providers,{provide:Dr,useValue:this},{provide:Ts,useValue:this.componentFactoryResolver}],e.parent||Jp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Cl(t,e,n=null){return new tl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function AC(t){return wO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function IO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function wO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function RC(t,e,n){return t[e]=n}function Cr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function EO(t,e,n,r){let i=Cr(t,e,n);return Cr(t,e+1,r)||i}function DO(t){return(t.flags&32)===32}function CO(t,e,n,r,i,s,o,a,u){let l=e.consts,h=ua(e,t,4,o||null,a||null);wg(e,n,h,Es(l,u)),ml(e,h);let p=h.tView=Ig(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function TO(t,e,n,r,i,s,o,a,u,l){let h=n+jt,p=e.firstCreatePass?CO(h,e,t,r,i,s,o,a,u):e.data[h];gi(p,!1);let m=SO(e,t,p,n);pl()&&vl(e,t,m,p),Er(m,t);let v=gC(m,t,m,p);return t[h]=v,wl(t,v),lO(v,p,t),ll(p)&&vg(e,t,p),u!=null&&_g(t,p,l),p}function bO(t,e,n,r,i,s,o,a){let u=De(),l=ct(),h=Es(l.consts,s);return TO(u,l,t,e,n,r,i,h,o,a),bO}var SO=AO;function AO(t,e,n,r){return gl(!0),e[Ue].createComment("")}var fs=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(fs||{}),NC=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}}return t})(),Pp=class t{constructor(){this.ngZone=P(_e),this.scheduler=P(Cs),this.errorHandler=P(xn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[fs.EarlyRead,fs.Write,fs.MixedReadWrite,fs.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}},Op=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Tg(t,e){!e?.injector&&_M(Tg);let n=e?.injector??P(tt);return Rx(n)?(Os("NgAfterNextRender"),NO(t,n,e,!0)):MO}function RO(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function NO(t,e,n,r){let i=e.get(NC);i.impl??=e.get(Pp);let s=n?.phase??fs.MixedReadWrite,o=new Op(i.impl,RO(t,s),r,e.get(og));return i.impl.register(o),o}var MO={destroy(){}};function Fs(t,e,n,r){let i=De(),s=fl();if(Cr(i,s,e)){let o=ct(),a=ig();yP(a,i,t,e,n,r)}return Fs}function xO(t,e,n,r){return Cr(t,fl(),n)?e+zp(n)+r:yi}function Au(t,e){return t<<17|e<<2}function pi(t){return t>>17&32767}function PO(t){return(t&2)==2}function OO(t,e){return t&131071|e<<17}function kp(t){return t|2}function As(t){return(t&131068)>>2}function Yf(t,e){return t&-131069|e<<2}function kO(t){return(t&1)===1}function Fp(t){return t|1}function FO(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=pi(o),u=As(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ca(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=pi(t[a+1]);t[r+1]=Au(m,a),m!==0&&(t[m+1]=Yf(t[m+1],r)),t[a+1]=OO(t[a+1],r)}else t[r+1]=Au(a,0),a!==0&&(t[a+1]=Yf(t[a+1],r)),a=r;else t[r+1]=Au(u,0),a===0?a=r:t[u+1]=Yf(t[u+1],r),u=r;l&&(t[r+1]=kp(t[r+1])),CE(t,h,r,!0),CE(t,h,r,!1),LO(e,h,t,r,s),o=Au(a,u),s?e.classBindings=o:e.styleBindings=o}function LO(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ca(s,e)>=0&&(n[r+1]=Fp(n[r+1]))}function CE(t,e,n,r){let i=t[n+1],s=e===null,o=r?pi(i):As(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];VO(u,e)&&(a=!0,t[o+1]=r?Fp(l):kp(l)),o=r?pi(l):As(l)}a&&(t[n+1]=r?kp(i):Fp(i))}function VO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ca(t,e)>=0:!1}function UO(t,e,n){let r=De(),i=fl();if(Cr(r,i,e)){let s=ct(),o=ig();hC(s,o,r,t,e,r[Ue],n,!1)}return UO}function TE(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Eg(t,n,s[o],o,r)}function Tl(t,e){return jO(t,e,null,!0),Tl}function jO(t,e,n,r){let i=De(),s=ct(),o=LM(2);if(s.firstUpdatePass&&$O(s,t,o,r),e!==yi&&Cr(i,o,e)){let a=s.data[Ns()];WO(s,a,i,i[Ue],t,i[o+1]=KO(e,n),r,o)}}function BO(t,e){return e>=t.expandoStartIndex}function $O(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ns()],o=BO(t,n);QO(s,r)&&e===null&&!o&&(e=!1),e=HO(i,s,e,r),FO(i,s,e,n,o,r)}}function HO(t,e,n,r){let i=BM(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Zf(null,t,e,n,r),n=oa(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Zf(i,t,e,n,r),s===null){let u=qO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Zf(null,t,e,u[1],r),u=oa(u,e.attrs,r),zO(t,e,r,u))}else s=GO(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function qO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(As(r)!==0)return t[pi(r)]}function zO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[pi(i)]=r}function GO(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=oa(r,o,n)}return oa(r,e.attrs,n)}function Zf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=oa(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function oa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),qN(t,o,n?!0:e[++s]))}return t===void 0?null:t}function WO(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=kO(l)?bE(u,e,n,i,As(l),o):void 0;if(!nl(h)){nl(s)||PO(l)&&(s=bE(u,null,n,i,a,o));let p=lD(Ns(),n);Qx(r,o,p,i,s)}}function bE(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===yi&&(m=p?Lt:void 0);let v=p?Bf(m,r):h===r?m:void 0;if(l&&!nl(v)&&(v=Bf(u,r)),nl(v)&&(a=v,o))return a;let S=t[i+1];i=o?pi(S):As(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Bf(u,r))}return a}function nl(t){return t!==void 0}function KO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=gt(fg(t)))),t}function QO(t,e){return(t.flags&(e?8:16))!==0}function YO(t,e,n,r,i,s){let o=e.consts,a=Es(o,i),u=ua(e,t,2,r,a);return wg(e,n,u,Es(o,s)),u.attrs!==null&&Xu(u,u.attrs,!1),u.mergedAttrs!==null&&Xu(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function MC(t,e,n,r){let i=De(),s=ct(),o=jt+t,a=i[Ue],u=s.firstCreatePass?YO(o,s,i,e,n,r):s.data[o],l=ZO(s,i,u,a,e,t);i[o]=l;let h=ll(u);return gi(u,!0),sC(a,l,u),!DO(u)&&pl()&&vl(s,i,l,u),RM()===0&&Er(l,i),NM(),h&&(vg(s,i,u),yg(s,u,i)),r!==null&&_g(i,u),MC}function xC(){let t=yt();tg()?_D():(t=t.parent,gi(t,!1));let e=t;PM(e)&&OM(),MM();let n=ct();return n.firstCreatePass&&(ml(n,t),Xp(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&KM(e)&&TE(n,e,De(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&QM(e)&&TE(n,e,De(),e.stylesWithoutHost,!1),xC}function bg(t,e,n,r){return MC(t,e,n,r),xC(),bg}var ZO=(t,e,n,r,i,s)=>(gl(!0),ZD(r,i,qM()));function JO(t,e,n,r,i){let s=e.consts,o=Es(s,r),a=ua(e,t,8,"ng-container",o);o!==null&&Xu(a,o,!0);let u=Es(s,i);return wg(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function XO(t,e,n){let r=De(),i=ct(),s=t+jt,o=i.firstCreatePass?JO(s,i,r,e,n):i.data[s];gi(o,!0);let a=tk(i,r,o,t);return r[s]=a,pl()&&vl(i,r,a,o),Er(a,r),ll(o)&&(vg(i,r,o),yg(i,o,r)),n!=null&&_g(r,o),XO}function ek(){let t=yt(),e=ct();return tg()?_D():(t=t.parent,gi(t,!1)),e.firstCreatePass&&(ml(e,t),Xp(t)&&e.queries.elementEnd(t)),ek}var tk=(t,e,n,r)=>(gl(!0),Px(e[Ue],""));var oi=void 0;function nk(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var rk=["en",[["a","p"],["AM","PM"],oi],[["AM","PM"],oi,oi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],oi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],oi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",oi,"{1} 'at' {0}",oi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",nk],Jf={};function $t(t){let e=ik(t),n=SE(e);if(n)return n;let r=e.split("-")[0];if(n=SE(r),n)return n;if(r==="en")return rk;throw new j(701,!1)}function SE(t){return t in Jf||(Jf[t]=Jo.ng&&Jo.ng.common&&Jo.ng.common.locales&&Jo.ng.common.locales[t]),Jf[t]}var Fe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Fe||{});function ik(t){return t.toLowerCase().replace(/_/g,"-")}var rl="en-US";var sk=rl;function ok(t){typeof t=="string"&&(sk=t.toLowerCase().replace(/_/g,"-"))}var ak=(t,e,n)=>{};function Ls(t,e,n,r){let i=De(),s=ct(),o=yt();return PC(s,i,i[Ue],o,t,e,r),Ls}function ck(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[ju],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function PC(t,e,n,r,i,s,o){let a=ll(r),l=t.firstCreatePass&&EP(t),h=e[un],p=wP(e),m=!0;if(r.type&3||o){let M=Bt(r,e),R=o?o(M):M,F=p.length,H=o?ie=>o(dn(ie[r.index])):r.index,q=null;if(!o&&a&&(q=ck(t,e,i,r.index)),q!==null){let ie=q.__ngLastListenerFn__||q;ie.__ngNextListenerFn__=s,q.__ngLastListenerFn__=s,m=!1}else{s=RE(r,e,h,s),ak(M,i,s);let ie=n.listen(R,i,s);p.push(s,ie),l&&l.push(i,H,F,F+1)}}else s=RE(r,e,h,s);let v=r.outputs,S;if(m&&v!==null&&(S=v[i])){let M=S.length;if(M)for(let R=0;R<M;R+=2){let F=S[R],H=S[R+1],Me=e[F][H].subscribe(s),Z=p.length;p.push(s,Me),l&&l.push(i,r.index,Z,-(Z+1))}}}function AE(t,e,n,r){let i=pe(null);try{return on(6,e,n),n(r)!==!1}catch(s){return yC(t,s),!1}finally{on(7,e,n),pe(i)}}function RE(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Tr(t.index,e):e;Cg(o,5);let a=AE(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=AE(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function L9(t=1){return HM(t)}function uk(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function V9(t,e=""){let n=De(),r=ct(),i=t+jt,s=r.firstCreatePass?ua(r,i,1,e,null):r.data[i],o=lk(r,n,s,e,t);n[i]=o,pl()&&vl(r,n,o,s),gi(s,!1)}var lk=(t,e,n,r,i)=>(gl(!0),Mx(e[Ue],r));function dk(t){return OC("",t,""),dk}function OC(t,e,n){let r=De(),i=xO(r,t,e,n);return i!==yi&&DP(r,Ns(),i),OC}function hk(t,e,n){SC(e)&&(e=e());let r=De(),i=fl();if(Cr(r,i,e)){let s=ct(),o=ig();hC(s,o,r,t,e,r[Ue],n,!1)}return hk}function U9(t,e){let n=SC(t);return n&&t.set(e),n}function fk(t,e){let n=De(),r=ct(),i=yt();return PC(r,n,n[Ue],i,t,e),fk}function pk(t,e,n){let r=ct();if(r.firstCreatePass){let i=wr(t);Lp(n,r.data,r.blueprint,i,!0),Lp(e,r.data,r.blueprint,i,!1)}}function Lp(t,e,n,r,i){if(t=pt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Lp(t[s],e,n,r,i);else{let s=ct(),o=De(),a=yt(),u=vs(t)?t:pt(t.provide),l=nD(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(vs(t)||!t.multi){let v=new hi(l,i,ne),S=ep(u,e,i?h:h+m,p);S===-1?(pp(Wu(a,o),s,u),Xf(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)):(n[S]=v,o[S]=v)}else{let v=ep(u,e,h+m,p),S=ep(u,e,h,h+m),M=v>=0&&n[v],R=S>=0&&n[S];if(i&&!R||!i&&!M){pp(Wu(a,o),s,u);let F=yk(i?mk:gk,n.length,i,r,l);!i&&R&&(n[S].providerFactory=F),Xf(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=kC(n[i?S:v],l,!i&&r);Xf(s,t,v>-1?v:S,F)}!i&&r&&R&&n[S].componentProviders++}}}function Xf(t,e,n,r){let i=vs(e),s=hM(e);if(i||s){let u=(s?pt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function kC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ep(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function gk(t,e,n,r){return Vp(this.multi,[])}function mk(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ds(n,n[se],this.providerFactory.index,r);s=a.slice(0,o),Vp(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Vp(i,s);return s}function Vp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function yk(t,e,n,r,i){let s=new hi(t,n,ne);return s.multi=[],s.index=e,s.componentProviders=0,kC(s,i,r&&!n),s}function jn(t,e=[]){return n=>{n.providersResolver=(r,i)=>pk(r,i?i(t):t,e)}}var vk=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=XE(!1,n.type),i=r.length>0?Cl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(W(At))})}}return t})();function FC(t){Os("NgStandalone"),t.getStandaloneInjector=e=>e.get(vk).getOrCreateStandaloneInjector(t)}function LC(t,e){let n=t[e];return n===yi?void 0:n}function _k(t,e,n,r,i,s){let o=e+n;return Cr(t,o,i)?RC(t,o+1,s?r.call(s,i):r(i)):LC(t,o+1)}function Ik(t,e,n,r,i,s,o){let a=e+n;return EO(t,a,i,s)?RC(t,a+2,o?r.call(o,i,s):r(i,s)):LC(t,a+2)}function j9(t,e){let n=ct(),r,i=t+jt;n.firstCreatePass?(r=wk(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=ci(r.type,!0)),o,a=Et(ne);try{let u=Gu(!1),l=s();return Gu(u),uk(n,De(),i,l),l}finally{Et(a)}}function wk(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function B9(t,e,n){let r=t+jt,i=De(),s=hD(i,r);return VC(i,r)?_k(i,wD(),e,s.transform,n,s):s.transform(n)}function $9(t,e,n,r){let i=t+jt,s=De(),o=hD(s,i);return VC(s,i)?Ik(s,wD(),e,o.transform,n,r,o):o.transform(n,r)}function VC(t,e){return t[se].data[e].pure}var On=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},UC=new On("18.2.6");var bl=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var jC=new U("");function Sr(t){return!!t&&typeof t.then=="function"}function Sg(t){return!!t&&typeof t.subscribe=="function"}var Sl=new U(""),BC=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=P(Sl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(Sr(s))n.push(s);else if(Sg(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Al=new U("");function Ek(){Iw(()=>{throw new j(600,!1)})}function Dk(t){return t.isBoundToModule}var Ck=10;function Tk(t,e,n){try{let r=n();return Sr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var vi=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(px),this.afterRenderManager=P(NC),this.zonelessEnabled=P(Dl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Xe,this.afterTick=new Xe,this.componentTypes=[],this.components=[],this.isStable=P(Ms).hasPendingTasks.pipe(te(n=>!n)),this._injector=P(At)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Ju;if(!this._injector.get(BC).done){let m=!i&&QE(n),v=!1;throw new j(405,v)}let o;i?o=n:o=this._injector.get(Ts).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=Dk(o)?void 0:this._injector.get(Dr),u=r||o.selector,l=o.create(tt.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(jC,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Pu(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new j(101,!1);let n=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,pe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(bs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<Ck;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)bk(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>dl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Pu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Al,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Pu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Pu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function bk(t,e,n,r){if(!n&&!dl(t))return;IC(t,e,n&&!r?0:1)}var Up=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Rl=(()=>{class t{compileModuleSync(n){return new xp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=YE(n),s=YD(i.declarations).reduce((o,a)=>{let u=Ir(a);return u&&o.push(new Ss(u)),o},[]);return new Up(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Sk=(()=>{class t{constructor(){this.zone=P(_e),this.changeDetectionScheduler=P(Cs),this.applicationRef=P(vi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ak=new U("",{factory:()=>!1});function $C({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new _e(oe(k({},HC()),{scheduleInRootZone:n})),[{provide:_e,useFactory:t},{provide:ys,multi:!0,useFactory:()=>{let r=P(Sk,{optional:!0});return()=>r.initialize()}},{provide:ys,multi:!0,useFactory:()=>{let r=P(Rk);return()=>{r.initialize()}}},e===!0?{provide:CC,useValue:!0}:[],{provide:TC,useValue:n??jD}]}function H9(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=$C({ngZoneFactory:()=>{let i=HC(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Os("NgZone_CoalesceEvent"),new _e(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return hn([{provide:Ak,useValue:!0},{provide:Dl,useValue:!1},r])}function HC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Rk=(()=>{class t{constructor(){this.subscription=new Pe,this.initialized=!1,this.zone=P(_e),this.pendingTasks=P(Ms)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Nk=(()=>{class t{constructor(){this.appRef=P(vi),this.taskService=P(Ms),this.ngZone=P(_e),this.zonelessEnabled=P(Dl),this.disableScheduling=P(CC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Pe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Qu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(TC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof _p||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?dE:BD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Qu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,dE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Mk(){return typeof $localize<"u"&&$localize.locale||rl}var Nl=new U("",{providedIn:"root",factory:()=>P(Nl,re.Optional|re.SkipSelf)||Mk()});var qC=new U("");function Ru(t){return!!t.platformInjector}function xk(t){let e=Ru(t)?t.r3Injector:t.moduleRef.injector,n=e.get(_e);return n.run(()=>{Ru(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(xn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Ru(t)){let s=()=>e.destroy(),o=t.platformInjector.get(qC);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{Pu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return Tk(r,n,()=>{let s=e.get(BC);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Nl,rl);if(ok(o||rl),Ru(t)){let a=e.get(vi);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return Pk(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Pk(t,e){let n=t.injector.get(vi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new j(-403,!1);e.push(t)}var Ou=null;function Ok(t=[],e){return tt.create({name:e,providers:[{provide:al,useValue:"platform"},{provide:qC,useValue:new Set([()=>Ou=null])},...t]})}function kk(t=[]){if(Ou)return Ou;let e=Ok(t);return Ou=e,Ek(),Fk(e),e}function Fk(t){t.get(lg,null)?.forEach(n=>n())}var Ar=(()=>{class t{static{this.__NG_ELEMENT_ID__=Lk}}return t})();function Lk(t){return Vk(yt(),De(),(t&16)===16)}function Vk(t,e,n){if(ul(t)&&!n){let r=Tr(t.index,e);return new fi(r,r)}else if(t.type&175){let r=e[ln];return new fi(r,e)}return null}var jp=class{constructor(){}supports(e){return AC(e)}create(e){return new Bp(e)}},Uk=(t,e)=>e,Bp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Uk}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<NE(r,i,s)?n:r,a=NE(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let v=m<s.length?s[m]:s[m]=0,S=v+m;h<=S&&S<l&&(s[m]=v+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!AC(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,IO(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new $p(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new il),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new il),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},$p=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Hp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},il=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Hp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function NE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function ME(){return new Ag([new jp])}var Ag=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:ME})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||ME()),deps:[[t,new Wp,new at]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new j(901,!1)}}return t})();function zC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=kk(r),s=[$C({}),{provide:Cs,useExisting:Nk},...n||[]],o=new tl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return xk({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var GC=new U("");function la(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Vs(t,e){Os("NgSignals");let n=yw(t);return e?.equal&&(n[An].equal=e.equal),n}function Ht(t){let e=pe(null);try{return t()}finally{pe(e)}}function WC(t){let e=Ir(t);if(!e)return null;let n=new Ss(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var XC=null;function qn(){return XC}function eT(t){XC??=t}var Ul=class{};var _t=new U(""),Vg=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>P($k),providedIn:"platform"})}}return t})(),tT=new U(""),$k=(()=>{class t extends Vg{constructor(){super(),this._doc=P(_t),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qn().getBaseHref(this._doc)}onPopState(n){let r=qn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=qn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Ug(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function KC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function $n(t){return t&&t[0]!=="?"?"?"+t:t}var _i=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>P(jg),providedIn:"root"})}}return t})(),nT=new U(""),jg=(()=>{class t extends _i{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(_t).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ug(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+$n(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+$n(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+$n(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(W(Vg),W(nT,8))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),rT=(()=>{class t extends _i{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Ug(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+$n(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+$n(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(W(Vg),W(nT,8))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Us=(()=>{class t{constructor(n){this._subject=new Oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=zk(KC(QC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+$n(r))}normalize(n){return t.stripTrailingSlash(qk(this._basePath,QC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+$n(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+$n(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=$n}static{this.joinWithSlash=Ug}static{this.stripTrailingSlash=KC}static{this.\u0275fac=function(r){return new(r||t)(W(_i))}}static{this.\u0275prov=B({token:t,factory:()=>Hk(),providedIn:"root"})}}return t})();function Hk(){return new Us(W(_i))}function qk(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function QC(t){return t.replace(/\/index.html$/,"")}function zk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var vt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(vt||{}),Ce=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ce||{}),Nt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Nt||{}),Rr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Gk(t){return $t(t)[Fe.LocaleId]}function Wk(t,e,n){let r=$t(t),i=[r[Fe.DayPeriodsFormat],r[Fe.DayPeriodsStandalone]],s=qt(i,e);return qt(s,n)}function Kk(t,e,n){let r=$t(t),i=[r[Fe.DaysFormat],r[Fe.DaysStandalone]],s=qt(i,e);return qt(s,n)}function Qk(t,e,n){let r=$t(t),i=[r[Fe.MonthsFormat],r[Fe.MonthsStandalone]],s=qt(i,e);return qt(s,n)}function Yk(t,e){let r=$t(t)[Fe.Eras];return qt(r,e)}function Ml(t,e){let n=$t(t);return qt(n[Fe.DateFormat],e)}function xl(t,e){let n=$t(t);return qt(n[Fe.TimeFormat],e)}function Pl(t,e){let r=$t(t)[Fe.DateTimeFormat];return qt(r,e)}function $l(t,e){let n=$t(t),r=n[Fe.NumberSymbols][e];if(typeof r>"u"){if(e===Rr.CurrencyDecimal)return n[Fe.NumberSymbols][Rr.Decimal];if(e===Rr.CurrencyGroup)return n[Fe.NumberSymbols][Rr.Group]}return r}function iT(t){if(!t[Fe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Fe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Zk(t){let e=$t(t);return iT(e),(e[Fe.ExtraData][2]||[]).map(r=>typeof r=="string"?Rg(r):[Rg(r[0]),Rg(r[1])])}function Jk(t,e,n){let r=$t(t);iT(r);let i=[r[Fe.ExtraData][0],r[Fe.ExtraData][1]],s=qt(i,e)||[];return qt(s,n)||[]}function qt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Rg(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var Xk=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ol={},e1=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Hn=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Hn||{}),ve=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ve||{}),ye=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ye||{});function t1(t,e,n,r){let i=l1(t);e=Bn(n,e)||e;let o=[],a;for(;e;)if(a=e1.exec(e),a){o=o.concat(a.slice(1));let h=o.pop();if(!h)break;e=h}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=oT(r,u),i=u1(i,r,!0));let l="";return o.forEach(h=>{let p=a1(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function jl(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Bn(t,e){let n=Gk(t);if(Ol[n]??={},Ol[n][e])return Ol[n][e];let r="";switch(e){case"shortDate":r=Ml(t,Nt.Short);break;case"mediumDate":r=Ml(t,Nt.Medium);break;case"longDate":r=Ml(t,Nt.Long);break;case"fullDate":r=Ml(t,Nt.Full);break;case"shortTime":r=xl(t,Nt.Short);break;case"mediumTime":r=xl(t,Nt.Medium);break;case"longTime":r=xl(t,Nt.Long);break;case"fullTime":r=xl(t,Nt.Full);break;case"short":let i=Bn(t,"shortTime"),s=Bn(t,"shortDate");r=kl(Pl(t,Nt.Short),[i,s]);break;case"medium":let o=Bn(t,"mediumTime"),a=Bn(t,"mediumDate");r=kl(Pl(t,Nt.Medium),[o,a]);break;case"long":let u=Bn(t,"longTime"),l=Bn(t,"longDate");r=kl(Pl(t,Nt.Long),[u,l]);break;case"full":let h=Bn(t,"fullTime"),p=Bn(t,"fullDate");r=kl(Pl(t,Nt.Full),[h,p]);break}return r&&(Ol[n][e]=r),r}function kl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function en(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function n1(t,e){return en(t,3).substring(0,e)}function Be(t,e,n=0,r=!1,i=!1){return function(s,o){let a=r1(t,s);if((n>0||a>-n)&&(a+=n),t===ve.Hours)a===0&&n===-12&&(a=12);else if(t===ve.FractionalSeconds)return n1(a,e);let u=$l(o,Rr.MinusSign);return en(a,e,u,r,i)}}function r1(t,e){switch(t){case ve.FullYear:return e.getFullYear();case ve.Month:return e.getMonth();case ve.Date:return e.getDate();case ve.Hours:return e.getHours();case ve.Minutes:return e.getMinutes();case ve.Seconds:return e.getSeconds();case ve.FractionalSeconds:return e.getMilliseconds();case ve.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function be(t,e,n=vt.Format,r=!1){return function(i,s){return i1(i,s,t,e,n,r)}}function i1(t,e,n,r,i,s){switch(n){case ye.Months:return Qk(e,i,r)[t.getMonth()];case ye.Days:return Kk(e,i,r)[t.getDay()];case ye.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let l=Zk(e),h=Jk(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[v,S]=m,M=o>=v.hours&&a>=v.minutes,R=o<S.hours||o===S.hours&&a<S.minutes;if(v.hours<S.hours){if(M&&R)return!0}else if(M||R)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return Wk(e,i,r)[o<12?0:1];case ye.Eras:return Yk(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Fl(t){return function(e,n,r){let i=-1*r,s=$l(n,Rr.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Hn.Short:return(i>=0?"+":"")+en(o,2,s)+en(Math.abs(i%60),2,s);case Hn.ShortGMT:return"GMT"+(i>=0?"+":"")+en(o,1,s);case Hn.Long:return"GMT"+(i>=0?"+":"")+en(o,2,s)+":"+en(Math.abs(i%60),2,s);case Hn.Extended:return r===0?"Z":(i>=0?"+":"")+en(o,2,s)+":"+en(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var s1=0,Vl=4;function o1(t){let e=jl(t,s1,1).getDay();return jl(t,0,1+(e<=Vl?Vl:Vl+7)-e)}function sT(t){let e=t.getDay(),n=e===0?-3:Vl-e;return jl(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Ng(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=sT(n),o=o1(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return en(i,t,$l(r,Rr.MinusSign))}}function Ll(t,e=!1){return function(n,r){let s=sT(n).getFullYear();return en(s,t,$l(r,Rr.MinusSign),e)}}var Mg={};function a1(t){if(Mg[t])return Mg[t];let e;switch(t){case"G":case"GG":case"GGG":e=be(ye.Eras,Ce.Abbreviated);break;case"GGGG":e=be(ye.Eras,Ce.Wide);break;case"GGGGG":e=be(ye.Eras,Ce.Narrow);break;case"y":e=Be(ve.FullYear,1,0,!1,!0);break;case"yy":e=Be(ve.FullYear,2,0,!0,!0);break;case"yyy":e=Be(ve.FullYear,3,0,!1,!0);break;case"yyyy":e=Be(ve.FullYear,4,0,!1,!0);break;case"Y":e=Ll(1);break;case"YY":e=Ll(2,!0);break;case"YYY":e=Ll(3);break;case"YYYY":e=Ll(4);break;case"M":case"L":e=Be(ve.Month,1,1);break;case"MM":case"LL":e=Be(ve.Month,2,1);break;case"MMM":e=be(ye.Months,Ce.Abbreviated);break;case"MMMM":e=be(ye.Months,Ce.Wide);break;case"MMMMM":e=be(ye.Months,Ce.Narrow);break;case"LLL":e=be(ye.Months,Ce.Abbreviated,vt.Standalone);break;case"LLLL":e=be(ye.Months,Ce.Wide,vt.Standalone);break;case"LLLLL":e=be(ye.Months,Ce.Narrow,vt.Standalone);break;case"w":e=Ng(1);break;case"ww":e=Ng(2);break;case"W":e=Ng(1,!0);break;case"d":e=Be(ve.Date,1);break;case"dd":e=Be(ve.Date,2);break;case"c":case"cc":e=Be(ve.Day,1);break;case"ccc":e=be(ye.Days,Ce.Abbreviated,vt.Standalone);break;case"cccc":e=be(ye.Days,Ce.Wide,vt.Standalone);break;case"ccccc":e=be(ye.Days,Ce.Narrow,vt.Standalone);break;case"cccccc":e=be(ye.Days,Ce.Short,vt.Standalone);break;case"E":case"EE":case"EEE":e=be(ye.Days,Ce.Abbreviated);break;case"EEEE":e=be(ye.Days,Ce.Wide);break;case"EEEEE":e=be(ye.Days,Ce.Narrow);break;case"EEEEEE":e=be(ye.Days,Ce.Short);break;case"a":case"aa":case"aaa":e=be(ye.DayPeriods,Ce.Abbreviated);break;case"aaaa":e=be(ye.DayPeriods,Ce.Wide);break;case"aaaaa":e=be(ye.DayPeriods,Ce.Narrow);break;case"b":case"bb":case"bbb":e=be(ye.DayPeriods,Ce.Abbreviated,vt.Standalone,!0);break;case"bbbb":e=be(ye.DayPeriods,Ce.Wide,vt.Standalone,!0);break;case"bbbbb":e=be(ye.DayPeriods,Ce.Narrow,vt.Standalone,!0);break;case"B":case"BB":case"BBB":e=be(ye.DayPeriods,Ce.Abbreviated,vt.Format,!0);break;case"BBBB":e=be(ye.DayPeriods,Ce.Wide,vt.Format,!0);break;case"BBBBB":e=be(ye.DayPeriods,Ce.Narrow,vt.Format,!0);break;case"h":e=Be(ve.Hours,1,-12);break;case"hh":e=Be(ve.Hours,2,-12);break;case"H":e=Be(ve.Hours,1);break;case"HH":e=Be(ve.Hours,2);break;case"m":e=Be(ve.Minutes,1);break;case"mm":e=Be(ve.Minutes,2);break;case"s":e=Be(ve.Seconds,1);break;case"ss":e=Be(ve.Seconds,2);break;case"S":e=Be(ve.FractionalSeconds,1);break;case"SS":e=Be(ve.FractionalSeconds,2);break;case"SSS":e=Be(ve.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Fl(Hn.Short);break;case"ZZZZZ":e=Fl(Hn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Fl(Hn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Fl(Hn.Long);break;default:return null}return Mg[t]=e,e}function oT(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function c1(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function u1(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=oT(e,i);return c1(t,r*(s-i))}function l1(t){if(YC(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return jl(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(Xk))return d1(r)}let e=new Date(t);if(!YC(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function d1(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,u,l),e}function YC(t){return t instanceof Date&&!isNaN(t.valueOf())}function aT(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var xg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},f3=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new xg(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),ZC(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);ZC(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(ne(Ps),ne(El),ne(Ag))}}static{this.\u0275dir=je({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function ZC(t,e){t.context.$implicit=e.item}var p3=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Pg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){JC("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){JC("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(ne(Ps),ne(El))}}static{this.\u0275dir=je({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Pg=class{constructor(){this.$implicit=null,this.ngIf=null}};function JC(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${gt(e)}'.`)}function cT(t,e){return new j(2100,!1)}var Og=class{createSubscription(e,n){return Ht(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Ht(()=>e.unsubscribe())}},kg=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},h1=new kg,f1=new Og,g3=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Sr(n))return h1;if(Sg(n))return f1;throw cT(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||t)(ne(Ar,16))}}static{this.\u0275pipe=Yp({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var p1="mediumDate",g1=new U(""),m1=new U(""),m3=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(n==null||n===""||n!==n)return null;try{let o=r??this.defaultOptions?.dateFormat??p1,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return t1(n,o,s||this.locale,a)}catch(o){throw cT(t,o.message)}}static{this.\u0275fac=function(r){return new(r||t)(ne(Nl,16),ne(g1,24),ne(m1,24))}}static{this.\u0275pipe=Yp({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var y1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Fn({type:t})}static{this.\u0275inj=kn({})}}return t})(),Bg="browser",v1="server";function _1(t){return t===Bg}function $g(t){return t===v1}var uT=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>_1(P(pn))?new Fg(P(_t),window):new Lg})}}return t})(),Fg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=I1(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function I1(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Lg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Bl=class{};var zg=class extends Ul{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Gg=class t extends zg{static makeCurrent(){eT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=w1();return n==null?null:E1(n)}resetBaseElement(){ha=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return aT(document.cookie,e)}},ha=null;function w1(){return ha=ha||document.querySelector("base"),ha?ha.getAttribute("href"):null}function E1(t){return new URL(t,document.baseURI).pathname}var D1=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Hl=new U(""),fT=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(W(Hl),W(_e))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),fa=class{constructor(e){this._doc=e}},Hg="ng-app-id",pT=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$g(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Hg}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Hg),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Hg,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(W(_t),W(ug),W(dg,8),W(pn))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),qg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Kg=/%COMP%/g,gT="%COMP%",C1=`_nghost-${gT}`,T1=`_ngcontent-${gT}`,b1=!0,S1=new U("",{providedIn:"root",factory:()=>b1});function A1(t){return T1.replace(Kg,t)}function R1(t){return C1.replace(Kg,t)}function mT(t,e){return e.map(n=>n.replace(Kg,t))}var lT=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=$g(a),this.defaultRenderer=new pa(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===cn.ShadowDom&&(r=oe(k({},r),{encapsulation:cn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof ql?i.applyToHost(n):i instanceof ga&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case cn.Emulated:s=new ql(u,l,r,this.appId,h,o,a,p);break;case cn.ShadowDom:return new Wg(u,l,n,r,o,a,this.nonce,p);default:s=new ga(u,l,r,h,o,a,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(W(fT),W(pT),W(ug),W(S1),W(_t),W(pn),W(_e),W(dg))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),pa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(qg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(dT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(dT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=qg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=qg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Pn.DashCase|Pn.Important)?e.style.setProperty(n,r,i&Pn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Pn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=qn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function dT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Wg=class extends pa{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=mT(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ga=class extends pa{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?mT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ql=class extends ga{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=A1(l),this.hostAttr=R1(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},N1=(()=>{class t extends fa{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(W(_t))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),M1=(()=>{class t extends fa{constructor(n){super(n),this.delegate=P(GC,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,r,i){return this.delegate.addEventListener(n,r,i)}removeEventListener(n,r,i){return this.delegate.removeEventListener(n,r,i)}static{this.\u0275fac=function(r){return new(r||t)(W(_t))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),hT=["alt","control","meta","shift"],x1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},P1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},O1=(()=>{class t extends fa{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qn().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),hT.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=x1[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),hT.forEach(o=>{if(o!==i){let a=P1[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(W(_t))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function z3(t,e){return zC(k({rootComponent:t},k1(e)))}function k1(t){return{appProviders:[...j1,...t?.providers??[]],platformProviders:U1}}function F1(){Gg.makeCurrent()}function L1(){return new xn}function V1(){return KD(document),document}var U1=[{provide:pn,useValue:Bg},{provide:lg,useValue:F1,multi:!0},{provide:_t,useFactory:V1,deps:[]}];var j1=[{provide:al,useValue:"root"},{provide:xn,useFactory:L1,deps:[]},{provide:Hl,useClass:N1,multi:!0,deps:[_t,_e,pn]},{provide:Hl,useClass:O1,multi:!0,deps:[_t]},{provide:Hl,useClass:M1,multi:!0},lT,pT,fT,{provide:bs,useExisting:lT},{provide:Bl,useClass:D1,deps:[]},[]];var yT=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(W(_t))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ee="primary",Ma=Symbol("RouteTitle"),Xg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function zs(t){return new Xg(t)}function $1(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function H1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!gn(t[n],e[n]))return!1;return!0}function gn(t,e){let n=t?em(t):void 0,r=e?em(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!AT(t[i],e[i]))return!1;return!0}function em(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function AT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function RT(t){return t.length>0?t[t.length-1]:null}function xr(t){return Ff(t)?t:Sr(t)?Ae(Promise.resolve(t)):G(t)}var q1={exact:MT,subset:xT},NT={exact:z1,subset:G1,ignored:()=>!0};function vT(t,e,n){return q1[n.paths](t.root,e.root,n.matrixParams)&&NT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function z1(t,e){return gn(t,e)}function MT(t,e,n){if(!wi(t.segments,e.segments)||!Wl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!MT(t.children[r],e.children[r],n))return!1;return!0}function G1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>AT(t[n],e[n]))}function xT(t,e,n){return PT(t,e,e.segments,n)}function PT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!wi(i,n)||e.hasChildren()||!Wl(i,n,r))}else if(t.segments.length===n.length){if(!wi(t.segments,n)||!Wl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!xT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!wi(t.segments,i)||!Wl(t.segments,i,r)||!t.children[ee]?!1:PT(t.children[ee],e,s,r)}}function Wl(t,e,n){return e.every((r,i)=>NT[n](t[i].parameters,r.parameters))}var Gn=class{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=zs(this.queryParams),this._queryParamMap}toString(){return Q1.serialize(this)}},Ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kl(this)}},Ii=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=zs(this.parameters),this._parameterMap}toString(){return kT(this)}};function W1(t,e){return wi(t,e)&&t.every((n,r)=>gn(n.parameters,e[r].parameters))}function wi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function K1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ee&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ee&&(n=n.concat(e(i,r)))}),n}var xa=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>new Gs,providedIn:"root"})}}return t})(),Gs=class{parse(e){let n=new nm(e);return new Gn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ma(e.root,!0)}`,r=J1(e.queryParams),i=typeof e.fragment=="string"?`#${Y1(e.fragment)}`:"";return`${n}${r}${i}`}},Q1=new Gs;function Kl(t){return t.segments.map(e=>kT(e)).join("/")}function ma(t,e){if(!t.hasChildren())return Kl(t);if(e){let n=t.children[ee]?ma(t.children[ee],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ee&&r.push(`${i}:${ma(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=K1(t,(r,i)=>i===ee?[ma(t.children[ee],!1)]:[`${i}:${ma(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ee]!=null?`${Kl(t)}/${n[0]}`:`${Kl(t)}/(${n.join("//")})`}}function OT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zl(t){return OT(t).replace(/%3B/gi,";")}function Y1(t){return encodeURI(t)}function tm(t){return OT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ql(t){return decodeURIComponent(t)}function _T(t){return Ql(t.replace(/\+/g,"%20"))}function kT(t){return`${tm(t.path)}${Z1(t.parameters)}`}function Z1(t){return Object.entries(t).map(([e,n])=>`;${tm(e)}=${tm(n)}`).join("")}function J1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${zl(n)}=${zl(i)}`).join("&"):`${zl(n)}=${zl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var X1=/^[^\/()?;#]+/;function Qg(t){let e=t.match(X1);return e?e[0]:""}var eF=/^[^\/()?;=#]+/;function tF(t){let e=t.match(eF);return e?e[0]:""}var nF=/^[^=?&#]+/;function rF(t){let e=t.match(nF);return e?e[0]:""}var iF=/^[^&#]+/;function sF(t){let e=t.match(iF);return e?e[0]:""}var nm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ee]=new Ie(e,n)),r}parseSegment(){let e=Qg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Ii(Ql(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=tF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Qg(this.remaining);i&&(r=i,this.capture(r))}e[Ql(n)]=Ql(r)}parseQueryParam(e){let n=rF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=sF(this.remaining);o&&(r=o,this.capture(r))}let i=_T(n),s=_T(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Qg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ee);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ee]:new Ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function FT(t){return t.segments.length>0?new Ie([],{[ee]:t}):t}function LT(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=LT(i);if(r===ee&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ie(t.segments,e);return oF(n)}function oF(t){if(t.numberOfChildren===1&&t.children[ee]){let e=t.children[ee];return new Ie(t.segments.concat(e.segments),e.children)}return t}function Ea(t){return t instanceof Gn}function aF(t,e,n=null,r=null){let i=VT(t);return UT(i,e,n,r)}function VT(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new Ie(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=FT(r);return e??i}function UT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Yg(i,i,i,n,r);let s=cF(e);if(s.toRoot())return Yg(i,i,new Ie([],{}),n,r);let o=uF(s,i,t),a=o.processChildren?_a(o.segmentGroup,o.index,s.commands):BT(o.segmentGroup,o.index,s.commands);return Yg(i,o.segmentGroup,a,n,r)}function Yl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Da(t){return typeof t=="object"&&t!=null&&t.outlets}function Yg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=jT(t,e,n);let a=FT(LT(o));return new Gn(a,s,i)}function jT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=jT(s,e,n)}),new Ie(t.segments,r)}var Zl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Yl(r[0]))throw new j(4003,!1);let i=r.find(Da);if(i&&i!==RT(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Zl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Zl(n,e,r)}var $s=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function uF(t,e,n){if(t.isAbsolute)return new $s(e,!0,0);if(!n)return new $s(e,!1,NaN);if(n.parent===null)return new $s(n,!0,0);let r=Yl(t.commands[0])?0:1,i=n.segments.length-1+r;return lF(n,i,t.numberOfDoubleDots)}function lF(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new $s(r,!1,i-s)}function dF(t){return Da(t[0])?t[0].outlets:{[ee]:t}}function BT(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return _a(t,e,n);let r=hF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ie(t.segments.slice(0,r.pathIndex),{});return s.children[ee]=new Ie(t.segments.slice(r.pathIndex),t.children),_a(s,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?rm(t,e,n):r.match?_a(t,0,i):rm(t,e,n)}function _a(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=dF(n),i={};if(Object.keys(r).some(s=>s!==ee)&&t.children[ee]&&t.numberOfChildren===1&&t.children[ee].segments.length===0){let s=_a(t.children[ee],e,n);return new Ie(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=BT(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ie(t.segments,i)}}function hF(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Da(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!wT(u,l,o))return s;r+=2}else{if(!wT(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function rm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Da(s)){let u=fF(s.outlets);return new Ie(r,u)}if(i===0&&Yl(n[0])){let u=t.segments[e];r.push(new Ii(u.path,IT(n[0]))),i++;continue}let o=Da(s)?s.outlets[ee]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Yl(a)?(r.push(new Ii(o,IT(a))),i+=2):(r.push(new Ii(o,{})),i++)}return new Ie(r,{})}function fF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=rm(new Ie([],{}),0,r))}),e}function IT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function wT(t,e,n){return t==n.path&&gn(e,n.parameters)}var Ia="imperative",Ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ke||{}),zt=class{constructor(e,n){this.id=e,this.url=n}},Ws=class extends zt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ke.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Wn=class extends zt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(xt||{}),Jl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Jl||{}),zn=class extends zt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Nr=class extends zt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationSkipped}},Ca=class extends zt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Xl=class extends zt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},im=class extends zt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sm=class extends zt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},om=class extends zt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},am=class extends zt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cm=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},um=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},lm=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dm=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hm=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fm=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ed=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ke.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ta=class{},Ks=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function pF(t,e){return t.providers&&!t._injector&&(t._injector=Cl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function tn(t){return t.outlet||ee}function gF(t,e){let n=t.filter(r=>tn(r)===e);return n.push(...t.filter(r=>tn(r)!==e)),n}function Pa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var pm=class{get injector(){return Pa(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Oa(this.rootInjector),this.attachRef=null}},Oa=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new pm(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(W(At))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),td=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=gm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=gm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=mm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mm(e,this._root).map(n=>n.value)}};function gm(t,e){if(t===e.value)return e;for(let n of e.children){let r=gm(t,n);if(r)return r}return null}function mm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=mm(t,n);if(r.length)return r.unshift(e),r}return[]}var Mt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Bs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var nd=class extends td{constructor(e,n){super(e),this.snapshot=n,Tm(this,e)}toString(){return this.snapshot.toString()}};function $T(t){let e=mF(t),n=new et([new Ii("",{})]),r=new et({}),i=new et({}),s=new et({}),o=new et(""),a=new Ei(n,r,s,o,i,ee,t,e.root);return a.snapshot=e.root,new nd(new Mt(a,[]),e)}function mF(t){let e={},n={},r={},i="",s=new Hs([],e,r,i,n,ee,t,null,{});return new id("",new Mt(s,[]))}var Ei=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(te(l=>l[Ma]))??G(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(te(e=>zs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(te(e=>zs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function rd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&qT(i)&&(r.resolve[Ma]=i.title),r}var Hs=class{get title(){return this.data?.[Ma]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},id=class extends td{constructor(e,n){super(n),this.url=e,Tm(this,n)}toString(){return HT(this._root)}};function Tm(t,e){e.value._routerState=t,e.children.forEach(n=>Tm(t,n))}function HT(t){let e=t.children.length>0?` { ${t.children.map(HT).join(", ")} } `:"";return`${t.value}${e}`}function Zg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,gn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),gn(e.params,n.params)||t.paramsSubject.next(n.params),H1(e.url,n.url)||t.urlSubject.next(n.url),gn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ym(t,e){let n=gn(t.params,e.params)&&W1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ym(t.parent,e.parent))}function qT(t){return typeof t.title=="string"||t.title===null}var yF=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new Oe,this.deactivateEvents=new Oe,this.attachEvents=new Oe,this.detachEvents=new Oe,this.parentContexts=P(Oa),this.location=P(Ps),this.changeDetector=P(Ar),this.inputBinder=P(cd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new vm(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=je({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Un]})}}return t})(),vm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ei?this.route:e===Oa?this.childContexts:this.parent.get(e,n)}},cd=new U(""),ET=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Yo([r.queryParams,r.params,r.data]).pipe(Ft(([s,o,a],u)=>(a=k(k(k({},s),o),a),u===0?G(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=WC(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function vF(t,e,n){let r=ba(t,e._root,n?n._root:void 0);return new nd(r,e)}function ba(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=_F(t,e,n);return new Mt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ba(t,a)),o}}let r=IF(e.value),i=e.children.map(s=>ba(t,s));return new Mt(r,i)}}function _F(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ba(t,r,i);return ba(t,r)})}function IF(t){return new Ei(new et(t.url),new et(t.params),new et(t.queryParams),new et(t.fragment),new et(t.data),t.outlet,t.component,t)}var Sa=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},zT="ngNavigationCancelingError";function sd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ea(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=GT(!1,xt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function GT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[zT]=!0,n.cancellationCode=e,n}function wF(t){return WT(t)&&Ea(t.url)}function WT(t){return!!t&&t[zT]}var EF=(t,e,n,r)=>te(i=>(new _m(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),_m=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Zg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Bs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Bs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Bs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Bs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new fm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new dm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Zg(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Zg(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},od=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},qs=class{constructor(e,n){this.component=e,this.route=n}};function DF(t,e,n){let r=t._root,i=e?e._root:null;return ya(r,i,n,[r.value])}function CF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ys(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!OE(t)?t:e.get(t):r}function ya(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Bs(e);return t.children.forEach(o=>{TF(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>wa(a,n.getContext(o),i)),i}function TF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=bF(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new od(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ya(t,e,a?a.children:null,r,i):ya(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qs(a.outlet.component,o))}else o&&wa(e,a,i),i.canActivateChecks.push(new od(r)),s.component?ya(t,null,a?a.children:null,r,i):ya(t,null,n,r,i);return i}function bF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!wi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!wi(t.url,e.url)||!gn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ym(t,e)||!gn(t.queryParams,e.queryParams);case"paramsChange":default:return!ym(t,e)}}function wa(t,e,n){let r=Bs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?wa(o,e.children.getContext(s),n):wa(o,null,n):wa(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new qs(e.outlet.component,i)):n.canDeactivateChecks.push(new qs(null,i)):n.canDeactivateChecks.push(new qs(null,i))}function ka(t){return typeof t=="function"}function SF(t){return typeof t=="boolean"}function AF(t){return t&&ka(t.canLoad)}function RF(t){return t&&ka(t.canActivate)}function NF(t){return t&&ka(t.canActivateChild)}function MF(t){return t&&ka(t.canDeactivate)}function xF(t){return t&&ka(t.canMatch)}function KT(t){return t instanceof Rn||t?.name==="EmptyError"}var Gl=Symbol("INITIAL_VALUE");function Qs(){return Ft(t=>Yo(t.map(e=>e.pipe(Nn(1),Tu(Gl)))).pipe(te(e=>{for(let n of e)if(n!==!0){if(n===Gl)return Gl;if(n===!1||PF(n))return n}return!0}),St(e=>e!==Gl),Nn(1)))}function PF(t){return Ea(t)||t instanceof Sa}function OF(t,e){return Ve(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?G(oe(k({},n),{guardsResult:!0})):kF(o,r,i,t).pipe(Ve(a=>a&&SF(a)?FF(r,s,t,e):G(a)),te(a=>oe(k({},n),{guardsResult:a})))})}function kF(t,e,n,r){return Ae(t).pipe(Ve(i=>BF(i.component,i.route,n,e,r)),sn(i=>i!==!0,!0))}function FF(t,e,n,r){return Ae(e).pipe(si(i=>cs(VF(i.route.parent,r),LF(i.route,r),jF(t,i.path,n),UF(t,i.route,n))),sn(i=>i!==!0,!0))}function LF(t,e){return t!==null&&e&&e(new hm(t)),G(!0)}function VF(t,e){return t!==null&&e&&e(new lm(t)),G(!0)}function UF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(s=>Eu(()=>{let o=Pa(e)??n,a=Ys(s,o),u=RF(a)?a.canActivate(e,t):fn(o,()=>a(e,t));return xr(u).pipe(sn())}));return G(i).pipe(Qs())}function jF(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>CF(o)).filter(o=>o!==null).map(o=>Eu(()=>{let a=o.guards.map(u=>{let l=Pa(o.node)??n,h=Ys(u,l),p=NF(h)?h.canActivateChild(r,t):fn(l,()=>h(r,t));return xr(p).pipe(sn())});return G(a).pipe(Qs())}));return G(s).pipe(Qs())}function BF(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return G(!0);let o=s.map(a=>{let u=Pa(e)??i,l=Ys(a,u),h=MF(l)?l.canDeactivate(t,e,n,r):fn(u,()=>l(t,e,n,r));return xr(h).pipe(sn())});return G(o).pipe(Qs())}function $F(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let s=i.map(o=>{let a=Ys(o,t),u=AF(a)?a.canLoad(e,n):fn(t,()=>a(e,n));return xr(u)});return G(s).pipe(Qs(),QT(r))}function QT(t){return ru(Ge(e=>{if(typeof e!="boolean")throw sd(t,e)}),te(e=>e===!0))}function HF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let s=i.map(o=>{let a=Ys(o,t),u=xF(a)?a.canMatch(e,n):fn(t,()=>a(e,n));return xr(u)});return G(s).pipe(Qs(),QT(r))}var Aa=class{constructor(e){this.segmentGroup=e||null}},Ra=class extends Error{constructor(e){super(),this.urlTree=e}};function js(t){return os(new Aa(t))}function qF(t){return os(new j(4e3,!1))}function zF(t){return os(GT(!1,xt.GuardRejected))}var Im=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[ee])return qF(`${e.redirectTo}`);i=i.children[ee]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:v,data:S,title:M}=i,R=fn(s,()=>a({params:v,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:M}));if(R instanceof Gn)throw new Ra(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ra(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Gn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},wm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function GF(t,e,n,r,i){let s=YT(t,e,n);return s.matched?(r=pF(e,r),HF(r,e,n,i).pipe(te(o=>o===!0?s:k({},wm)))):G(s)}function YT(t,e,n){if(e.path==="**")return WF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},wm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||$1)(n,t,e);if(!i)return k({},wm);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function WF(t){return{matched:!0,parameters:t.length>0?RT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function DT(t,e,n,r){return n.length>0&&YF(t,n,r)?{segmentGroup:new Ie(e,QF(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&ZF(t,n,r)?{segmentGroup:new Ie(t.segments,KF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function KF(t,e,n,r){let i={};for(let s of n)if(ud(t,e,s)&&!r[tn(s)]){let o=new Ie([],{});i[tn(s)]=o}return k(k({},r),i)}function QF(t,e){let n={};n[ee]=e;for(let r of t)if(r.path===""&&tn(r)!==ee){let i=new Ie([],{});n[tn(r)]=i}return n}function YF(t,e,n){return n.some(r=>ud(t,e,r)&&tn(r)!==ee)}function ZF(t,e,n){return n.some(r=>ud(t,e,r))}function ud(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function JF(t,e,n){return e.length===0&&!t.children[n]}var Em=class{};function XF(t,e,n,r,i,s,o="emptyOnly"){return new Dm(t,e,n,r,i,o,s).recognize()}var eL=31,Dm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Im(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=DT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(te(({children:n,rootSnapshot:r})=>{let i=new Mt(r,n),s=new id("",i),o=aF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Hs([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ee,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ee,n).pipe(te(r=>({children:r,rootSnapshot:n})),pr(r=>{if(r instanceof Ra)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Aa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(te(o=>o instanceof Mt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ae(s).pipe(si(o=>{let a=r.children[o],u=gF(n,o);return this.processSegmentGroup(e,u,a,o,i)}),Cu((o,a)=>(o.push(...a),o)),gr(null),Uf(),Ve(o=>{if(o===null)return js(r);let a=ZT(o);return tL(a),G(a)}))}processSegment(e,n,r,i,s,o,a){return Ae(n).pipe(si(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(pr(l=>{if(l instanceof Aa)return G(null);throw l}))),sn(u=>!!u),pr(u=>{if(KT(u))return JF(r,i,s)?G(new Em):js(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return tn(r)!==o&&(o===ee||!ud(i,s,r))?js(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):js(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=YT(n,i,s);if(!u)return js(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>eL&&(this.allowRedirects=!1));let v=new Hs(s,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,CT(i),tn(i),i.component??i._loadedComponent??null,i,TT(i)),S=rd(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Ve(R=>this.processSegment(e,r,n,R.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=GF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ft(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ft(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,S=new Hs(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,CT(r),tn(r),r.component??r._loadedComponent??null,r,TT(r)),M=rd(S,o,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:F}=DT(n,m,v,l);if(F.length===0&&R.hasChildren())return this.processChildren(h,l,R,S).pipe(te(q=>new Mt(S,q)));if(l.length===0&&F.length===0)return G(new Mt(S,[]));let H=tn(r)===s;return this.processSegment(h,l,R,F,H?ee:s,!0,S).pipe(te(q=>new Mt(S,q instanceof Mt?[q]:[])))}))):js(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?G({routes:n._loadedRoutes,injector:n._loadedInjector}):$F(e,n,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,n).pipe(Ge(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):zF(n))):G({routes:[],injector:e})}};function tL(t){t.sort((e,n)=>e.value.outlet===ee?-1:n.value.outlet===ee?1:e.value.outlet.localeCompare(n.value.outlet))}function nL(t){let e=t.value.routeConfig;return e&&e.path===""}function ZT(t){let e=[],n=new Set;for(let r of t){if(!nL(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=ZT(r.children);e.push(new Mt(r.value,i))}return e.filter(r=>!n.has(r))}function CT(t){return t.data||{}}function TT(t){return t.resolve||{}}function rL(t,e,n,r,i,s){return Ve(o=>XF(t,e,n,r,o.extractedUrl,i,s).pipe(te(({state:a,tree:u})=>oe(k({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function iL(t,e){return Ve(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of JT(u))o.add(l);let a=0;return Ae(o).pipe(si(u=>s.has(u)?sL(u,r,t,e):(u.data=rd(u,u.parent,t).resolve,G(void 0))),Ge(()=>a++),us(1),Ve(u=>a===o.size?G(n):bt))})}function JT(t){let e=t.children.map(n=>JT(n)).flat();return[t,...e]}function sL(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!qT(i)&&(s[Ma]=i.title),oL(s,t,e,r).pipe(te(o=>(t._resolvedData=o,t.data=rd(t,t.parent,n).resolve,null)))}function oL(t,e,n,r){let i=em(t);if(i.length===0)return G({});let s={};return Ae(i).pipe(Ve(o=>aL(t[o],e,n,r).pipe(sn(),Ge(a=>{if(a instanceof Sa)throw sd(new Gs,a);s[o]=a}))),us(1),Vf(s),pr(o=>KT(o)?bt:os(o)))}function aL(t,e,n,r){let i=Pa(e)??r,s=Ys(t,i),o=s.resolve?s.resolve(e,n):fn(i,()=>s(e,n));return xr(o)}function Jg(t){return Ft(e=>{let n=t(e);return n?Ae(n).pipe(te(()=>e)):G(e)})}var XT=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ee);return r}getResolvedTitleForRoute(n){return n.data[Ma]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>P(cL),providedIn:"root"})}}return t})(),cL=(()=>{class t extends XT{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(W(yT))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Fa=new U("",{providedIn:"root",factory:()=>({})}),uL=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=GE({type:t,selectors:[["ng-component"]],standalone:!0,features:[FC],decls:1,vars:0,template:function(r,i){r&1&&bg(0,"router-outlet")},dependencies:[yF],encapsulation:2})}}return t})();function bm(t){let e=t.children&&t.children.map(bm),n=e?oe(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ee&&(n.component=uL),n}var Na=new U(""),Sm=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(Rl)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return G(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=xr(n.loadComponent()).pipe(te(eb),Ge(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Zo(()=>{this.componentLoaders.delete(n)})),i=new ns(r,()=>new Xe).pipe(ts());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=lL(r,this.compiler,n,this.onLoadEndListener).pipe(Zo(()=>{this.childrenLoaders.delete(r)})),o=new ns(s,()=>new Xe).pipe(ts());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function lL(t,e,n,r){return xr(t.loadChildren()).pipe(te(eb),Ve(i=>i instanceof sa||Array.isArray(i)?G(i):Ae(e.compileModuleAsync(i))),te(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Na,[],{optional:!0,self:!0}).flat()),{routes:o.map(bm),injector:s}}))}function dL(t){return t&&typeof t=="object"&&"default"in t}function eb(t){return dL(t)?t.default:t}var Am=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>P(hL),providedIn:"root"})}}return t})(),hL=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),tb=new U(""),nb=new U("");function fL(t,e,n){let r=t.get(nb),i=t.get(_t);return t.get(_e).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),pL(t))),{onViewTransitionCreated:u}=r;return u&&fn(t,()=>u({transition:a,from:e,to:n})),o})}function pL(t){return new Promise(e=>{Tg({read:()=>setTimeout(e)},{injector:t})})}var gL=new U(""),Rm=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Xe,this.transitionAbortSubject=new Xe,this.configLoader=P(Sm),this.environmentInjector=P(At),this.urlSerializer=P(xa),this.rootContexts=P(Oa),this.location=P(Us),this.inputBindingEnabled=P(cd,{optional:!0})!==null,this.titleStrategy=P(XT),this.options=P(Fa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(Am),this.createViewTransition=P(tb,{optional:!0}),this.navigationErrorHandler=P(gL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null;let n=i=>this.events.next(new cm(i)),r=i=>this.events.next(new um(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(oe(k(k({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new et({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ia,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(St(s=>s.id!==0),te(s=>oe(k({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ft(s=>{let o=!1,a=!1;return G(s).pipe(Ft(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",xt.SupersededByNewNavigation),bt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?oe(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Nr(u.id,this.urlSerializer.serialize(u.rawUrl),p,Jl.IgnoredSameUrlNavigation)),u.resolve(!1),bt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return G(u).pipe(Ft(p=>{let m=this.transitions?.getValue();return this.events.next(new Ws(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?bt:Promise.resolve(p)}),rL(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ge(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=oe(k({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new Xl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:v,restoredState:S,extras:M}=u,R=new Ws(p,this.urlSerializer.serialize(m),v,S);this.events.next(R);let F=$T(this.rootComponentType).snapshot;return this.currentTransition=s=oe(k({},u),{targetSnapshot:F,urlAfterRedirects:m,extras:oe(k({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,G(s)}else{let p="";return this.events.next(new Nr(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Jl.IgnoredByUrlHandlingStrategy)),u.resolve(!1),bt}}),Ge(u=>{let l=new im(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),te(u=>(this.currentTransition=s=oe(k({},u),{guards:DF(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),OF(this.environmentInjector,u=>this.events.next(u)),Ge(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw sd(this.urlSerializer,u.guardsResult);let l=new sm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),St(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",xt.GuardRejected),!1)),Jg(u=>{if(u.guards.canActivateChecks.length)return G(u).pipe(Ge(l=>{let h=new om(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Ft(l=>{let h=!1;return G(l).pipe(iL(this.paramsInheritanceStrategy,this.environmentInjector),Ge({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",xt.NoDataFromResolver)}}))}),Ge(l=>{let h=new am(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),Jg(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ge(m=>{h.component=m}),te(()=>{})));for(let m of h.children)p.push(...l(m));return p};return Yo(l(u.targetSnapshot.root)).pipe(gr(null),Nn(1))}),Jg(()=>this.afterPreactivation()),Ft(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Ae(h).pipe(te(()=>s)):G(s)}),te(u=>{let l=vF(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=oe(k({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Ge(()=>{this.events.next(new Ta)}),EF(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Nn(1),Ge({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),jf(this.transitionAbortSubject.pipe(Ge(u=>{throw u}))),Zo(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",xt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),pr(u=>{if(a=!0,WT(u))this.events.next(new zn(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),wF(u)?this.events.next(new Ks(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new Ca(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let h=fn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Sa){let{message:p,cancellationCode:m}=sd(this.urlSerializer,h);this.events.next(new zn(s.id,this.urlSerializer.serialize(s.extractedUrl),p,m)),this.events.next(new Ks(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);s.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return bt}))}))}cancelNavigationTransition(n,r,i){let s=new zn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function mL(t){return t!==Ia}var yL=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>P(vL),providedIn:"root"})}}return t})(),Cm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},vL=(()=>{class t extends Cm{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=br(t)))(i||t)}})()}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),rb=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>P(_L),providedIn:"root"})}}return t})(),_L=(()=>{class t extends rb{constructor(){super(...arguments),this.location=P(Us),this.urlSerializer=P(xa),this.options=P(Fa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(Am),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Gn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=$T(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Ws)this.stateMemento=this.createStateMemento();else if(n instanceof Nr)this.rawUrlTree=r.initialUrl;else if(n instanceof Xl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Ta?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof zn&&(n.code===xt.GuardRejected||n.code===xt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ca?this.restoreHistory(r,!0):n instanceof Wn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Gn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=k(k({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=k(k({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=br(t)))(i||t)}})()}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),va=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(va||{});function ib(t,e){t.events.pipe(St(n=>n instanceof Wn||n instanceof zn||n instanceof Ca||n instanceof Nr),te(n=>n instanceof Wn||n instanceof Nr?va.COMPLETE:(n instanceof zn?n.code===xt.Redirect||n.code===xt.SupersededByNewNavigation:!1)?va.REDIRECTING:va.FAILED),St(n=>n!==va.REDIRECTING),Nn(1)).subscribe(()=>{e()})}function IL(t){throw t}var wL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Mr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(bl),this.stateManager=P(rb),this.options=P(Fa,{optional:!0})||{},this.pendingTasks=P(Ms),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(Rm),this.urlSerializer=P(xa),this.location=P(Us),this.urlHandlingStrategy=P(Am),this._events=new Xe,this.errorHandler=this.options.errorHandler||IL,this.navigated=!1,this.routeReuseStrategy=P(yL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(Na,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(cd,{optional:!0}),this.eventsSubscription=new Pe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof zn&&r.code!==xt.Redirect&&r.code!==xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Wn)this.navigated=!0;else if(r instanceof Ks){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||mL(i.source)},o);this.scheduleNavigation(a,Ia,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}CL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ia,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(bm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=VT(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return UT(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ea(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ia,null,r)}navigate(n,r={skipLocationChange:!1}){return DL(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=k({},wL):r===!1?i=k({},EL):i=r,Ea(n))return vT(this.currentUrlTree,n,i);let s=this.parseUrl(n);return vT(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return ib(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function DL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function CL(t){return!(t instanceof Ta)&&!(t instanceof Ks)}var ad=class{};var TL=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(St(n=>n instanceof Wn),si(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Cl(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ae(i).pipe(as())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=G(null);let s=i.pipe(Ve(o=>o===null?G(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Ae([s,o]).pipe(as())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(W(Mr),W(Rl),W(At),W(ad),W(Sm))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),sb=new U(""),bL=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ws?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Wn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Nr&&n.code===Jl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ed&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ed(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){aC()}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function f6(t,...e){return hn([{provide:Na,multi:!0,useValue:t},[],{provide:Ei,useFactory:ob,deps:[Mr]},{provide:Al,multi:!0,useFactory:ab},e.map(n=>n.\u0275providers)])}function ob(t){return t.routerState.root}function La(t,e){return{\u0275kind:t,\u0275providers:e}}function ab(){let t=P(tt);return e=>{let n=t.get(vi);if(e!==n.components[0])return;let r=t.get(Mr),i=t.get(cb);t.get(Nm)===1&&r.initialNavigation(),t.get(ub,null,re.Optional)?.setUpPreloading(),t.get(sb,null,re.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var cb=new U("",{factory:()=>new Xe}),Nm=new U("",{providedIn:"root",factory:()=>1});function SL(){return La(2,[{provide:Nm,useValue:0},{provide:Sl,multi:!0,deps:[tt],useFactory:e=>{let n=e.get(tT,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Mr),s=e.get(cb);ib(i,()=>{r(!0)}),e.get(Rm).afterPreactivation=()=>(r(!0),s.closed?G(void 0):s),i.initialNavigation()}))}}])}function AL(){return La(3,[{provide:Sl,multi:!0,useFactory:()=>{let e=P(Mr);return()=>{e.setUpLocationChangeListener()}}},{provide:Nm,useValue:2}])}var ub=new U("");function RL(t){return La(0,[{provide:ub,useExisting:TL},{provide:ad,useExisting:t}])}function NL(){return La(8,[ET,{provide:cd,useExisting:ET}])}function ML(t){let e=[{provide:tb,useValue:fL},{provide:nb,useValue:k({skipNextTransition:!!t?.skipInitialTransition},t)}];return La(9,e)}var bT=new U("ROUTER_FORROOT_GUARD"),xL=[Us,{provide:xa,useClass:Gs},Mr,Oa,{provide:Ei,useFactory:ob,deps:[Mr]},Sm,[]],p6=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[xL,[],{provide:Na,multi:!0,useValue:n},{provide:bT,useFactory:FL,deps:[[Mr,new at,new Wp]]},{provide:Fa,useValue:r||{}},r?.useHash?OL():kL(),PL(),r?.preloadingStrategy?RL(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?LL(r):[],r?.bindToComponentInputs?NL().\u0275providers:[],r?.enableViewTransitions?ML().\u0275providers:[],VL()]}}static forChild(n){return{ngModule:t,providers:[{provide:Na,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(W(bT,8))}}static{this.\u0275mod=Fn({type:t})}static{this.\u0275inj=kn({})}}return t})();function PL(){return{provide:sb,useFactory:()=>{let t=P(uT),e=P(_e),n=P(Fa),r=P(Rm),i=P(xa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new bL(i,r,t,e,n)}}}function OL(){return{provide:_i,useClass:rT}}function kL(){return{provide:_i,useClass:jg}}function FL(t){return"guarded"}function LL(t){return[t.initialNavigation==="disabled"?AL().\u0275providers:[],t.initialNavigation==="enabledBlocking"?SL().\u0275providers:[]]}var ST=new U("");function VL(){return[{provide:ST,useFactory:ab},{provide:Al,multi:!0,useExisting:ST}]}var vb=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(ne(xs),ne(mi))}}static{this.\u0275dir=je({type:t})}}return t})(),UL=(()=>{class t extends vb{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=br(t)))(i||t)}})()}static{this.\u0275dir=je({type:t,features:[Rt]})}}return t})(),Om=new U("");var jL={provide:Om,useExisting:Jt(()=>_b),multi:!0};function BL(){let t=qn()?qn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var $L=new U(""),_b=(()=>{class t extends vb{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!BL())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(ne(xs),ne(mi),ne($L,8))}}static{this.\u0275dir=je({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ls("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[jn([jL]),Rt]})}}return t})();function Pr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Ib(t){return t!=null&&typeof t.length=="number"}var Ci=new U(""),wd=new U(""),HL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,lb=class{static min(e){return qL(e)}static max(e){return zL(e)}static required(e){return wb(e)}static requiredTrue(e){return GL(e)}static email(e){return WL(e)}static minLength(e){return Eb(e)}static maxLength(e){return Db(e)}static pattern(e){return KL(e)}static nullValidator(e){return dd(e)}static compose(e){return Rb(e)}static composeAsync(e){return Nb(e)}};function qL(t){return e=>{if(Pr(e.value)||Pr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function zL(t){return e=>{if(Pr(e.value)||Pr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function wb(t){return Pr(t.value)?{required:!0}:null}function GL(t){return t.value===!0?null:{required:!0}}function WL(t){return Pr(t.value)||HL.test(t.value)?null:{email:!0}}function Eb(t){return e=>Pr(e.value)||!Ib(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Db(t){return e=>Ib(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function KL(t){if(!t)return dd;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Pr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function dd(t){return null}function Cb(t){return t!=null}function Tb(t){return Sr(t)?Ae(t):t}function bb(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function Sb(t,e){return e.map(n=>n(t))}function QL(t){return!t.validate}function Ab(t){return t.map(e=>QL(e)?e:n=>e.validate(n))}function Rb(t){if(!t)return null;let e=t.filter(Cb);return e.length==0?null:function(n){return bb(Sb(n,e))}}function km(t){return t!=null?Rb(Ab(t)):null}function Nb(t){if(!t)return null;let e=t.filter(Cb);return e.length==0?null:function(n){let r=Sb(n,e).map(Tb);return Lf(r).pipe(te(bb))}}function Fm(t){return t!=null?Nb(Ab(t)):null}function db(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Mb(t){return t._rawValidators}function xb(t){return t._rawAsyncValidators}function Mm(t){return t?Array.isArray(t)?t:[t]:[]}function hd(t,e){return Array.isArray(t)?t.includes(e):t===e}function hb(t,e){let n=Mm(e);return Mm(t).forEach(i=>{hd(n,i)||n.push(i)}),n}function fb(t,e){return Mm(e).filter(n=>!hd(t,n))}var fd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=km(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Kn=class extends fd{get formDirective(){return null}get path(){return null}},Di=class extends fd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},pd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},YL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},x6=oe(k({},YL),{"[class.ng-submitted]":"isSubmitted"}),P6=(()=>{class t extends pd{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(ne(Di,2))}}static{this.\u0275dir=je({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Tl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Rt]})}}return t})(),O6=(()=>{class t extends pd{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(ne(Kn,10))}}static{this.\u0275dir=je({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Tl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Rt]})}}return t})();var Va="VALID",ld="INVALID",Zs="PENDING",Ua="DISABLED",Or=class{},gd=class extends Or{constructor(e,n){super(),this.value=e,this.source=n}},Ba=class extends Or{constructor(e,n){super(),this.pristine=e,this.source=n}},$a=class extends Or{constructor(e,n){super(),this.touched=e,this.source=n}},Js=class extends Or{constructor(e,n){super(),this.status=e,this.source=n}},xm=class extends Or{constructor(e){super(),this.source=e}},Pm=class extends Or{constructor(e){super(),this.source=e}};function Pb(t){return(Ed(t)?t.validators:t)||null}function ZL(t){return Array.isArray(t)?km(t):t||null}function Ob(t,e){return(Ed(e)?e.asyncValidators:t)||null}function JL(t){return Array.isArray(t)?Fm(t):t||null}function Ed(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function XL(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new j(1e3,"");if(!r[n])throw new j(1001,"")}function eV(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new j(1002,"")})}var md=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Vs(()=>this.statusReactive()),this.statusReactive=ks(void 0),this._pristine=Vs(()=>this.pristineReactive()),this.pristineReactive=ks(!0),this._touched=Vs(()=>this.touchedReactive()),this.touchedReactive=ks(!1),this._events=new Xe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ht(this.statusReactive)}set status(e){Ht(()=>this.statusReactive.set(e))}get valid(){return this.status===Va}get invalid(){return this.status===ld}get pending(){return this.status==Zs}get disabled(){return this.status===Ua}get enabled(){return this.status!==Ua}get pristine(){return Ht(this.pristineReactive)}set pristine(e){Ht(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Ht(this.touchedReactive)}set touched(e){Ht(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fb(e,this._rawAsyncValidators))}hasValidator(e){return hd(this._rawValidators,e)}hasAsyncValidator(e){return hd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(oe(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new $a(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new $a(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(oe(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ba(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ba(!0,r))}markAsPending(e={}){this.status=Zs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Js(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(oe(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ua,this.errors=null,this._forEachChild(i=>{i.disable(oe(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gd(this.value,r)),this._events.next(new Js(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(oe(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Va,this._forEachChild(r=>{r.enable(oe(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(oe(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Va||this.status===Zs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gd(this.value,n)),this._events.next(new Js(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(oe(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ua:Va}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Zs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Tb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Js(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?Ua:this.errors?ld:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zs)?Zs:this._anyControlsHaveStatus(ld)?ld:Va}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ba(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new $a(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ed(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=ZL(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=JL(this._rawAsyncValidators)}},yd=class extends md{constructor(e,n,r){super(Pb(n),Ob(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){eV(this,!0,e),Object.keys(e).forEach(r=>{XL(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ha=new U("CallSetDisabledState",{providedIn:"root",factory:()=>Dd}),Dd="always";function kb(t,e){return[...e.path,t]}function vd(t,e,n=Dd){Lm(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),nV(t,e),iV(t,e),rV(t,e),tV(t,e)}function pb(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Id(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function _d(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function tV(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Lm(t,e){let n=Mb(t);e.validator!==null?t.setValidators(db(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=xb(t);e.asyncValidator!==null?t.setAsyncValidators(db(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();_d(e._rawValidators,i),_d(e._rawAsyncValidators,i)}function Id(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=Mb(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=xb(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return _d(e._rawValidators,r),_d(e._rawAsyncValidators,r),n}function nV(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Fb(t,e)})}function rV(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Fb(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Fb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function iV(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Lb(t,e){t==null,Lm(t,e)}function sV(t,e){return Id(t,e)}function Vb(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function oV(t){return Object.getPrototypeOf(t.constructor)===UL}function Ub(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function jb(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===_b?n=s:oV(s)?r=s:i=s}),i||r||n||null}function aV(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var cV={provide:Kn,useExisting:Jt(()=>uV)},ja=Promise.resolve(),uV=(()=>{class t extends Kn{get submitted(){return Ht(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Vs(()=>this.submittedReactive()),this.submittedReactive=ks(!1),this._directives=new Set,this.ngSubmit=new Oe,this.form=new yd({},km(n),Fm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ja.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),vd(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ja.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ja.then(()=>{let r=this._findContainer(n.path),i=new yd({});Lb(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ja.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ja.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),Ub(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(ne(Ci,10),ne(wd,10),ne(Ha,8))}}static{this.\u0275dir=je({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ls("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[jn([cV]),Rt]})}}return t})();function gb(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function mb(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Bb=class extends md{constructor(e=null,n,r){super(Pb(n),Ob(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ed(n)&&(n.nonNullable||n.initialValueIsDefault)&&(mb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){mb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var lV=t=>t instanceof Bb;var dV={provide:Di,useExisting:Jt(()=>hV)},yb=Promise.resolve(),hV=(()=>{class t extends Di{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Bb,this._registered=!1,this.name="",this.update=new Oe,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=jb(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Vb(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){vd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){yb.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&la(r);yb.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?kb(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(ne(Kn,9),ne(Ci,10),ne(wd,10),ne(Om,10),ne(Ar,8),ne(Ha,8))}}static{this.\u0275dir=je({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[jn([dV]),Rt,Un]})}}return t})(),F6=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=je({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var $b=new U("");var fV={provide:Kn,useExisting:Jt(()=>pV)},pV=(()=>{class t extends Kn{get submitted(){return Ht(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Vs(()=>this._submittedReactive()),this._submittedReactive=ks(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Oe,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Id(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return vd(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){pb(n.control||null,n,!1),aV(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),Ub(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new xm(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Pm(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(pb(r||null,n),lV(i)&&(vd(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);Lb(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&sV(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lm(this.form,this),this._oldForm&&Id(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(ne(Ci,10),ne(wd,10),ne(Ha,8))}}static{this.\u0275dir=je({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ls("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[jn([fV]),Rt,Un]})}}return t})();var gV={provide:Di,useExisting:Jt(()=>mV)},mV=(()=>{class t extends Di{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Oe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=jb(this,s)}ngOnChanges(n){this._added||this._setUpControl(),Vb(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return kb(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(ne(Kn,13),ne(Ci,10),ne(wd,10),ne(Om,10),ne($b,8))}}static{this.\u0275dir=je({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[jn([gV]),Rt,Un]})}}return t})();function Hb(t){return typeof t=="number"?t:parseInt(t,10)}var Vm=(()=>{class t{constructor(){this._validator=dd}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):dd,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=je({type:t,features:[Un]})}}return t})();var yV={provide:Ci,useExisting:Jt(()=>vV),multi:!0};var vV=(()=>{class t extends Vm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=la,this.createValidator=n=>wb}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=br(t)))(i||t)}})()}static{this.\u0275dir=je({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Fs("required",i._enabled?"":null)},inputs:{required:"required"},features:[jn([yV]),Rt]})}}return t})();var _V={provide:Ci,useExisting:Jt(()=>IV),multi:!0},IV=(()=>{class t extends Vm{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=n=>Hb(n),this.createValidator=n=>Eb(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=br(t)))(i||t)}})()}static{this.\u0275dir=je({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Fs("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[jn([_V]),Rt]})}}return t})(),wV={provide:Ci,useExisting:Jt(()=>EV),multi:!0},EV=(()=>{class t extends Vm{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>Hb(n),this.createValidator=n=>Db(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=br(t)))(i||t)}})()}static{this.\u0275dir=je({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Fs("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[jn([wV]),Rt]})}}return t})();var qb=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Fn({type:t})}static{this.\u0275inj=kn({})}}return t})();var L6=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ha,useValue:n.callSetDisabledState??Dd}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Fn({type:t})}static{this.\u0275inj=kn({imports:[qb]})}}return t})(),V6=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:$b,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ha,useValue:n.callSetDisabledState??Dd}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Fn({type:t})}static{this.\u0275inj=kn({imports:[qb]})}}return t})();var Gb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Wb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,o||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Gb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new jm;let m=s<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},jm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},CV=function(t){let e=Gb(t);return Wb.encodeByteArray(e,!0)},qa=function(t){return CV(t).replace(/\./g,"")},$m=function(t){try{return Wb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function TV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var bV=()=>TV().__FIREBASE_DEFAULTS__,SV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&$m(t[1]);return e&&JSON.parse(e)},Td=()=>{try{return bV()||SV()||AV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hm=t=>{var e,n;return(n=(e=Td())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Kb=t=>{let e=Hm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qm=()=>{var t;return(t=Td())===null||t===void 0?void 0:t.config},zm=t=>{var e;return(e=Td())===null||e===void 0?void 0:e[`_${t}`]};var Cd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Qb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qa(JSON.stringify(n)),qa(JSON.stringify(o)),""].join(".")}function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function RV(){var t;let e=(t=Td())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Xb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eS(){let t=Qe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tS(){return!RV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gm(){try{return typeof indexedDB=="object"}catch{return!1}}function nS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var NV="FirebaseError",Pt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qn.prototype.create)}},Qn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?MV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Pt(i,a,r)}};function MV(t,e){return t.replace(xV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var xV=/\{\$([^}]+)}/g;function rS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ti(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(zb(s)&&zb(o)){if(!Ti(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function zb(t){return t!==null&&typeof t=="object"}function za(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iS(t,e){let n=new Bm(t,e);return n.subscribe.bind(n)}var Bm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Um),i.error===void 0&&(i.error=Um),i.complete===void 0&&(i.complete=Um);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function PV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Um(){}var B6=4*60*60*1e3;function Ye(t){return t&&t._delegate?t._delegate:t}var Gt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var bi="[DEFAULT]";var Wm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Cd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kV(e))try{this.getOrInitializeService({instanceIdentifier:bi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=bi){return this.instances.has(e)}getOptions(e=bi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bi){return this.component?this.component.multipleInstances?e:bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function OV(t){return t===bi?void 0:t}function kV(t){return t.instantiationMode==="EAGER"}var bd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Wm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var FV=[],ue=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ue||{}),LV={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},VV=ue.INFO,UV={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},jV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=UV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},kr=class{constructor(e){this.name=e,this._logLevel=VV,this._logHandler=jV,this._userLogHandler=null,FV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var BV=(t,e)=>e.some(n=>t instanceof n),sS,oS;function $V(){return sS||(sS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HV(){return oS||(oS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var aS=new WeakMap,Qm=new WeakMap,cS=new WeakMap,Km=new WeakMap,Zm=new WeakMap;function qV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(mn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aS.set(n,t)}).catch(()=>{}),Zm.set(e,t),e}function zV(t){if(Qm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Qm.set(t,e)}var Ym={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uS(t){Ym=t(Ym)}function GV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Sd(this),e,...n);return cS.set(r,e.sort?e.sort():[e]),mn(r)}:HV().includes(t)?function(...e){return t.apply(Sd(this),e),mn(aS.get(this))}:function(...e){return mn(t.apply(Sd(this),e))}}function WV(t){return typeof t=="function"?GV(t):(t instanceof IDBTransaction&&zV(t),BV(t,$V())?new Proxy(t,Ym):t)}function mn(t){if(t instanceof IDBRequest)return qV(t);if(Km.has(t))return Km.get(t);let e=WV(t);return e!==t&&(Km.set(t,e),Zm.set(e,t)),e}var Sd=t=>Zm.get(t);function dS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=mn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(mn(o.result),u.oldVersion,u.newVersion,mn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var KV=["get","getKey","getAll","getAllKeys","count"],QV=["put","add","delete","clear"],Jm=new Map;function lS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=QV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KV.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Jm.set(e,s),s}uS(t=>oe(k({},t),{get:(e,n,r)=>lS(e,n)||t.get(e,n,r),has:(e,n)=>!!lS(e,n)||t.has(e,n)}));var ey=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function YV(t){let e=t.getComponent();return e?.type==="VERSION"}var ty="@firebase/app",hS="0.10.11";var Yn=new kr("@firebase/app"),ZV="@firebase/app-compat",JV="@firebase/analytics-compat",XV="@firebase/analytics",eU="@firebase/app-check-compat",tU="@firebase/app-check",nU="@firebase/auth",rU="@firebase/auth-compat",iU="@firebase/database",sU="@firebase/database-compat",oU="@firebase/functions",aU="@firebase/functions-compat",cU="@firebase/installations",uU="@firebase/installations-compat",lU="@firebase/messaging",dU="@firebase/messaging-compat",hU="@firebase/performance",fU="@firebase/performance-compat",pU="@firebase/remote-config",gU="@firebase/remote-config-compat",mU="@firebase/storage",yU="@firebase/storage-compat",vU="@firebase/firestore",_U="@firebase/vertexai-preview",IU="@firebase/firestore-compat",wU="firebase",EU="10.13.2";var ny="[DEFAULT]",DU={[ty]:"fire-core",[ZV]:"fire-core-compat",[XV]:"fire-analytics",[JV]:"fire-analytics-compat",[tU]:"fire-app-check",[eU]:"fire-app-check-compat",[nU]:"fire-auth",[rU]:"fire-auth-compat",[iU]:"fire-rtdb",[sU]:"fire-rtdb-compat",[oU]:"fire-fn",[aU]:"fire-fn-compat",[cU]:"fire-iid",[uU]:"fire-iid-compat",[lU]:"fire-fcm",[dU]:"fire-fcm-compat",[hU]:"fire-perf",[fU]:"fire-perf-compat",[pU]:"fire-rc",[gU]:"fire-rc-compat",[mU]:"fire-gcs",[yU]:"fire-gcs-compat",[vU]:"fire-fst",[IU]:"fire-fst-compat",[_U]:"fire-vertex","fire-js":"fire-js",[wU]:"fire-js-all"};var Ga=new Map,CU=new Map,ry=new Map;function fS(t,e){try{t.container.addComponent(e)}catch(n){Yn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lr(t){let e=t.name;if(ry.has(e))return Yn.debug(`There were multiple attempts to register component ${e}.`),!1;ry.set(e,t);for(let n of Ga.values())fS(n,t);for(let n of CU.values())fS(n,t);return!0}function Ka(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zn(t){return t.settings!==void 0}var TU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new Qn("app","Firebase",TU);var iy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}};var Vr=EU;function ay(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ny,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Fr.create("bad-app-name",{appName:String(i)});if(n||(n=qm()),!n)throw Fr.create("no-options");let s=Ga.get(i);if(s){if(Ti(n,s.options)&&Ti(r,s.config))return s;throw Fr.create("duplicate-app",{appName:i})}let o=new bd(i);for(let u of ry.values())o.addComponent(u);let a=new iy(n,r,o);return Ga.set(i,a),a}function Xs(t=ny){let e=Ga.get(t);if(!e&&t===ny&&qm())return ay();if(!e)throw Fr.create("no-app",{appName:t});return e}function Ad(){return Array.from(Ga.values())}function We(t,e,n){var r;let i=(r=DU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yn.warn(a.join(" "));return}Lr(new Gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var bU="firebase-heartbeat-database",SU=1,Wa="firebase-heartbeat-store",Xm=null;function yS(){return Xm||(Xm=dS(bU,SU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fr.create("idb-open",{originalErrorMessage:t.message})})),Xm}function AU(t){return w(this,null,function*(){try{let n=(yield yS()).transaction(Wa),r=yield n.objectStore(Wa).get(vS(t));return yield n.done,r}catch(e){if(e instanceof Pt)Yn.warn(e.message);else{let n=Fr.create("idb-get",{originalErrorMessage:e?.message});Yn.warn(n.message)}}})}function pS(t,e){return w(this,null,function*(){try{let r=(yield yS()).transaction(Wa,"readwrite");yield r.objectStore(Wa).put(e,vS(t)),yield r.done}catch(n){if(n instanceof Pt)Yn.warn(n.message);else{let r=Fr.create("idb-set",{originalErrorMessage:n?.message});Yn.warn(r.message)}}})}function vS(t){return`${t.name}!${t.options.appId}`}var RU=1024,NU=30*24*60*60*1e3,sy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new oy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=NU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Yn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=gS(),{heartbeatsToSend:r,unsentEntries:i}=MU(this._heartbeatsCache.heartbeats),s=qa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Yn.warn(n),""}})}};function gS(){return new Date().toISOString().substring(0,10)}function MU(t,e=RU){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),mS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var oy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Gm()?nS().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield AU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return pS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return pS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function mS(t){return qa(JSON.stringify({version:2,heartbeats:t})).length}function xU(t){Lr(new Gt("platform-logger",e=>new ey(e),"PRIVATE")),Lr(new Gt("heartbeat",e=>new sy(e),"PRIVATE")),We(ty,hS,t),We(ty,hS,"esm2017"),We("fire-js","")}xU("");var PU="firebase",OU="10.13.2";We(PU,OU,"app");var Ai=new On("ANGULARFIRE2_VERSION");function Nd(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Qa=(t,e)=>{let n=e?[e]:Ad(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},to=class{constructor(){return Qa(kU)}},kU="app-check";function eo(){}var Rd=class{zone;delegate;constructor(e,n=Of){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},cy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",eo,{},eo,eo)),n.pipe(Ge({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},no=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Rd(Zone.current)),this.insideAngular=n.run(()=>new Rd(Zone.current,Pf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(W(_e))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Md(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function FU(t){return Md().ngZone.runOutsideAngular(()=>t())}function Si(t){return Md().ngZone.run(()=>t())}function LU(t){return VU(Md())(t)}function VU(t){return function(n){return n=n.lift(new cy(t.ngZone)),n.pipe(fr(t.outsideAngular),hr(t.insideAngular))}}var UU=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Si(()=>t.apply(void 0,r))},It=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Si(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",eo,{},eo,eo))),r[s]=UU(r[s],n));let i=FU(()=>t.apply(this,r));if(!e)if(i instanceof ae){let s=Md();return i.pipe(fr(s.outsideAngular),hr(s.insideAngular))}else return Si(()=>i);return i instanceof ae?i.pipe(LU):i instanceof Promise?Si(()=>new Promise((s,o)=>i.then(a=>Si(()=>s(a)),a=>Si(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Si(()=>i)};var Jn=class{constructor(e){return e}},Ri=class{constructor(){return Ad()}};function jU(t){return t&&t.length===1?t[0]:new Jn(Xs())}var uy=new U("angularfire2._apps"),BU={provide:Jn,useFactory:jU,deps:[[new at,uy]]},$U={provide:Ri,deps:[[new at,uy]]};function HU(t){return(e,n)=>{let r=n.get(pn);We("angularfire",Ai.full,"core"),We("angularfire",Ai.full,"app"),We("angular",UC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Jn(i)}}function S8(t,...e){return hn([BU,$U,{provide:uy,useFactory:HU(t),multi:!0,deps:[_e,tt,no,...e]}])}var A8=It(ay,!0);function PS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var OS=PS,kS=new Qn("auth","Firebase",PS());var Ld=new kr("@firebase/auth");function qU(t,...e){Ld.logLevel<=ue.WARN&&Ld.warn(`Auth (${Vr}): ${t}`,...e)}function Pd(t,...e){Ld.logLevel<=ue.ERROR&&Ld.error(`Auth (${Vr}): ${t}`,...e)}function jr(t,...e){throw Ry(t,...e)}function Mi(t,...e){return Ry(t,...e)}function FS(t,e,n){let r=Object.assign(Object.assign({},OS()),{[e]:n});return new Qn("auth","Firebase",r).create(e,{appName:t.name})}function Ni(t){return FS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ry(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kS.create(t,...e)}function Q(t,e,...n){if(!t)throw Ry(e,...n)}function Xn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Pd(e),new Error(e)}function Br(t,e){t||Xn(e)}function fy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zU(){return _S()==="http:"||_S()==="https:"}function _S(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function GU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zU()||Jb()||"connection"in navigator)?navigator.onLine:!0}function WU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var xi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=Yb()||Xb()}get(){return GU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ny(t,e){Br(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Vd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var KU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var QU=new xi(3e4,6e4);function My(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function io(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return LS(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=za(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let v=Object.assign({method:e,headers:m},l);return Zb()||(v.referrerPolicy="no-referrer"),Vd.fetch()(VS(t,t.config.apiHost,n,p),v)}))})}function LS(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},KU),e);try{let i=new py(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw xd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw xd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw xd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw xd(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw FS(t,h,l);jr(t,h)}}catch(i){if(i instanceof Pt)throw i;jr(t,"network-request-failed",{message:String(i)})}})}function YU(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield io(t,e,n,r,i);return"mfaPendingCredential"in l&&jr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function VS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Ny(t.config,i):`${t.config.apiScheme}://${i}`}var py=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mi(this.auth,"network-request-failed")),QU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function xd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Mi(t,e,r);return i.customData._tokenResponse=n,i}function ZU(t,e){return w(this,null,function*(){return io(t,"POST","/v1/accounts:delete",e)})}function US(t,e){return w(this,null,function*(){return io(t,"POST","/v1/accounts:lookup",e)})}function Ya(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function xy(t,e=!1){return w(this,null,function*(){let n=Ye(t),r=yield n.getIdToken(e),i=Py(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ya(ly(i.auth_time)),issuedAtTime:Ya(ly(i.iat)),expirationTime:Ya(ly(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function ly(t){return Number(t)*1e3}function Py(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pd("JWT malformed, contained fewer than 3 sections"),null;try{let i=$m(n);return i?JSON.parse(i):(Pd("Failed to decode base64 JWT payload"),null)}catch(i){return Pd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function IS(t){let e=Py(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ja(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Pt&&JU(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function JU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var gy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Xa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ya(this.lastLoginAt),this.creationTime=Ya(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ud(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ja(t,US(n,{idToken:r}));Q(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?jS(s.providerUserInfo):[],a=XU(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Xa(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Oy(t){return w(this,null,function*(){let e=Ye(t);yield Ud(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function XU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jS(t){return t.map(e=>{var{providerId:n}=e,r=kf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function ej(t,e){return w(this,null,function*(){let n=yield LS(t,{},()=>w(this,null,function*(){let r=za({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=VS(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Vd.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function tj(t,e){return w(this,null,function*(){return io(t,"POST","/v2/accounts:revokeToken",My(t,e))})}var Za=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let n=IS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield ej(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Xn("not implemented")}};function Ur(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ro=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=kf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Xa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Ja(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return xy(this,e)}reload(){return Oy(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Ud(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Zn(this.auth.app))return Promise.reject(Ni(this.auth));let e=yield this.getIdToken();return yield Ja(this,ZU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,H=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:ie,isAnonymous:Me,providerData:Z,stsTokenManager:D}=n;Q(q&&D,e,"internal-error");let y=Za.fromJSON(this.name,D);Q(typeof q=="string",e,"internal-error"),Ur(p,e.name),Ur(m,e.name),Q(typeof ie=="boolean",e,"internal-error"),Q(typeof Me=="boolean",e,"internal-error"),Ur(v,e.name),Ur(S,e.name),Ur(M,e.name),Ur(R,e.name),Ur(F,e.name),Ur(H,e.name);let _=new t({uid:q,auth:e,email:m,emailVerified:ie,displayName:p,isAnonymous:Me,photoURL:S,phoneNumber:v,tenantId:M,stsTokenManager:y,createdAt:F,lastLoginAt:H});return Z&&Array.isArray(Z)&&(_.providerData=Z.map(E=>Object.assign({},E))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Za;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ud(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];Q(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?jS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Za;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Xa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var wS=new Map;function er(t){Br(t instanceof Function,"Expected a class definition");let e=wS.get(t);return e?(Br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wS.set(t,e),e)}var nj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),my=nj;function Od(t,e,n){return`firebase:${t}:${e}:${n}`}var jd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Od(this.userKey,i.apiKey,s),this.fullPersistenceKey=Od("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ro._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(er(my),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||er(my),o=Od(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=ro._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function ES(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GS(e))return"Blackberry";if(WS(e))return"Webos";if($S(e))return"Safari";if((e.includes("chrome/")||HS(e))&&!e.includes("edge/"))return"Chrome";if(zS(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function BS(t=Qe()){return/firefox\//i.test(t)}function $S(t=Qe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HS(t=Qe()){return/crios\//i.test(t)}function qS(t=Qe()){return/iemobile/i.test(t)}function zS(t=Qe()){return/android/i.test(t)}function GS(t=Qe()){return/blackberry/i.test(t)}function WS(t=Qe()){return/webos/i.test(t)}function ky(t=Qe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rj(t=Qe()){var e;return ky(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ij(){return eS()&&document.documentMode===10}function KS(t=Qe()){return ky(t)||zS(t)||WS(t)||GS(t)||/windows phone/i.test(t)||qS(t)}function QS(t,e=[]){let n;switch(t){case"Browser":n=ES(Qe());break;case"Worker":n=`${ES(Qe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vr}/${r}`}var yy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function sj(n){return w(this,arguments,function*(t,e={}){return io(t,"GET","/v2/passwordPolicy",My(t,e))})}var oj=6,vy=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:oj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var _y=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bd(this),this.idTokenSubscription=new Bd(this),this.beforeStateQueue=new yy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=er(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield jd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield US(this,{idToken:e}),r=yield ro._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(Zn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Ud(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=WU()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Zn(this.app))return Promise.reject(Ni(this));let n=e?Ye(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Zn(this.app)?Promise.reject(Ni(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Zn(this.app)?Promise.reject(Ni(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(er(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield sj(this),n=new vy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield tj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&er(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=yield jd.create(this,[er(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&qU(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Fy(t){return Ye(t)}var Bd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=iS(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ly={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aj(t){Ly=t}function cj(t){return Ly.loadJS(t)}function uj(){return Ly.gapiScript}function YS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Vy(t,e){let n=Ka(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Ti(s,e??{}))return i;jr(i,"already-initialized")}return n.initialize({options:e})}function lj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(er);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Uy(t,e,n){let r=Fy(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=ZS(e),{host:o,port:a}=dj(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||hj()}function ZS(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dj(t){let e=ZS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:DS(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:DS(o)}}}function DS(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function hj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var $d=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xn("not implemented")}_getIdTokenResponse(e){return Xn("not implemented")}_linkToIdToken(e,n){return Xn("not implemented")}_getReauthenticationResolver(e){return Xn("not implemented")}};function dy(t,e){return w(this,null,function*(){return YU(t,"POST","/v1/accounts:signInWithIdp",My(t,e))})}var Hd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Iy=class extends Hd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ec=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield ro._fromIdTokenResponse(e,r,i),o=CS(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=CS(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function CS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var wy=class t extends Pt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function JS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wy._fromErrorAndOperation(t,s,e,r):s})}function fj(t,e,n=!1){return w(this,null,function*(){let r=yield Ja(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ec._forOperation(t,"link",r)})}function pj(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(Zn(r.app))return Promise.reject(Ni(r));let i="reauthenticate";try{let s=yield Ja(t,JS(r,i,e,t),n);Q(s.idToken,r,"internal-error");let o=Py(s.idToken);Q(o,r,"internal-error");let{sub:a}=o;return Q(t.uid===a,r,"user-mismatch"),ec._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&jr(r,"user-mismatch"),s}})}function gj(t,e,n=!1){return w(this,null,function*(){if(Zn(t.app))return Promise.reject(Ni(t));let r="signIn",i=yield JS(t,r,e),s=yield ec._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function jy(t,e,n,r){return Ye(t).onIdTokenChanged(e,n,r)}function By(t,e,n){return Ye(t).beforeAuthStateChanged(e,n)}var qd="__sak";var zd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qd,"1"),this.storage.removeItem(qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var mj=1e3,yj=10,vj=(()=>{class t extends zd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KS(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);ij()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,yj):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},mj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield lr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield lr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield lr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),XS=vj;var _j=(()=>{class t extends zd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),$y=_j;function Ij(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var wj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield Ij(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function e0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Ey=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=e0("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function yn(){return window}function Ej(t){yn().location.href=t}function t0(){return typeof yn().WorkerGlobalScope<"u"&&typeof yn().importScripts=="function"}function Dj(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Cj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Tj(){return t0()?self:null}var n0="firebaseLocalStorageDb",bj=1,Gd="firebaseLocalStorage",r0="fbase_key",Pi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Kd(t,e){return t.transaction([Gd],e?"readwrite":"readonly").objectStore(Gd)}function Sj(){let t=indexedDB.deleteDatabase(n0);return new Pi(t).toPromise()}function Dy(){let t=indexedDB.open(n0,bj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Gd,{keyPath:r0})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Gd)?e(r):(r.close(),yield Sj(),e(yield Dy()))}))})}function TS(t,e,n){return w(this,null,function*(){let r=Kd(t,!0).put({[r0]:e,value:n});return new Pi(r).toPromise()})}function Aj(t,e){return w(this,null,function*(){let n=Kd(t,!1).get(e),r=yield new Pi(n).toPromise();return r===void 0?null:r.value})}function bS(t,e){let n=Kd(t,!0).delete(e);return new Pi(n).toPromise()}var Rj=800,Nj=3,Mj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield Dy(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Nj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return t0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=wj._getInstance(Tj()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Dj(),!this.activeServiceWorker)return;this.sender=new Ey(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Cj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Dy();return yield TS(n,qd,"1"),yield bS(n,qd),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>TS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>Aj(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>bS(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=Kd(s,!1).getAll();return new Pi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),Rj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),i0=Mj;var V8=YS("rcb"),U8=new xi(3e4,6e4);function xj(t,e){return e?er(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var tc=class extends $d{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dy(e,this._buildIdpRequest())}_linkToIdToken(e,n){return dy(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return dy(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Pj(t){return gj(t.auth,new tc(t),t.bypassAuthState)}function Oj(t){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),pj(n,new tc(t),t.bypassAuthState)}function kj(t){return w(this,null,function*(){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),fj(n,new tc(t),t.bypassAuthState)})}var Cy=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Pj;case"linkViaPopup":case"linkViaRedirect":return kj;case"reauthViaPopup":case"reauthViaRedirect":return Oj;default:jr(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var j8=new xi(2e3,1e4);var Fj="pendingRedirect",kd=new Map,Ty=class t extends Cy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=kd.get(this.auth._key());if(!e){try{let r=(yield Lj(this.resolver,this.auth))?yield lr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kd.set(this.auth._key(),e)}return this.bypassAuthState||kd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return lr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,lr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function Lj(t,e){return w(this,null,function*(){let n=jj(e),r=Uj(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Vj(t,e){kd.set(t._key(),e)}function Uj(t){return er(t._redirectPersistence)}function jj(t){return Od(Fj,t.config.apiKey,t.name)}function Bj(t,e,n=!1){return w(this,null,function*(){if(Zn(t.app))return Promise.reject(Ni(t));let r=Fy(t),i=xj(r,e),o=yield new Ty(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var $j=10*60*1e3,by=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Hj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!s0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$j&&this.cachedEventUids.clear(),this.cachedEventUids.has(SS(e))}saveEventToCache(e){this.cachedEventUids.add(SS(e)),this.lastProcessedEventTime=Date.now()}};function SS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function s0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Hj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s0(t);default:return!1}}function qj(n){return w(this,arguments,function*(t,e={}){return io(t,"GET","/v1/projects",e)})}var zj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gj=/^https?/;function Wj(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield qj(t);for(let n of e)try{if(Kj(n))return}catch{}jr(t,"unauthorized-domain")})}function Kj(t){let e=fy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Gj.test(n))return!1;if(zj.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Qj=new xi(3e4,6e4);function AS(){let t=yn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Yj(t){return new Promise((e,n)=>{var r,i,s;function o(){AS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AS(),n(Mi(t,"network-request-failed"))},timeout:Qj.get()})}if(!((i=(r=yn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yn().gapi)===null||s===void 0)&&s.load)o();else{let a=YS("iframefcb");return yn()[a]=()=>{gapi.load?o():n(Mi(t,"network-request-failed"))},cj(`${uj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Fd=null,e})}var Fd=null;function Zj(t){return Fd=Fd||Yj(t),Fd}var Jj=new xi(5e3,15e3),Xj="__/auth/iframe",e2="emulator/auth/iframe",t2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r2(t){let e=t.config;Q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Ny(e,e2):`https://${t.config.authDomain}/${Xj}`,r={apiKey:e.apiKey,appName:t.name,v:Vr},i=n2.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${za(r).slice(1)}`}function i2(t){return w(this,null,function*(){let e=yield Zj(t),n=yn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:r2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t2,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Mi(t,"network-request-failed"),a=yn().setTimeout(()=>{s(o)},Jj.get());function u(){yn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var s2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o2=500,a2=600,c2="_blank",u2="http://localhost",Wd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function l2(t,e,n,r=o2,i=a2){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},s2),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Qe().toLowerCase();n&&(a=HS(l)?c2:n),BS(l)&&(e=e||u2,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[v,S])=>`${m}${v}=${S},`,"");if(rj(l)&&a!=="_self")return d2(e||"",a),new Wd(null);let p=window.open(e||"",a,h);Q(p,t,"popup-blocked");try{p.focus()}catch{}return new Wd(p)}function d2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var h2="__/auth/handler",f2="emulator/auth/handler",p2=encodeURIComponent("fac");function RS(t,e,n,r,i,s){return w(this,null,function*(){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vr,eventId:i};if(e instanceof Hd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",rS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof Iy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${p2}=${encodeURIComponent(u)}`:"";return`${g2(t)}?${za(a).slice(1)}${l}`})}function g2({config:t}){return t.emulator?Ny(t,f2):`https://${t.authDomain}/${h2}`}var hy="webStorageSupport",Sy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$y,this._completeRedirectFn=Bj,this._overrideRedirectResult=Vj}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Br((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield RS(e,n,r,fy(),i);return l2(e,o,e0())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield RS(e,n,r,fy(),i);return Ej(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Br(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield i2(e),r=new by(e);return n.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hy,{type:hy},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[hy];o!==void 0&&n(!!o),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Wj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KS()||$S()||ky()}},o0=Sy;var NS="@firebase/auth",MS="1.7.9";var Ay=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function m2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y2(t){Lr(new Gt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QS(t)},l=new _y(r,i,s,u);return lj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Lr(new Gt("auth-internal",e=>{let n=Fy(e.getProvider("auth").getImmediate());return(r=>new Ay(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(NS,MS,m2(t)),We(NS,MS,"esm2017")}var v2=5*60,_2=zm("authIdTokenMaxAge")||v2,xS=null,I2=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_2)return;let i=n?.token;xS!==i&&(xS=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Hy(t=Xs()){let e=Ka(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Vy(t,{popupRedirectResolver:o0,persistence:[i0,XS,$y]}),r=zm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=I2(s.toString());By(n,o,()=>o(n.currentUser)),jy(n,a=>o(a))}}let i=Hm("auth");return i&&Uy(n,`http://${i}`),n}function w2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}aj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Mi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",w2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y2("Browser");var a0="auth",nc=class{constructor(e){return e}},rc=class{constructor(){return Qa(a0)}};var qy=new U("angularfire2.auth-instances");function gB(t,e){let n=Nd(a0,t,e);return n&&new nc(n)}function mB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new nc(r)}}var yB={provide:rc,deps:[[new at,qy]]},vB={provide:nc,useFactory:gB,deps:[[new at,qy],Jn]};function b5(t,...e){return We("angularfire",Ai.full,"auth"),hn([vB,yB,{provide:qy,useFactory:mB(t),multi:!0,deps:[_e,tt,no,Ri,[new at,to],...e]}])}var S5=It(Hy,!0);var c0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},u0={};var $r,zy;(function(){var t;function e(D,y){function _(){}_.prototype=y.prototype,D.D=y.prototype,D.prototype=new _,D.prototype.constructor=D,D.C=function(E,C,b){for(var I=Array(arguments.length-2),Tn=2;Tn<arguments.length;Tn++)I[Tn-2]=arguments[Tn];return y.prototype[C].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)E[C]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(C=0;16>C;++C)E[C]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=D.g[0],_=D.g[1],C=D.g[2];var b=D.g[3],I=y+(b^_&(C^b))+E[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=b+(C^y&(_^C))+E[1]+3905402710&4294967295,b=y+(I<<12&4294967295|I>>>20),I=C+(_^b&(y^_))+E[2]+606105819&4294967295,C=b+(I<<17&4294967295|I>>>15),I=_+(y^C&(b^y))+E[3]+3250441966&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(b^_&(C^b))+E[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=b+(C^y&(_^C))+E[5]+1200080426&4294967295,b=y+(I<<12&4294967295|I>>>20),I=C+(_^b&(y^_))+E[6]+2821735955&4294967295,C=b+(I<<17&4294967295|I>>>15),I=_+(y^C&(b^y))+E[7]+4249261313&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(b^_&(C^b))+E[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=b+(C^y&(_^C))+E[9]+2336552879&4294967295,b=y+(I<<12&4294967295|I>>>20),I=C+(_^b&(y^_))+E[10]+4294925233&4294967295,C=b+(I<<17&4294967295|I>>>15),I=_+(y^C&(b^y))+E[11]+2304563134&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(b^_&(C^b))+E[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=b+(C^y&(_^C))+E[13]+4254626195&4294967295,b=y+(I<<12&4294967295|I>>>20),I=C+(_^b&(y^_))+E[14]+2792965006&4294967295,C=b+(I<<17&4294967295|I>>>15),I=_+(y^C&(b^y))+E[15]+1236535329&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(C^b&(_^C))+E[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=b+(_^C&(y^_))+E[6]+3225465664&4294967295,b=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(b^y))+E[11]+643717713&4294967295,C=b+(I<<14&4294967295|I>>>18),I=_+(b^y&(C^b))+E[0]+3921069994&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^b&(_^C))+E[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=b+(_^C&(y^_))+E[10]+38016083&4294967295,b=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(b^y))+E[15]+3634488961&4294967295,C=b+(I<<14&4294967295|I>>>18),I=_+(b^y&(C^b))+E[4]+3889429448&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^b&(_^C))+E[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=b+(_^C&(y^_))+E[14]+3275163606&4294967295,b=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(b^y))+E[3]+4107603335&4294967295,C=b+(I<<14&4294967295|I>>>18),I=_+(b^y&(C^b))+E[8]+1163531501&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^b&(_^C))+E[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=b+(_^C&(y^_))+E[2]+4243563512&4294967295,b=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(b^y))+E[7]+1735328473&4294967295,C=b+(I<<14&4294967295|I>>>18),I=_+(b^y&(C^b))+E[12]+2368359562&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(_^C^b)+E[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=b+(y^_^C)+E[8]+2272392833&4294967295,b=y+(I<<11&4294967295|I>>>21),I=C+(b^y^_)+E[11]+1839030562&4294967295,C=b+(I<<16&4294967295|I>>>16),I=_+(C^b^y)+E[14]+4259657740&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^b)+E[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=b+(y^_^C)+E[4]+1272893353&4294967295,b=y+(I<<11&4294967295|I>>>21),I=C+(b^y^_)+E[7]+4139469664&4294967295,C=b+(I<<16&4294967295|I>>>16),I=_+(C^b^y)+E[10]+3200236656&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^b)+E[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=b+(y^_^C)+E[0]+3936430074&4294967295,b=y+(I<<11&4294967295|I>>>21),I=C+(b^y^_)+E[3]+3572445317&4294967295,C=b+(I<<16&4294967295|I>>>16),I=_+(C^b^y)+E[6]+76029189&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^b)+E[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=b+(y^_^C)+E[12]+3873151461&4294967295,b=y+(I<<11&4294967295|I>>>21),I=C+(b^y^_)+E[15]+530742520&4294967295,C=b+(I<<16&4294967295|I>>>16),I=_+(C^b^y)+E[2]+3299628645&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(C^(_|~b))+E[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=b+(_^(y|~C))+E[7]+1126891415&4294967295,b=y+(I<<10&4294967295|I>>>22),I=C+(y^(b|~_))+E[14]+2878612391&4294967295,C=b+(I<<15&4294967295|I>>>17),I=_+(b^(C|~y))+E[5]+4237533241&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~b))+E[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=b+(_^(y|~C))+E[3]+2399980690&4294967295,b=y+(I<<10&4294967295|I>>>22),I=C+(y^(b|~_))+E[10]+4293915773&4294967295,C=b+(I<<15&4294967295|I>>>17),I=_+(b^(C|~y))+E[1]+2240044497&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~b))+E[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=b+(_^(y|~C))+E[15]+4264355552&4294967295,b=y+(I<<10&4294967295|I>>>22),I=C+(y^(b|~_))+E[6]+2734768916&4294967295,C=b+(I<<15&4294967295|I>>>17),I=_+(b^(C|~y))+E[13]+1309151649&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~b))+E[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=b+(_^(y|~C))+E[11]+3174756917&4294967295,b=y+(I<<10&4294967295|I>>>22),I=C+(y^(b|~_))+E[2]+718787259&4294967295,C=b+(I<<15&4294967295|I>>>17),I=_+(b^(C|~y))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+b&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var _=y-this.blockSize,E=this.B,C=this.h,b=0;b<y;){if(C==0)for(;b<=_;)i(this,D,b),b+=this.blockSize;if(typeof D=="string"){for(;b<y;)if(E[C++]=D.charCodeAt(b++),C==this.blockSize){i(this,E),C=0;break}}else for(;b<y;)if(E[C++]=D[b++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var _=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=_&255,_/=256;for(this.u(D),D=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)D[_++]=this.g[y]>>>E&255;return D};function s(D,y){var _=a;return Object.prototype.hasOwnProperty.call(_,D)?_[D]:_[D]=y(D)}function o(D,y){this.h=y;for(var _=[],E=!0,C=D.length-1;0<=C;C--){var b=D[C]|0;E&&b==y||(_[C]=b,E=!1)}this.g=_}var a={};function u(D){return-128<=D&&128>D?s(D,function(y){return new o([y|0],0>y?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var y=[],_=1,E=0;D>=_;E++)y[E]=D/_|0,_*=4294967296;return new o(y,0)}function h(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return R(h(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,C=0;C<D.length;C+=8){var b=Math.min(8,D.length-C),I=parseInt(D.substring(C,C+b),y);8>b?(b=l(Math.pow(y,b)),E=E.j(b).add(l(I))):(E=E.j(_),E=E.add(l(I)))}return E}var p=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-R(this).m();for(var D=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);D+=(0<=E?E:4294967296+E)*y,y*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(M(this))return"-"+R(this).toString(D);for(var y=l(Math.pow(D,6)),_=this,E="";;){var C=ie(_,y).g;_=F(_,C.j(y));var b=((0<_.g.length?_.g[0]:_.h)>>>0).toString(D);if(_=C,S(_))return b+E;for(;6>b.length;)b="0"+b;E=b+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=F(this,D),M(D)?-1:S(D)?0:1};function R(D){for(var y=D.g.length,_=[],E=0;E<y;E++)_[E]=~D.g[E];return new o(_,~D.h).add(m)}t.abs=function(){return M(this)?R(this):this},t.add=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0,C=0;C<=y;C++){var b=E+(this.i(C)&65535)+(D.i(C)&65535),I=(b>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);E=I>>>16,b&=65535,I&=65535,_[C]=I<<16|b}return new o(_,_[_.length-1]&-2147483648?-1:0)};function F(D,y){return D.add(R(y))}t.j=function(D){if(S(this)||S(D))return p;if(M(this))return M(D)?R(this).j(R(D)):R(R(this).j(D));if(M(D))return R(this.j(R(D)));if(0>this.l(v)&&0>D.l(v))return l(this.m()*D.m());for(var y=this.g.length+D.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<D.g.length;C++){var b=this.i(E)>>>16,I=this.i(E)&65535,Tn=D.i(C)>>>16,So=D.i(C)&65535;_[2*E+2*C]+=I*So,H(_,2*E+2*C),_[2*E+2*C+1]+=b*So,H(_,2*E+2*C+1),_[2*E+2*C+1]+=I*Tn,H(_,2*E+2*C+1),_[2*E+2*C+2]+=b*Tn,H(_,2*E+2*C+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new o(_,0)};function H(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function q(D,y){this.g=D,this.h=y}function ie(D,y){if(S(y))throw Error("division by zero");if(S(D))return new q(p,p);if(M(D))return y=ie(R(D),y),new q(R(y.g),R(y.h));if(M(y))return y=ie(D,R(y)),new q(R(y.g),y.h);if(30<D.g.length){if(M(D)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=y;0>=E.l(D);)_=Me(_),E=Me(E);var C=Z(_,1),b=Z(E,1);for(E=Z(E,2),_=Z(_,2);!S(E);){var I=b.add(E);0>=I.l(D)&&(C=C.add(_),b=I),E=Z(E,1),_=Z(_,1)}return y=F(D,C.j(y)),new q(C,y)}for(C=p;0<=D.l(y);){for(_=Math.max(1,Math.floor(D.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),b=l(_),I=b.j(y);M(I)||0<I.l(D);)_-=E,b=l(_),I=b.j(y);S(b)&&(b=m),C=C.add(b),D=F(D,I)}return new q(C,D)}t.A=function(D){return ie(this,D).h},t.and=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&D.i(E);return new o(_,this.h&D.h)},t.or=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|D.i(E);return new o(_,this.h|D.h)},t.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^D.i(E);return new o(_,this.h^D.h)};function Me(D){for(var y=D.g.length+1,_=[],E=0;E<y;E++)_[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(_,D.h)}function Z(D,y){var _=y>>5;y%=32;for(var E=D.g.length-_,C=[],b=0;b<E;b++)C[b]=0<y?D.i(b+_)>>>y|D.i(b+_+1)<<32-y:D.i(b+_);return new o(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zy=u0.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,$r=u0.Integer=o}).apply(typeof c0<"u"?c0:typeof self<"u"?self:typeof window<"u"?window:{});var Qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tr={};var Gy,Wy,so,Ky,ic,Yd,Qy,Yy,Zy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qd=="object"&&Qd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var T=c[g];if(!(T in f))break e;f=f[T]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,T={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,T,A){for(var O=Array(arguments.length-2),we=2;we<arguments.length;we++)O[we-2]=arguments[we];return d.prototype[T].apply(g,O)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let T=c.length||0,A=g.length||0;c.length=T+A;for(let O=0;O<A;O++)c[T+O]=g[O]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var Me=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function Z(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)c[f]=g[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function b(c){a.setTimeout(()=>{throw c},0)}function I(){var c=zh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Tn{constructor(){this.h=this.g=null}add(d,f){let g=So.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var So=new F(()=>new cR,c=>c.reset());class cR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ao,Ro=!1,zh=new Tn,oI=()=>{let c=a.Promise.resolve(void 0);Ao=()=>{c.then(uR)}};var uR=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){b(f)}var d=So;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ro=!1};function or(){this.s=this.s,this.C=this.C}or.prototype.s=!1,or.prototype.ma=function(){this.s||(this.s=!0,this.N())},or.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var lR=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function No(c,d){if(rt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Me){e:{try{ie(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:dR[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&No.aa.h.call(this)}}S(No,rt);var dR={2:"touch",3:"pen",4:"mouse"};No.prototype.h=function(){No.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Mo="closure_listenable_"+(1e6*Math.random()|0),hR=0;function fR(c,d,f,g,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++hR,this.da=this.fa=!1}function Nc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Mc(c){this.src=c,this.g={},this.h=0}Mc.prototype.add=function(c,d,f,g,T){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var O=Wh(c,d,g,T);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new fR(d,this.src,A,!!g,T),d.fa=f,c.push(d)),d};function Gh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],T=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=T)&&Array.prototype.splice.call(g,T,1),A&&(Nc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Wh(c,d,f,g){for(var T=0;T<c.length;++T){var A=c[T];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return T}return-1}var Kh="closure_lm_"+(1e6*Math.random()|0),Qh={};function aI(c,d,f,g,T){if(g&&g.once)return uI(c,d,f,g,T);if(Array.isArray(d)){for(var A=0;A<d.length;A++)aI(c,d[A],f,g,T);return null}return f=Xh(f),c&&c[Mo]?c.K(d,f,l(g)?!!g.capture:!!g,T):cI(c,d,f,!1,g,T)}function cI(c,d,f,g,T,A){if(!d)throw Error("Invalid event type");var O=l(T)?!!T.capture:!!T,we=Zh(c);if(we||(c[Kh]=we=new Mc(c)),f=we.add(d,f,g,O,A),f.proxy)return f;if(g=pR(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)lR||(T=O),T===void 0&&(T=!1),c.addEventListener(d.toString(),g,T);else if(c.attachEvent)c.attachEvent(dI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function pR(){function c(f){return d.call(c.src,c.listener,f)}let d=gR;return c}function uI(c,d,f,g,T){if(Array.isArray(d)){for(var A=0;A<d.length;A++)uI(c,d[A],f,g,T);return null}return f=Xh(f),c&&c[Mo]?c.L(d,f,l(g)?!!g.capture:!!g,T):cI(c,d,f,!0,g,T)}function lI(c,d,f,g,T){if(Array.isArray(d))for(var A=0;A<d.length;A++)lI(c,d[A],f,g,T);else g=l(g)?!!g.capture:!!g,f=Xh(f),c&&c[Mo]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Wh(A,f,g,T),-1<f&&(Nc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Zh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Wh(d,f,g,T)),(f=-1<c?d[c]:null)&&Yh(f))}function Yh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Mo])Gh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(dI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Zh(d))?(Gh(f,c),f.h==0&&(f.src=null,d[Kh]=null)):Nc(c)}}}function dI(c){return c in Qh?Qh[c]:Qh[c]="on"+c}function gR(c,d){if(c.da)c=!0;else{d=new No(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Yh(c),c=f.call(g,d)}return c}function Zh(c){return c=c[Kh],c instanceof Mc?c:null}var Jh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xh(c){return typeof c=="function"?c:(c[Jh]||(c[Jh]=function(d){return c.handleEvent(d)}),c[Jh])}function it(){or.call(this),this.i=new Mc(this),this.M=this,this.F=null}S(it,or),it.prototype[Mo]=!0,it.prototype.removeEventListener=function(c,d,f,g){lI(this,c,d,f,g)};function ht(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new rt(d,c);else if(d instanceof rt)d.target=d.target||c;else{var T=d;d=new rt(g,c),E(d,T)}if(T=!0,f)for(var A=f.length-1;0<=A;A--){var O=d.g=f[A];T=xc(O,g,!0,d)&&T}if(O=d.g=c,T=xc(O,g,!0,d)&&T,T=xc(O,g,!1,d)&&T,f)for(A=0;A<f.length;A++)O=d.g=f[A],T=xc(O,g,!1,d)&&T}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Nc(f[g]);delete c.g[d],c.h--}}this.F=null},it.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},it.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function xc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,A=0;A<d.length;++A){var O=d[A];if(O&&!O.da&&O.capture==f){var we=O.listener,Je=O.ha||O.src;O.fa&&Gh(c.i,O),T=we.call(Je,g)!==!1&&T}}return T&&!g.defaultPrevented}function hI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function fI(c){c.g=hI(()=>{c.g=null,c.i&&(c.i=!1,fI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class mR extends or{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:fI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xo(c){or.call(this),this.h=c,this.g={}}S(xo,or);var pI=[];function gI(c){Z(c.g,function(d,f){this.g.hasOwnProperty(f)&&Yh(d)},c),c.g={}}xo.prototype.N=function(){xo.aa.N.call(this),gI(this)},xo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ef=a.JSON.stringify,yR=a.JSON.parse,vR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function tf(){}tf.prototype.h=null;function mI(c){return c.h||(c.h=c.i())}function yI(){}var Po={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nf(){rt.call(this,"d")}S(nf,rt);function rf(){rt.call(this,"c")}S(rf,rt);var Zr={},vI=null;function Pc(){return vI=vI||new it}Zr.La="serverreachability";function _I(c){rt.call(this,Zr.La,c)}S(_I,rt);function Oo(c){let d=Pc();ht(d,new _I(d))}Zr.STAT_EVENT="statevent";function II(c,d){rt.call(this,Zr.STAT_EVENT,c),this.stat=d}S(II,rt);function ft(c){let d=Pc();ht(d,new II(d,c))}Zr.Ma="timingevent";function wI(c,d){rt.call(this,Zr.Ma,c),this.size=d}S(wI,rt);function ko(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Fo(){this.g=!0}Fo.prototype.xa=function(){this.g=!1};function _R(c,d,f,g,T,A){c.info(function(){if(c.g)if(A)for(var O="",we=A.split("&"),Je=0;Je<we.length;Je++){var ge=we[Je].split("=");if(1<ge.length){var st=ge[0];ge=ge[1];var ot=st.split("_");O=2<=ot.length&&ot[1]=="type"?O+(st+"="+ge+"&"):O+(st+"=redacted&")}}else O=null;else O=A;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+O})}function IR(c,d,f,g,T,A,O){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+A+" "+O})}function Gi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+ER(c,f)+(g?" "+g:"")})}function wR(c,d){c.info(function(){return"TIMEOUT: "+d})}Fo.prototype.info=function(){};function ER(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var A=T[0];if(A!="noop"&&A!="stop"&&A!="close")for(var O=1;O<T.length;O++)T[O]=""}}}}return ef(f)}catch{return d}}var Oc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},EI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sf;function kc(){}S(kc,tf),kc.prototype.g=function(){return new XMLHttpRequest},kc.prototype.i=function(){return{}},sf=new kc;function ar(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new xo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new DI}function DI(){this.i=null,this.g="",this.h=!1}var CI={},of={};function af(c,d,f){c.L=1,c.v=Uc(bn(d)),c.m=f,c.P=!0,TI(c,null)}function TI(c,d){c.F=Date.now(),Fc(c),c.A=bn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),UI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new DI,c.g=rw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new mR(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(pI[0]=T.toString()),T=pI);for(var A=0;A<T.length;A++){var O=aI(f,T[A],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Oo(),_R(c.i,c.u,c.A,c.l,c.R,c.m)}ar.prototype.ca=function(c){c=c.target;let d=this.M;d&&Sn(c)==3?d.j():this.Y(c)},ar.prototype.Y=function(c){try{if(c==this.g)e:{let ot=Sn(this.g);var d=this.g.Ba();let Qi=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||GI(this.g)))){this.J||ot!=4||d==7||(d==8||0>=Qi?Oo(3):Oo(2)),cf(this);var f=this.g.Z();this.X=f;t:if(bI(this)){var g=GI(this.g);c="";var T=g.length,A=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jr(this),Lo(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==T-1)});g.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,IR(this.i,this.u,this.A,this.l,this.R,ot,f),this.o){if(this.T&&!this.K){t:{if(this.g){var we,Je=this.g;if((we=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(we)){var ge=we;break t}}ge=null}if(f=ge)Gi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uf(this,f);else{this.o=!1,this.s=3,ft(12),Jr(this),Lo(this);break e}}if(this.P){f=!0;let Kt;for(;!this.J&&this.C<O.length;)if(Kt=DR(this,O),Kt==of){ot==4&&(this.s=4,ft(14),f=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==CI){this.s=4,ft(15),Gi(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else Gi(this.i,this.l,Kt,null),uf(this,Kt);if(bI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||O.length!=0||this.h.h||(this.s=1,ft(16),f=!1),this.o=this.o&&f,!f)Gi(this.i,this.l,O,"[Invalid Chunked Response]"),Jr(this),Lo(this);else if(0<O.length&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.ba&&!st.M&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),gf(st),st.M=!0,ft(11))}}else Gi(this.i,this.l,O,null),uf(this,O);ot==4&&Jr(this),this.o&&!this.J&&(ot==4?XI(this.j,this):(this.o=!1,Fc(this)))}else jR(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Jr(this),Lo(this)}}}catch{}finally{}};function bI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function DR(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?of:(f=Number(d.substring(f,g)),isNaN(f)?CI:(g+=1,g+f>d.length?of:(d=d.slice(g,g+f),c.C=g+f,d)))}ar.prototype.cancel=function(){this.J=!0,Jr(this)};function Fc(c){c.S=Date.now()+c.I,SI(c,c.I)}function SI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ko(m(c.ba,c),d)}function cf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ar.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(wR(this.i,this.A),this.L!=2&&(Oo(),ft(17)),Jr(this),this.s=2,Lo(this)):SI(this,this.S-c)};function Lo(c){c.j.G==0||c.J||XI(c.j,c)}function Jr(c){cf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,gI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function uf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||lf(f.h,c))){if(!c.K&&lf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)qc(f),$c(f);else break e;pf(f),ft(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=ko(m(f.Za,f),6e3));if(1>=NI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ei(f,11)}else if((c.K||f.g==c)&&qc(f),!H(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let ge=T[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let st=ge[3];st!=null&&(f.la=st,f.j.info("VER="+f.la));let ot=ge[4];ot!=null&&(f.Aa=ot,f.j.info("SVER="+f.Aa));let Qi=ge[5];Qi!=null&&typeof Qi=="number"&&0<Qi&&(g=1.5*Qi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Kt=c.g;if(Kt){let Gc=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gc){var A=g.h;A.g||Gc.indexOf("spdy")==-1&&Gc.indexOf("quic")==-1&&Gc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(df(A,A.h),A.h=null))}if(g.D){let mf=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;mf&&(g.ya=mf,Se(g.I,g.D,mf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var O=c;if(g.qa=nw(g,g.J?g.ia:null,g.W),O.K){MI(g.h,O);var we=O,Je=g.L;Je&&(we.I=Je),we.B&&(cf(we),Fc(we)),g.g=O}else ZI(g);0<f.i.length&&Hc(f)}else ge[0]!="stop"&&ge[0]!="close"||ei(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?ei(f,7):ff(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}Oo(4)}catch{}}var CR=class{constructor(c,d){this.g=c,this.map=d}};function AI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function RI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function NI(c){return c.h?1:c.g?c.g.size:0}function lf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function df(c,d){c.g?c.g.add(d):c.h=d}function MI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}AI.prototype.cancel=function(){if(this.i=xI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function xI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function TR(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function bR(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function PI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=bR(c),g=TR(c),T=g.length,A=0;A<T;A++)d.call(void 0,g[A],f&&f[A],c)}var OI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SR(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),T=null;if(0<=g){var A=c[f].substring(0,g);T=c[f].substring(g+1)}else A=c[f];d(A,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Xr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Xr){this.h=c.h,Lc(this,c.j),this.o=c.o,this.g=c.g,Vc(this,c.s),this.l=c.l;var d=c.i,f=new jo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),kI(this,f),this.m=c.m}else c&&(d=String(c).match(OI))?(this.h=!1,Lc(this,d[1]||"",!0),this.o=Vo(d[2]||""),this.g=Vo(d[3]||"",!0),Vc(this,d[4]),this.l=Vo(d[5]||"",!0),kI(this,d[6]||"",!0),this.m=Vo(d[7]||"")):(this.h=!1,this.i=new jo(null,this.h))}Xr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Uo(d,FI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Uo(d,FI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Uo(f,f.charAt(0)=="/"?NR:RR,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Uo(f,xR)),c.join("")};function bn(c){return new Xr(c)}function Lc(c,d,f){c.j=f?Vo(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Vc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function kI(c,d,f){d instanceof jo?(c.i=d,PR(c.i,c.h)):(f||(d=Uo(d,MR)),c.i=new jo(d,c.h))}function Se(c,d,f){c.i.set(d,f)}function Uc(c){return Se(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Vo(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Uo(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,AR),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function AR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var FI=/[#\/\?@]/g,RR=/[#\?:]/g,NR=/[#\?]/g,MR=/[#\?@]/g,xR=/#/g;function jo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function cr(c){c.g||(c.g=new Map,c.h=0,c.i&&SR(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=jo.prototype,t.add=function(c,d){cr(this),this.i=null,c=Wi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function LI(c,d){cr(c),d=Wi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function VI(c,d){return cr(c),d=Wi(c,d),c.g.has(d)}t.forEach=function(c,d){cr(this),this.g.forEach(function(f,g){f.forEach(function(T){c.call(d,T,g,this)},this)},this)},t.na=function(){cr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let T=c[g];for(let A=0;A<T.length;A++)f.push(d[g])}return f},t.V=function(c){cr(this);let d=[];if(typeof c=="string")VI(this,c)&&(d=d.concat(this.g.get(Wi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return cr(this),this.i=null,c=Wi(this,c),VI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function UI(c,d,f){LI(c,d),0<f.length&&(c.i=null,c.g.set(Wi(c,d),M(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var T=A;O[g]!==""&&(T+="="+encodeURIComponent(String(O[g]))),c.push(T)}}return this.i=c.join("&")};function Wi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function PR(c,d){d&&!c.j&&(cr(c),c.i=null,c.g.forEach(function(f,g){var T=g.toLowerCase();g!=T&&(LI(this,g),UI(this,T,f))},c)),c.j=d}function OR(c,d){let f=new Fo;if(a.Image){let g=new Image;g.onload=v(ur,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(ur,f,"TestLoadImage: error",!1,d,g),g.onabort=v(ur,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(ur,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function kR(c,d){let f=new Fo,g=new AbortController,T=setTimeout(()=>{g.abort(),ur(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(T),A.ok?ur(f,"TestPingServer: ok",!0,d):ur(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),ur(f,"TestPingServer: error",!1,d)})}function ur(c,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function FR(){this.g=new vR}function LR(c,d,f){let g=f||"";try{PI(c,function(T,A){let O=T;l(T)&&(O=ef(T)),d.push(g+A+"="+encodeURIComponent(O))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function Bo(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Bo,tf),Bo.prototype.g=function(){return new jc(this.l,this.j)},Bo.prototype.i=function(c){return function(){return c}}({});function jc(c,d){it.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(jc,it),t=jc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ho(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$o(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ho(this)),this.g&&(this.readyState=3,Ho(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function jI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?$o(this):Ho(this),this.readyState==3&&jI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,$o(this))},t.Qa=function(c){this.g&&(this.response=c,$o(this))},t.ga=function(){this.g&&$o(this)};function $o(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ho(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ho(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(jc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function BI(c){let d="";return Z(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function hf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=BI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Se(c,d,f))}function xe(c){it.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(xe,it);var VR=/^https?$/i,UR=["POST","PUT"];t=xe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sf.g(),this.v=this.o?mI(this.o):mI(sf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){$I(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(UR,d,void 0))||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,O]of f)this.g.setRequestHeader(A,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){$I(this,A)}};function $I(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,HI(c),Bc(c)}function HI(c){c.A||(c.A=!0,ht(c,"complete"),ht(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ht(this,"complete"),ht(this,"abort"),Bc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bc(this,!0)),xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qI(this):this.bb())},t.bb=function(){qI(this)};function qI(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Sn(c)!=4||c.Z()!=2)){if(c.u&&Sn(c)==4)hI(c.Ea,0,c);else if(ht(c,"readystatechange"),Sn(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=O===0){var T=String(c.D).match(OI)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),g=!VR.test(T?T.toLowerCase():"")}f=g}if(f)ht(c,"complete"),ht(c,"success");else{c.m=6;try{var A=2<Sn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",HI(c)}}finally{Bc(c)}}}}function Bc(c,d){if(c.g){zI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ht(c,"ready");try{f.onreadystatechange=g}catch{}}}function zI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Sn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),yR(d)}};function GI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function jR(c){let d={};c=(c.g&&2<=Sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(H(c[g]))continue;var f=C(c[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[T]||[];d[T]=A,A.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qo(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function WI(c){this.Aa=0,this.i=[],this.j=new Fo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qo("baseRetryDelayMs",5e3,c),this.cb=qo("retryDelaySeedMs",1e4,c),this.Wa=qo("forwardChannelMaxRetries",2,c),this.wa=qo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new AI(c&&c.concurrentRequestLimit),this.Da=new FR,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=WI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){ft(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=nw(this,null,this.W),Hc(this)};function ff(c){if(KI(c),c.G==3){var d=c.U++,f=bn(c.I);if(Se(f,"SID",c.K),Se(f,"RID",d),Se(f,"TYPE","terminate"),zo(c,f),d=new ar(c,c.j,d),d.L=2,d.v=Uc(bn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=rw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Fc(d)}tw(c)}function $c(c){c.g&&(gf(c),c.g.cancel(),c.g=null)}function KI(c){$c(c),c.u&&(a.clearTimeout(c.u),c.u=null),qc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Hc(c){if(!RI(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ao||oI(),Ro||(Ao(),Ro=!0),zh.add(d,c),c.B=0}}function BR(c,d){return NI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ko(m(c.Ga,c,d),ew(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new ar(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(T.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=YI(this,T,d),f=bn(this.I),Se(f,"RID",c),Se(f,"CVER",22),this.D&&Se(f,"X-HTTP-Session-Id",this.D),zo(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(BI(A)))+"&"+d:this.m&&hf(f,this.m,A)),df(this.h,T),this.Ua&&Se(f,"TYPE","init"),this.P?(Se(f,"$req",d),Se(f,"SID","null"),T.T=!0,af(T,f,null)):af(T,f,d),this.G=2}}else this.G==3&&(c?QI(this,c):this.i.length==0||RI(this.h)||QI(this))};function QI(c,d){var f;d?f=d.l:f=c.U++;let g=bn(c.I);Se(g,"SID",c.K),Se(g,"RID",f),Se(g,"AID",c.T),zo(c,g),c.m&&c.o&&hf(g,c.m,c.o),f=new ar(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=YI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),df(c.h,f),af(f,g,d)}function zo(c,d){c.H&&Z(c.H,function(f,g){Se(d,g,f)}),c.l&&PI({},function(f,g){Se(d,g,f)})}function YI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var T=c.i;let A=-1;for(;;){let O=["count="+f];A==-1?0<f?(A=T[0].g,O.push("ofs="+A)):A=0:O.push("ofs="+A);let we=!0;for(let Je=0;Je<f;Je++){let ge=T[Je].g,st=T[Je].map;if(ge-=A,0>ge)A=Math.max(0,T[Je].g-100),we=!1;else try{LR(st,O,"req"+ge+"_")}catch{g&&g(st)}}if(we){g=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function ZI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ao||oI(),Ro||(Ao(),Ro=!0),zh.add(d,c),c.v=0}}function pf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ko(m(c.Fa,c),ew(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,JI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ko(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),$c(this),JI(this))};function gf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function JI(c){c.g=new ar(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=bn(c.qa);Se(d,"RID","rpc"),Se(d,"SID",c.K),Se(d,"AID",c.T),Se(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Se(d,"TO",c.ja),Se(d,"TYPE","xmlhttp"),zo(c,d),c.m&&c.o&&hf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Uc(bn(d)),f.m=null,f.P=!0,TI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,$c(this),pf(this),ft(19))};function qc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function XI(c,d){var f=null;if(c.g==d){qc(c),gf(c),c.g=null;var g=2}else if(lf(c.h,d))f=d.D,MI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;g=Pc(),ht(g,new wI(g,f)),Hc(c)}else ZI(c);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&BR(c,d)||g==2&&pf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:ei(c,5);break;case 4:ei(c,10);break;case 3:ei(c,6);break;default:ei(c,2)}}}function ew(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ei(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let T=!g;g=new Xr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Lc(g,"https"),Uc(g),T?OR(g.toString(),f):kR(g.toString(),f)}else ft(2);c.G=0,c.l&&c.l.sa(d),tw(c),KI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function tw(c){if(c.G=0,c.ka=[],c.l){let d=xI(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function nw(c,d,f){var g=f instanceof Xr?bn(f):new Xr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Vc(g,g.s);else{var T=a.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var A=new Xr(null);g&&Lc(A,g),d&&(A.g=d),T&&Vc(A,T),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Se(g,f,d),Se(g,"VER",c.la),zo(c,g),g}function rw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new xe(new Bo({eb:f})):new xe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function iw(){}t=iw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zc(){}zc.prototype.g=function(c,d){return new Ct(c,d)};function Ct(c,d){it.call(this),this.g=new WI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!H(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ki(this)}S(Ct,it),Ct.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ct.prototype.close=function(){ff(this.g)},Ct.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=ef(c),c=f);d.i.push(new CR(d.Ya++,c)),d.G==3&&Hc(d)},Ct.prototype.N=function(){this.g.l=null,delete this.j,ff(this.g),delete this.g,Ct.aa.N.call(this)};function sw(c){nf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(sw,nf);function ow(){rf.call(this),this.status=1}S(ow,rf);function Ki(c){this.g=c}S(Ki,iw),Ki.prototype.ua=function(){ht(this.g,"a")},Ki.prototype.ta=function(c){ht(this.g,new sw(c))},Ki.prototype.sa=function(c){ht(this.g,new ow)},Ki.prototype.ra=function(){ht(this.g,"b")},zc.prototype.createWebChannel=zc.prototype.g,Ct.prototype.send=Ct.prototype.o,Ct.prototype.open=Ct.prototype.m,Ct.prototype.close=Ct.prototype.close,Zy=tr.createWebChannelTransport=function(){return new zc},Yy=tr.getStatEventTarget=function(){return Pc()},Qy=tr.Event=Zr,Yd=tr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oc.NO_ERROR=0,Oc.TIMEOUT=8,Oc.HTTP_ERROR=6,ic=tr.ErrorCode=Oc,EI.COMPLETE="complete",Ky=tr.EventType=EI,yI.EventType=Po,Po.OPEN="a",Po.CLOSE="b",Po.ERROR="c",Po.MESSAGE="d",it.prototype.listen=it.prototype.K,so=tr.WebChannel=yI,Wy=tr.FetchXmlHttpFactory=Bo,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,Gy=tr.XhrIo=xe}).apply(typeof Qd<"u"?Qd:typeof self<"u"?self:typeof window<"u"?window:{});var l0="@firebase/firestore";var Ze=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");var To="10.13.2";var Li=new kr("@firebase/firestore");function sc(){return Li.logLevel}function V(t,...e){if(Li.logLevel<=ue.DEBUG){let n=e.map(F_);Li.debug(`Firestore (${To}): ${t}`,...n)}}function rr(t,...e){if(Li.logLevel<=ue.ERROR){let n=e.map(F_);Li.error(`Firestore (${To}): ${t}`,...n)}}function fo(t,...e){if(Li.logLevel<=ue.WARN){let n=e.map(F_);Li.warn(`Firestore (${To}): ${t}`,...n)}}function F_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function z(t="Unexpected state"){let e=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+t;throw rr(e),new Error(e)}function Te(t,e){t||z()}function Y(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Pt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var _n=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var th=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},nv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ze.UNAUTHENTICATED))}shutdown(){}},rv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},iv=class{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new _n;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _n,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _n)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new th(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new Ze(e)}},sv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ov=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new sv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},av=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},cv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new av(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function _B(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var nh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=_B(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function me(t,e){return t<e?-1:t>e?1:0}function po(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var nt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var X=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new nt(0,0))}static max(){return new t(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var rh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&z(),r===void 0?r=e.length-n:r>e.length-n&&z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ne=class t extends rh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},IB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,kt=class t extends rh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return IB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var $=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ne.fromString(e))}static fromName(e){return new t(Ne.fromString(e).popFirst(5))}static empty(){return new t(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ne(e.slice()))}};var uv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};uv.UNKNOWN_ID=-1;function wB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new Vi(i,$.empty(),e)}function EB(t){return new Vi(t.readTime,t.key,-1)}var Vi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(X.min(),$.empty(),-1)}static max(){return new t(X.max(),$.empty(),-1)}};function DB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}var CB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",lv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Cc(t){return w(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==CB)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function TB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tc(t){return t.name==="IndexedDbTransactionError"}var q0=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Fh(t){return t==null}function dc(t){return t===0&&1/t==-1/0}function bB(t){return typeof t=="number"&&Number.isInteger(t)&&!dc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var SB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],B5=[...SB,"documentOverlays"],AB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],RB=AB,NB=[...RB,"indexConfiguration","indexState","indexEntries"];var $5=[...NB,"globals"];function d0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function z0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ke=class t{constructor(e,n){this.comparator=e,this.root=n||In.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uo(this.root,e,this.comparator,!1)}getReverseIterator(){return new uo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uo(this.root,e,this.comparator,!0)}},uo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},In=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();let e=this.left.check();if(e!==this.right.check())throw z();return e+(this.isRed()?0:1)}};In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(e,n,r,i,s){return this}insert(e,n,r){return new In(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var lt=class t{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ih(this.data.getIterator())}getIteratorFrom(e){return new ih(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ih=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Wt=class t{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new t([])}unionWith(e){let n=new lt(kt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var sh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var dt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sh("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};dt.EMPTY_BYTE_STRING=new dt("");var MB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(t){if(Te(!!t),typeof t=="string"){let e=0,n=MB.exec(t);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(t.seconds),nanos:Re(t.nanos)}}function Re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zr(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}function L_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function V_(t){let e=t.mapValue.fields.__previous_value__;return L_(e)?V_(e):e}function hc(t){let e=ir(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}var dv=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},oh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Zd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?L_(t)?4:W0(t)?9007199254740991:G0(t)?10:11:z()}function Dn(t,e){if(t===e)return!0;let n=Ui(t);if(n!==Ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hc(t).isEqual(hc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ir(i.timestampValue),a=ir(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return zr(i.bytesValue).isEqual(zr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Re(i.geoPointValue.latitude)===Re(s.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Re(i.integerValue)===Re(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Re(i.doubleValue),a=Re(s.doubleValue);return o===a?dc(o)===dc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return po(t.arrayValue.values||[],e.arrayValue.values||[],Dn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(d0(o)!==d0(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Dn(o[u],a[u])))return!1;return!0}(t,e);default:return z()}}function fc(t,e){return(t.values||[]).find(n=>Dn(n,e))!==void 0}function go(t,e){if(t===e)return 0;let n=Ui(t),r=Ui(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Re(s.integerValue||s.doubleValue),u=Re(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return h0(t.timestampValue,e.timestampValue);case 4:return h0(hc(t),hc(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(s,o){let a=zr(s),u=zr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=me(a[l],u[l]);if(h!==0)return h}return me(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=me(Re(s.latitude),Re(o.latitude));return a!==0?a:me(Re(s.longitude),Re(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return f0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,M=me(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:f0(v,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Zd.mapValue&&o===Zd.mapValue)return 0;if(s===Zd.mapValue)return 1;if(o===Zd.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=me(u[p],h[p]);if(m!==0)return m;let v=go(a[u[p]],l[h[p]]);if(v!==0)return v}return me(u.length,h.length)}(t.mapValue,e.mapValue);default:throw z()}}function h0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);let n=ir(t),r=ir(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function f0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=go(n[i],r[i]);if(s)return s}return me(n.length,r.length)}function mo(t){return hv(t)}function hv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ir(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return $.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=hv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${hv(n.fields[o])}`;return i+"}"}(t.mapValue):z()}function p0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fv(t){return!!t&&"integerValue"in t}function U_(t){return!!t&&"arrayValue"in t}function g0(t){return!!t&&"nullValue"in t}function m0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xd(t){return!!t&&"mapValue"in t}function G0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ac(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return qi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ac(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ac(t.arrayValue.values[n]);return e}return Object.assign({},t)}function W0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ot=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(n)}setAll(e){let n=kt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ac(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Xd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){qi(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(ac(this.value))}};function K0(t){let e=[];return qi(t.fields,(n,r)=>{let i=new kt([n]);if(Xd(r)){let s=K0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Wt(e)}var nn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,X.min(),X.min(),X.min(),Ot.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,X.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,X.min(),X.min(),Ot.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,X.min(),X.min(),Ot.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var yo=class{constructor(e,n){this.position=e,this.inclusive=n}};function y0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=$.comparator($.fromName(o.referenceValue),n.key):r=go(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function v0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dn(t.position[n],e.position[n]))return!1;return!0}var ji=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function xB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ah=class{},qe=class t extends ah{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gv(e,n,r):n==="array-contains"?new vv(e,r):n==="in"?new _v(e,r):n==="not-in"?new Iv(e,r):n==="array-contains-any"?new wv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mv(e,r):new yv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(go(n,this.value)):n!==null&&Ui(this.value)===Ui(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},rn=class t extends ah{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Q0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Q0(t){return t.op==="and"}function Y0(t){return PB(t)&&Q0(t)}function PB(t){for(let e of t.filters)if(e instanceof rn)return!1;return!0}function pv(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+mo(t.value);if(Y0(t))return t.filters.map(e=>pv(e)).join(",");{let e=t.filters.map(n=>pv(n)).join(",");return`${t.op}(${e})`}}function Z0(t,e){return t instanceof qe?function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&Dn(r.value,i.value)}(t,e):t instanceof rn?function(r,i){return i instanceof rn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Z0(o,i.filters[a]),!0):!1}(t,e):void z()}function J0(t){return t instanceof qe?function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`}(t):t instanceof rn?function(n){return n.op.toString()+" {"+n.getFilters().map(J0).join(" ,")+"}"}(t):"Filter"}var gv=class extends qe{constructor(e,n,r){super(e,n,r),this.key=$.fromName(r.referenceValue)}matches(e){let n=$.comparator(e.key,this.key);return this.matchesComparison(n)}},mv=class extends qe{constructor(e,n){super(e,"in",n),this.keys=X0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},yv=class extends qe{constructor(e,n){super(e,"not-in",n),this.keys=X0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function X0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>$.fromName(r.referenceValue))}var vv=class extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return U_(n)&&fc(n.arrayValue,this.value)}},_v=class extends qe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&fc(this.value.arrayValue,n)}},Iv=class extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!fc(this.value.arrayValue,n)}},wv=class extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!U_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fc(this.value.arrayValue,r))}};var Ev=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function _0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Ev(t,e,n,r,i,s,o)}function j_(t){let e=Y(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mo(r)).join(",")),e.ue=n}return e.ue}function B_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Z0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!v0(t.startAt,e.startAt)&&v0(t.endAt,e.endAt)}function Dv(t){return $.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Gr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function OB(t,e,n,r,i,s,o,a){return new Gr(t,e,n,r,i,s,o,a)}function $_(t){return new Gr(t)}function I0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eA(t){return t.collectionGroup!==null}function cc(t){let e=Y(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new lt(kt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ji(s,r))}),n.has(kt.keyField().canonicalString())||e.ce.push(new ji(kt.keyField(),r))}return e.ce}function wn(t){let e=Y(t);return e.le||(e.le=kB(e,cc(t))),e.le}function kB(t,e){if(t.limitType==="F")return _0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ji(i.field,s)});let n=t.endAt?new yo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yo(t.startAt.position,t.startAt.inclusive):null;return _0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cv(t,e){let n=t.filters.concat([e]);return new Gr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tv(t,e,n){return new Gr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lh(t,e){return B_(wn(t),wn(e))&&t.limitType===e.limitType}function tA(t){return`${j_(wn(t))}|lt:${t.limitType}`}function oo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>J0(i)).join(", ")}]`),Fh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>mo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>mo(i)).join(",")),`Target(${r})`}(wn(t))}; limitType=${t.limitType})`}function Vh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):$.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of cc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=y0(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,cc(r),i)||r.endAt&&!function(o,a,u){let l=y0(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,cc(r),i))}(t,e)}function FB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nA(t){return(e,n)=>{let r=!1;for(let i of cc(t)){let s=LB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function LB(t,e,n){let r=t.field.isKeyField()?$.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?go(u,l):z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return z()}}var Wr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qi(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return z0(this.inner)}size(){return this.innerSize}};var VB=new ke($.comparator);function sr(){return VB}var rA=new ke($.comparator);function oc(...t){let e=rA;for(let n of t)e=e.insert(n.key,n);return e}function iA(t){let e=rA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Oi(){return uc()}function sA(){return uc()}function uc(){return new Wr(t=>t.toString(),(t,e)=>t.isEqual(e))}var UB=new ke($.comparator),jB=new lt($.comparator);function le(...t){let e=jB;for(let n of t)e=e.add(n);return e}var BB=new lt(me);function $B(){return BB}function H_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(e)?"-0":e}}function oA(t){return{integerValue:""+t}}function HB(t,e){return bB(e)?oA(e):H_(t,e)}var vo=class{constructor(){this._=void 0}};function qB(t,e,n){return t instanceof _o?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&L_(s)&&(s=V_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Bi?cA(t,e):t instanceof $i?uA(t,e):function(i,s){let o=aA(i,s),a=w0(o)+w0(i.Pe);return fv(o)&&fv(i.Pe)?oA(a):H_(i.serializer,a)}(t,e)}function zB(t,e,n){return t instanceof Bi?cA(t,e):t instanceof $i?uA(t,e):n}function aA(t,e){return t instanceof Io?function(r){return fv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var _o=class extends vo{},Bi=class extends vo{constructor(e){super(),this.elements=e}};function cA(t,e){let n=lA(e);for(let r of t.elements)n.some(i=>Dn(i,r))||n.push(r);return{arrayValue:{values:n}}}var $i=class extends vo{constructor(e){super(),this.elements=e}};function uA(t,e){let n=lA(e);for(let r of t.elements)n=n.filter(i=>!Dn(i,r));return{arrayValue:{values:n}}}var Io=class extends vo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function w0(t){return Re(t.integerValue||t.doubleValue)}function lA(t){return U_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function GB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Bi&&i instanceof Bi||r instanceof $i&&i instanceof $i?po(r.elements,i.elements,Dn):r instanceof Io&&i instanceof Io?Dn(r.Pe,i.Pe):r instanceof _o&&i instanceof _o}(t.transform,e.transform)}var bv=class{constructor(e,n){this.version=e,this.transformResults=n}},Hr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var wo=class{};function dA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ch(t.key,Hr.none()):new Hi(t.key,t.data,Hr.none());{let n=t.data,r=Ot.empty(),i=new lt(kt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Cn(t.key,r,new Wt(i.toArray()),Hr.none())}}function WB(t,e,n){t instanceof Hi?function(i,s,o){let a=i.value.clone(),u=D0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Cn?function(i,s,o){if(!eh(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=D0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(hA(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function lc(t,e,n,r){return t instanceof Hi?function(s,o,a,u){if(!eh(s.precondition,o))return a;let l=s.value.clone(),h=C0(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Cn?function(s,o,a,u){if(!eh(s.precondition,o))return a;let l=C0(s.fieldTransforms,u,o),h=o.data;return h.setAll(hA(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return eh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function KB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=aA(r.transform,i||null);s!=null&&(n===null&&(n=Ot.empty()),n.set(r.field,s))}return n||null}function E0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&po(r,i,(s,o)=>GB(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Hi=class extends wo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Cn=class extends wo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function hA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function D0(t,e,n){let r=new Map;Te(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,zB(o,a,n[i]))}return r}function C0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,qB(s,o,e))}return r}var ch=class extends wo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Sv=class extends wo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Av=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&WB(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=lc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=lc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=sA();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=dA(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,(n,r)=>E0(n,r))&&po(this.baseMutations,e.baseMutations,(n,r)=>E0(n,r))}},Rv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length);let i=function(){return UB}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Nv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Mv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var $e,fe;function QB(t){switch(t){default:return z();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function fA(t){if(t===void 0)return rr("GRPC error has no .code"),N.UNKNOWN;switch(t){case $e.OK:return N.OK;case $e.CANCELLED:return N.CANCELLED;case $e.UNKNOWN:return N.UNKNOWN;case $e.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case $e.INTERNAL:return N.INTERNAL;case $e.UNAVAILABLE:return N.UNAVAILABLE;case $e.UNAUTHENTICATED:return N.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case $e.NOT_FOUND:return N.NOT_FOUND;case $e.ALREADY_EXISTS:return N.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return N.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case $e.ABORTED:return N.ABORTED;case $e.OUT_OF_RANGE:return N.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return N.UNIMPLEMENTED;case $e.DATA_LOSS:return N.DATA_LOSS;default:return z()}}(fe=$e||($e={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var T0=null;function YB(){return new TextEncoder}var ZB=new $r([4294967295,4294967295],0);function b0(t){let e=YB().encode(t),n=new zy;return n.update(e),new Uint8Array(n.digest())}function S0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new $r([n,r],0),new $r([i,s],0)]}var xv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ki(`Invalid padding: ${n}`);if(r<0)throw new ki(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ki(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ki(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=$r.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply($r.fromNumber(r)));return i.compare(ZB)===1&&(i=new $r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=b0(e),[r,i]=S0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=b0(e),[r,i]=S0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ki=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var uh=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,pc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(X.min(),i,new ke(me),sr(),le())}},pc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,le(),le(),le())}};var lo=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},lh=class{constructor(e,n){this.targetId=e,this.me=n}},dh=class{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},hh=class{constructor(){this.fe=0,this.ge=R0(),this.pe=dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=le(),n=le(),r=le();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:z()}}),new pc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=R0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Pv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=sr(),this.qe=A0(),this.Qe=new ke(me)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Dv(s))if(r===0){let o=new $(s.path);this.Ue(n,o,nn.newNoDocument(o,X.min()))}else Te(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}T0?.et(function(h,p,m,v,S){var M,R,F,H,q,ie;let Me={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Z=p.unchangedNames;return Z&&(Me.bloomFilter={applied:S===0,hashCount:(M=Z?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(H=(F=(R=Z?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&H!==void 0?H:0,padding:(ie=(q=Z?.bits)===null||q===void 0?void 0:q.padding)!==null&&ie!==void 0?ie:0,mightContain:D=>{var y;return(y=v?.mightContain(D))!==null&&y!==void 0&&y}}),Me}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=zr(r).toUint8Array()}catch(u){if(u instanceof sh)return fo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new xv(o,i,s)}catch(u){return fo(u instanceof ki?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Dv(a.target)){let u=new $(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,nn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=le();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new uh(e,n,this.Qe,this.ke,r);return this.ke=sr(),this.qe=A0(),this.Qe=new ke(me),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new hh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new lt(me),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new hh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function A0(){return new ke($.comparator)}function R0(){return new ke($.comparator)}var JB={asc:"ASCENDING",desc:"DESCENDING"},XB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e$={and:"AND",or:"OR"},Ov=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function kv(t,e){return t.useProto3Json||Fh(e)?e:{value:e}}function fh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function t$(t,e){return fh(t,e.toTimestamp())}function En(t){return Te(!!t),X.fromTimestamp(function(n){let r=ir(n);return new nt(r.seconds,r.nanos)}(t))}function q_(t,e){return Fv(t,e).canonicalString()}function Fv(t,e){let n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gA(t){let e=Ne.fromString(t);return Te(IA(e)),e}function Lv(t,e){return q_(t.databaseId,e.path)}function Jy(t,e){let n=gA(e);if(n.get(1)!==t.databaseId.projectId)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $(yA(n))}function mA(t,e){return q_(t.databaseId,e)}function n$(t){let e=gA(t);return e.length===4?Ne.emptyPath():yA(e)}function Vv(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yA(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function N0(t,e,n){return{name:Lv(t,e),fields:n.value.mapValue.fields}}function r$(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(Te(h===void 0||typeof h=="string"),dt.fromBase64String(h||"")):(Te(h===void 0||h instanceof Buffer||h instanceof Uint8Array),dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?N.UNKNOWN:fA(l.code);return new L(h,l.message||"")}(o);n=new dh(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Jy(t,r.document.name),s=En(r.document.updateTime),o=r.document.createTime?En(r.document.createTime):X.min(),a=new Ot({mapValue:{fields:r.document.fields}}),u=nn.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new lo(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Jy(t,r.document),s=r.readTime?En(r.readTime):X.min(),o=nn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new lo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Jy(t,r.document),s=r.removedTargetIds||[];n=new lo([],s,i,null)}else{if(!("filter"in e))return z();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Mv(i,s),a=r.targetId;n=new lh(a,o)}}return n}function i$(t,e){let n;if(e instanceof Hi)n={update:N0(t,e.key,e.value)};else if(e instanceof ch)n={delete:Lv(t,e.key)};else if(e instanceof Cn)n={update:N0(t,e.key,e.data),updateMask:f$(e.fieldMask)};else{if(!(e instanceof Sv))return z();n={verify:Lv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof _o)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $i)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Io)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:t$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:z()}(t,e.precondition)),n}function s$(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?En(i.updateTime):En(s);return o.isEqual(X.min())&&(o=En(s)),new bv(o,i.transformResults||[])}(n,e))):[]}function o$(t,e){return{documents:[mA(t,e.path)]}}function a$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mA(t,i);let s=function(l){if(l.length!==0)return _A(rn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:ao(m.field),direction:l$(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=kv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function c$(t){let e=n$(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Te(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=vA(p);return m instanceof rn&&Y0(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(S){return new ji(co(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Fh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new yo(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new yo(v,m)}(n.endAt)),OB(e,i,o,s,a,"F",u,l)}function u$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=co(n.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=co(n.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=co(n.unaryFilter.field);return qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=co(n.unaryFilter.field);return qe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return z()}}(t):t.fieldFilter!==void 0?function(n){return qe.create(co(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return rn.create(n.compositeFilter.filters.map(r=>vA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z()}}(n.compositeFilter.op))}(t):z()}function l$(t){return JB[t]}function d$(t){return XB[t]}function h$(t){return e$[t]}function ao(t){return{fieldPath:t.canonicalString()}}function co(t){return kt.fromServerFormat(t.fieldPath)}function _A(t){return t instanceof qe?function(n){if(n.op==="=="){if(m0(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(g0(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(m0(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(g0(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:d$(n.op),value:n.value}}}(t):t instanceof rn?function(n){let r=n.getFilters().map(i=>_A(i));return r.length===1?r[0]:{compositeFilter:{op:h$(n.op),filters:r}}}(t):z()}function f$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function IA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var gc=class t{constructor(e,n,r,i,s=X.min(),o=X.min(),a=dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Uv=class{constructor(e){this.ct=e}};function p$(t){let e=c$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tv(e,e.limit,"L"):e}var ph=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Re(e.integerValue));else if("doubleValue"in e){let r=Re(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),dc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=ir(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(zr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?W0(e)?this.dt(n,Number.MAX_SAFE_INTEGER):G0(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):z()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Re(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),$.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};ph.vt=new ph;var jv=class{constructor(){this.un=new Bv}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Vi.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Vi.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},Bv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(Ne.comparator)).toArray()}};var q5=new Uint8Array(0);var vn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(41943040,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);var mc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var $v=class{constructor(){this.changes=new Wr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Hv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var qv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&lc(r.mutation,i,Wt.empty(),nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){let i=Oi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=oc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=sr(),o=uc(),a=function(){return uc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Cn)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),lc(h.mutation,l,h.mutation.getFieldMask(),nt.now())):o.set(l.key,Wt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Hv(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=uc(),i=new ke((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Wt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=sA();h.forEach(m=>{if(!s.has(m)){let v=dA(n.get(m),r.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return $.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(Oi()),a=-1,u=s;return o.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,le())).next(h=>({batchId:a,changes:iA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $(n)).next(r=>{let i=oc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=oc();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,u=>{let l=function(p,m){return new Gr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,nn.newInvalidDocument(h)))});let a=oc();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&lc(h.mutation,l,Wt.empty(),nt.now()),Vh(n,l)&&(a=a.insert(u,l))}),a})}};var zv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:En(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:p$(i.bundledQuery),readTime:En(i.readTime)}}(n)),x.resolve()}};var Gv=class{constructor(){this.overlays=new ke($.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Oi();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=Oi(),s=n.length+1,o=new $(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ke((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Oi(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Oi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Nv(n,r));let s=this.Ir.get(n);s===void 0&&(s=le(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var Wv=class{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var yc=class{constructor(){this.Tr=new lt(He.Er),this.dr=new lt(He.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new He(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new He(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new $(new Ne([])),r=new He(n,e),i=new He(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new $(new Ne([])),r=new He(n,e),i=new He(n,e+1),s=le();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new He(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},He=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return $.comparator(e.key,n.key)||me(e.wr,n.wr)}static Ar(e,n){return me(e.wr,n.wr)||$.comparator(e.key,n.key)}};var Kv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new lt(He.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Av(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new He(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(me);return n.forEach(i=>{let s=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;$.isDocumentKey(s)||(s=s.child(""));let o=new He(new $(s),0),a=new lt(me);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),x.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let s=new He(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new He(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Qv=class{constructor(e){this.Mr=e,this.docs=function(){return new ke($.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=sr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():nn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=sr(),o=n.path,a=new $(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||DB(EB(h),r)<=0||(i.has(h.key)||Vh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){z()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Yv(this)}getSize(e){return x.resolve(this.size)}},Yv=class extends $v{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Zv=class{constructor(e){this.persistence=e,this.Nr=new Wr(n=>j_(n),B_),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Lr=0,this.Br=new yc,this.targetCount=0,this.kr=mc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new mc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var Jv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new q0(0),this.Kr=!1,this.Kr=!0,this.$r=new Wv,this.referenceDelegate=e(this),this.Ur=new Zv(this),this.indexManager=new jv,this.remoteDocumentCache=function(i){return new Qv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Uv(n),this.Gr=new zv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Gv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Kv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new Xv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Xv=class extends lv{constructor(e){super(),this.currentSequenceNumber=e}},e_=class t{constructor(e){this.persistence=e,this.Jr=new yc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw z()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=$.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,X.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var t_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=le(),i=le();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var n_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var r_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return tS()?8:TB(Qe())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new n_;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(sc()<=ue.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(sc()<=ue.DEBUG&&V("QueryEngine","Query:",oo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(sc()<=ue.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wn(n))):x.resolve())}Yi(e,n){if(I0(n))return x.resolve(null);let r=wn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Tv(n,null,"F"),r=wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=le(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,Tv(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return I0(n)||i.isEqual(X.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?x.resolve(null):(sc()<=ue.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oo(n)),this.rs(e,o,n,wB(i,-1)).next(a=>a))})}ts(e,n){let r=new lt(nA(e));return n.forEach((i,s)=>{Vh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return sc()<=ue.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",oo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Vi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var i_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ke(me),this._s=new Wr(s=>j_(s),B_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function g$(t,e,n,r){return new i_(t,e,n,r)}function wA(t,e){return w(this,null,function*(){let n=Y(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=le();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function m$(t,e){let n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),v=x.resolve();return m.forEach(S=>{v=v.next(()=>h.getEntry(u,S)).next(M=>{let R=l.docVersions.get(S);Te(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function EA(t){let e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function y$(t,e){let n=Y(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(dt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(M,R,F){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,v,h)&&a.push(n.Ur.updateTargetData(s,v))});let u=sr(),l=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(v$(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(X.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function v$(t,e,n){let r=le(),i=le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=sr();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function _$(t,e){let n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function I$(t,e){let n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new gc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function s_(t,e,n){return w(this,null,function*(){let r=Y(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Tc(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function M0(t,e,n){let r=Y(t),i=X.min(),s=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=Y(u),m=p._s.get(h);return m!==void 0?x.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:X.min(),n?s:le())).next(a=>(w$(r,FB(e),a),{documents:a,Ts:s})))}function w$(t,e,n){let r=t.us.get(e)||X.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var gh=class{constructor(){this.activeTargetIds=$B()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var o_=class{constructor(){this.so=new gh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new gh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var a_=class{_o(e){}shutdown(){}};var mh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Jd=null;function Xy(){return Jd===null?Jd=function(){return 268435456+Math.round(2147483648*Math.random())}():Jd++,"0x"+Jd.toString(16)}var E$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var c_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ut="WebChannelConnection",u_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=Xy(),u=this.xo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(V("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw fo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+To}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=E$[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Xy();return new Promise((o,a)=>{let u=new Gy;u.setWithCredentials(!0),u.listenOnce(Ky.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ic.NO_ERROR:let h=u.getResponseJson();V(ut,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case ic.TIMEOUT:V(ut,`RPC '${e}' ${s} timed out`),a(new L(N.DEADLINE_EXCEEDED,"Request time out"));break;case ic.HTTP_ERROR:let p=u.getStatus();if(V(ut,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let S=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(F)>=0?F:N.UNKNOWN}(v.status);a(new L(S,v.message))}else a(new L(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new L(N.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{V(ut,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);V(ut,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Xy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Zy(),a=Yy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Wy({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");V(ut,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,v=!1,S=new c_({Io:R=>{v?V(ut,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(V(ut,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),V(ut,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,F,H)=>{R.listen(F,q=>{try{H(q)}catch(ie){setTimeout(()=>{throw ie},0)}})};return M(p,so.EventType.OPEN,()=>{v||(V(ut,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),M(p,so.EventType.CLOSE,()=>{v||(v=!0,V(ut,`RPC '${e}' stream ${i} transport closed`),S.So())}),M(p,so.EventType.ERROR,R=>{v||(v=!0,fo(ut,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new L(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,so.EventType.MESSAGE,R=>{var F;if(!v){let H=R.data[0];Te(!!H);let q=H,ie=q.error||((F=q[0])===null||F===void 0?void 0:F.error);if(ie){V(ut,`RPC '${e}' stream ${i} received error:`,ie);let Me=ie.status,Z=function(_){let E=$e[_];if(E!==void 0)return fA(E)}(Me),D=ie.message;Z===void 0&&(Z=N.INTERNAL,D="Unknown error status: "+Me+" with message "+ie.message),v=!0,S.So(new L(Z,D)),p.close()}else V(ut,`RPC '${e}' stream ${i} received:`,H),S.bo(H)}}),M(a,Qy.STAT_EVENT,R=>{R.stat===Yd.PROXY?V(ut,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Yd.NOPROXY&&V(ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function ev(){return typeof document<"u"?document:null}function Uh(t){return new Ov(t,!0)}var yh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var vh=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new yh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new L(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},l_=class extends vh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=r$(this.serializer,e),r=function(s){if(!("targetChange"in s))return X.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?X.min():o.readTime?En(o.readTime):X.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Vv(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=Dv(u)?{documents:o$(s,u)}:{query:a$(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=pA(s,o.resumeToken);let l=kv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(X.min())>0){a.readTime=fh(s,o.snapshotVersion.toTimestamp());let l=kv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=u$(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Vv(this.serializer),n.removeTarget=e,this.a_(n)}},d_=class extends vh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=s$(e.writeResults,e.commitTime),r=En(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Vv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>i$(this.serializer,r))};this.a_(n)}};var h_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Fv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(N.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Fv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},f_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(rr(n),this.D_=!1):V("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var p_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){zi(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=Y(u);l.L_.add(4),yield bc(l),l.q_.set("Unknown"),l.L_.delete(4),yield jh(l)})}(this))}))}),this.q_=new f_(r,i)}};function jh(t){return w(this,null,function*(){if(zi(t))for(let e of t.B_)yield e(!0)})}function bc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function DA(t,e){let n=Y(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),K_(n)?W_(n):bo(n).r_()&&G_(n,e))}function z_(t,e){let n=Y(t),r=bo(n);n.N_.delete(e),r.r_()&&CA(n,e),n.N_.size===0&&(r.r_()?r.o_():zi(n)&&n.q_.set("Unknown"))}function G_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bo(t).A_(e)}function CA(t,e){t.Q_.xe(e),bo(t).R_(e)}function W_(t){t.Q_=new Pv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),bo(t).start(),t.q_.v_()}function K_(t){return zi(t)&&!bo(t).n_()&&t.N_.size>0}function zi(t){return Y(t).L_.size===0}function TA(t){t.Q_=void 0}function D$(t){return w(this,null,function*(){t.q_.set("Online")})}function C$(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{G_(t,e)})})}function T$(t,e){return w(this,null,function*(){TA(t),K_(t)?(t.q_.M_(e),W_(t)):t.q_.set("Unknown")})}function b$(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof dh&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield _h(t,r)}else if(e instanceof lo?t.Q_.Ke(e):e instanceof lh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(X.min()))try{let r=yield EA(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(dt.EMPTY_BYTE_STRING,h.snapshotVersion)),CA(s,u);let p=new gc(h.target,u,l,h.sequenceNumber);G_(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){V("RemoteStore","Failed to raise snapshot:",r),yield _h(t,r)}})}function _h(t,e,n){return w(this,null,function*(){if(!Tc(e))throw e;t.L_.add(1),yield bc(t),t.q_.set("Offline"),n||(n=()=>EA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield jh(t)}))})}function bA(t,e){return e().catch(n=>_h(t,n,e))}function Bh(t){return w(this,null,function*(){let e=Y(t),n=Kr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;S$(e);)try{let i=yield _$(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,A$(e,i)}catch(i){yield _h(e,i)}SA(e)&&AA(e)})}function S$(t){return zi(t)&&t.O_.length<10}function A$(t,e){t.O_.push(e);let n=Kr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function SA(t){return zi(t)&&!Kr(t).n_()&&t.O_.length>0}function AA(t){Kr(t).start()}function R$(t){return w(this,null,function*(){Kr(t).p_()})}function N$(t){return w(this,null,function*(){let e=Kr(t);for(let n of t.O_)e.m_(n.mutations)})}function M$(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=Rv.from(r,e,n);yield bA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Bh(t)})}function x$(t,e){return w(this,null,function*(){e&&Kr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return QB(o)&&o!==N.ABORTED}(i.code)){let s=r.O_.shift();Kr(r).s_(),yield bA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Bh(r)}})}(t,e)),SA(t)&&AA(t)})}function x0(t,e){return w(this,null,function*(){let n=Y(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=zi(n);n.L_.add(3),yield bc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield jh(n)})}function P$(t,e){return w(this,null,function*(){let n=Y(t);e?(n.L_.delete(2),yield jh(n)):e||(n.L_.add(2),yield bc(n),n.q_.set("Unknown"))})}function bo(t){return t.K_||(t.K_=function(n,r,i){let s=Y(n);return s.w_(),new l_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:D$.bind(null,t),Ro:C$.bind(null,t),mo:T$.bind(null,t),d_:b$.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),K_(t)?W_(t):t.q_.set("Unknown")):(yield t.K_.stop(),TA(t))}))),t.K_}function Kr(t){return t.U_||(t.U_=function(n,r,i){let s=Y(n);return s.w_(),new d_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:R$.bind(null,t),mo:x$.bind(null,t),f_:N$.bind(null,t),g_:M$.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield Bh(t)):(yield t.U_.stop(),t.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var g_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Q_(t,e){if(rr("AsyncQueue",`${e}: ${t}`),Tc(t))return new L(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Ih=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||$.comparator(n.key,r.key):(n,r)=>$.comparator(n.key,r.key),this.keyedMap=oc(),this.sortedSet=new ke(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var wh=class{constructor(){this.W_=new ke($.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):z():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Eo=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Ih.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var m_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},y_=class{constructor(){this.queries=P0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Y(n),s=i.queries;i.queries=P0(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new L(N.ABORTED,"Firestore shutting down"))}};function P0(){return new Wr(t=>tA(t),Lh)}function RA(t,e){return w(this,null,function*(){let n=Y(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new m_,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=Q_(o,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Y_(n)})}function NA(t,e){return w(this,null,function*(){let n=Y(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function O$(t,e){let n=Y(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Y_(n)}function k$(t,e,n){let r=Y(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function Y_(t){t.Y_.forEach(e=>{e.next()})}var v_,O0;(O0=v_||(v_={})).ea="default",O0.Cache="cache";var Eh=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Eo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==v_.Cache}};var Dh=class{constructor(e){this.key=e}},Ch=class{constructor(e){this.key=e}},__=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=le(),this.mutatedKeys=le(),this.Aa=nA(e),this.Ra=new Ih(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new wh,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=Vh(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;m&&v?m.data.isEqual(v.data)?S!==M&&(r.track({type:3,doc:v}),R=!0):this.ga(m,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(v?(o=o.add(v),s=M?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(v,S){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return M(v)-M(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new Eo(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new wh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=le(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Ch(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Dh(r))}),n}ba(e){this.Ta=e.Ts,this.da=le();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Eo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},I_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},w_=class{constructor(e){this.key=e,this.va=!1}},E_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Wr(a=>tA(a),Lh),this.Ma=new Map,this.xa=new Set,this.Oa=new ke($.comparator),this.Na=new Map,this.La=new yc,this.Ba={},this.ka=new Map,this.qa=mc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function F$(t,e,n=!0){return w(this,null,function*(){let r=FA(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield MA(r,e,n,!0),i})}function L$(t,e){return w(this,null,function*(){let n=FA(t);yield MA(n,e,!0,!1)})}function MA(t,e,n,r){return w(this,null,function*(){let i=yield I$(t.localStore,wn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield V$(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&DA(t.remoteStore,i),a})}function V$(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,m,v)=>function(M,R,F,H){return w(this,null,function*(){let q=R.view.ma(F);q.ns&&(q=yield M0(M.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,q)));let ie=H&&H.targetChanges.get(R.targetId),Me=H&&H.targetMismatches.get(R.targetId)!=null,Z=R.view.applyChanges(q,M.isPrimaryClient,ie,Me);return F0(M,R.targetId,Z.wa),Z.snapshot})}(t,p,m,v);let s=yield M0(t.localStore,e,!0),o=new __(e,s.Ts),a=o.ma(s.documents),u=pc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);F0(t,n,l.wa);let h=new I_(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function U$(t,e,n){return w(this,null,function*(){let r=Y(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Lh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield s_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&z_(r.remoteStore,i.targetId),D_(r,i.targetId)}).catch(Cc))):(D_(r,i.targetId),yield s_(r.localStore,i.targetId,!0))})}function j$(t,e){return w(this,null,function*(){let n=Y(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),z_(n.remoteStore,r.targetId))})}function B$(t,e,n){return w(this,null,function*(){let r=K$(t);try{let i=yield function(o,a){let u=Y(o),l=nt.now(),h=a.reduce((v,S)=>v.add(S.key),le()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=sr(),M=le();return u.cs.getEntries(v,h).next(R=>{S=R,S.forEach((F,H)=>{H.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,S)).next(R=>{p=R;let F=[];for(let H of a){let q=KB(H,p.get(H.key).overlayedDocument);q!=null&&F.push(new Cn(H.key,q,K0(q.value.mapValue),Hr.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,F,a)}).next(R=>{m=R;let F=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(v,R.batchId,F)})}).then(()=>({batchId:m.batchId,changes:iA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new ke(me)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Sc(r,i.changes),yield Bh(r.remoteStore)}catch(i){let s=Q_(i,"Failed to persist write");n.reject(s)}})}function xA(t,e){return w(this,null,function*(){let n=Y(t);try{let r=yield y$(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Te(o.va):i.removedDocuments.size>0&&(Te(o.va),o.va=!1))}),yield Sc(n,r,e)}catch(r){yield Cc(r)}})}function k0(t,e,n){let r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=Y(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&Y_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function $$(t,e,n){return w(this,null,function*(){let r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new ke($.comparator);o=o.insert(s,nn.newNoDocument(s,X.min()));let a=le().add(s),u=new uh(X.min(),new Map,new ke(me),o,a);yield xA(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Z_(r)}else yield s_(r.localStore,e,!1).then(()=>D_(r,e,n)).catch(Cc)})}function H$(t,e){return w(this,null,function*(){let n=Y(t),r=e.batch.batchId;try{let i=yield m$(n.localStore,e);OA(n,r,null),PA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Sc(n,i)}catch(i){yield Cc(i)}})}function q$(t,e,n){return w(this,null,function*(){let r=Y(t);try{let i=yield function(o,a){let u=Y(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Te(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);OA(r,e,n),PA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Sc(r,i)}catch(i){yield Cc(i)}})}function PA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function OA(t,e,n){let r=Y(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function D_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||kA(t,r)})}function kA(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(z_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Z_(t))}function F0(t,e,n){for(let r of n)r instanceof Dh?(t.La.addReference(r.key,e),z$(t,r)):r instanceof Ch?(V("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||kA(t,r.key)):z()}function z$(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(V("SyncEngine","New document in limbo: "+n),t.xa.add(r),Z_(t))}function Z_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new $(Ne.fromString(e)),r=t.qa.next();t.Na.set(r,new w_(n)),t.Oa=t.Oa.insert(n,r),DA(t.remoteStore,new gc(wn($_(n.path)),r,"TargetPurposeLimboResolution",q0.oe))}}function Sc(t,e,n){return w(this,null,function*(){let r=Y(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=t_.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=Y(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>x.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Tc(p))throw p;V("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),S=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,M)}}})}(r.localStore,s))})}function G$(t,e){return w(this,null,function*(){let n=Y(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield wA(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new L(N.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Sc(n,r.hs)}})}function W$(t,e){let n=Y(t),r=n.Na.get(e);if(r&&r.va)return le().add(r.key);{let i=le(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function FA(t){let e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$$.bind(null,e),e.Ca.d_=O$.bind(null,e.eventManager),e.Ca.$a=k$.bind(null,e.eventManager),e}function K$(t){let e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q$.bind(null,e),e}var Th=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return g$(this.persistence,new r_,e.initialUser,this.serializer)}createPersistence(e){return new Jv(e_.Zr,this.serializer)}createSharedClientState(e){return new o_}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var C_=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>k0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=G$.bind(null,this.syncEngine),yield P$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new y_}()}createDatastore(e){let n=Uh(e.databaseInfo.databaseId),r=function(s){return new u_(s)}(e.databaseInfo);return function(s,o,a,u){return new h_(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new p_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>k0(this.syncEngine,n,0),function(){return mh.D()?new mh:new a_}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){let p=new E_(i,s,o,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=Y(i);V("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield bc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var bh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var T_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ze.UNAUTHENTICATED,this.clientId=nh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){V("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new _n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Q_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function tv(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield wA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function L0(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Y$(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>x0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>x0(e.remoteStore,i)),t._onlineComponents=e})}function Q$(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Y$(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield tv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Q$(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),yield tv(t,new Th)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield tv(t,new Th);return t._offlineComponents})}function LA(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield L0(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield L0(t,new C_))),t._onlineComponents})}function Z$(t){return LA(t).then(e=>e.syncEngine)}function b_(t){return w(this,null,function*(){let e=yield LA(t),n=e.eventManager;return n.onListen=F$.bind(null,e.syncEngine),n.onUnlisten=U$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=L$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=j$.bind(null,e.syncEngine),n})}function J$(t,e,n={}){let r=new _n;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(s,o,a,u,l){let h=new bh({next:m=>{o.enqueueAndForget(()=>NA(s,p)),m.fromCache&&u.source==="server"?l.reject(new L(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Eh(a,h,{includeMetadataChanges:!0,_a:!0});return RA(s,p)}(yield b_(t),t.asyncQueue,e,n,r)})),r.promise}function VA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var V0=new Map;function UA(t,e,n){if(!n)throw new L(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function X$(t,e,n,r){if(e===!0&&r===!0)throw new L(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function U0(t){if(!$.isDocumentKey(t))throw new L(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j0(t){if($.isDocumentKey(t))throw new L(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $h(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z()}function nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=$h(t);throw new L(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Sh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Do=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nv;switch(r.type){case"firstParty":return new ov(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=V0.get(n);r&&(V("ComponentProvider","Removing Datastore"),V0.delete(n),r.terminate())}(this),Promise.resolve()}};function jA(t,e,n,r={}){var i;let s=(t=nr(t,Do))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ze.MOCK_USER;else{a=Qb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ze(l)}t._authCredentials=new rv(new th(a,u))}}var Qr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Dt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},qr=class t extends Qr{constructor(e,n,r){super(e,n,$_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new $(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function BA(t,e,...n){if(t=Ye(t),UA("collection","path",e),t instanceof Do){let r=Ne.fromString(e,...n);return j0(r),new qr(t,null,r)}{if(!(t instanceof Dt||t instanceof qr))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return j0(r),new qr(t.firestore,null,r)}}function J_(t,e,...n){if(t=Ye(t),arguments.length===1&&(e=nh.newId()),UA("doc","path",e),t instanceof Do){let r=Ne.fromString(e,...n);return U0(r),new Dt(t,null,new $(r))}{if(!(t instanceof Dt||t instanceof qr))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return U0(r),new Dt(t.firestore,t instanceof qr?t.converter:null,new $(r))}}var S_=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new yh(this,"async_queue_retry"),this.Eu=()=>{let n=ev();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=ev();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=ev();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new _n;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Tc(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw rr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=g_.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&z()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function B0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Yr=class extends Do{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new S_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||HA(this),this._firestoreClient.terminate()}};function $A(t,e){let n=typeof t=="object"?t:Xs(),r=typeof t=="string"?t:e||"(default)",i=Ka(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Kb("firestore");s&&jA(i,...s)}return i}function X_(t){return t._firestoreClient||HA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function HA(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new dv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,VA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new T_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var vc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(dt.fromBase64String(e))}catch(n){throw new L(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Co=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var _c=class{constructor(e){this._methodName=e}};var Ic=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}};var wc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var eH=/^__.*__$/,A_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Cn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hi(e,this.data,n,this.fieldTransforms)}},Ah=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Cn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function qA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}var R_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Nh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(qA(this.wu)&&eH.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},N_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uh(e)}Nu(e,n,r,i=!1){return new R_({wu:e,methodName:n,Ou:r,path:kt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function eI(t){let e=t._freezeSettings(),n=Uh(t._databaseId);return new N_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tH(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);tI("Data must be an object, but it was:",o,r);let a=zA(r,o),u,l;if(s.merge)u=new Wt(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=M_(e,p,n);if(!o.contains(m))throw new L(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);WA(h,m)||h.push(m)}u=new Wt(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new A_(new Ot(a),u,l)}var Rh=class t extends _c{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function nH(t,e,n,r){let i=t.Nu(1,e,n);tI("Data must be an object, but it was:",i,r);let s=[],o=Ot.empty();qi(r,(u,l)=>{let h=nI(e,u,n);l=Ye(l);let p=i.Cu(h);if(l instanceof Rh)s.push(h);else{let m=Ac(l,p);m!=null&&(s.push(h),o.set(h,m))}});let a=new Wt(s);return new Ah(o,a,i.fieldTransforms)}function rH(t,e,n,r,i,s){let o=t.Nu(1,e,n),a=[M_(e,r,n)],u=[i];if(s.length%2!=0)throw new L(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(M_(e,s[m])),u.push(s[m+1]);let l=[],h=Ot.empty();for(let m=a.length-1;m>=0;--m)if(!WA(l,a[m])){let v=a[m],S=u[m];S=Ye(S);let M=o.Cu(v);if(S instanceof Rh)l.push(v);else{let R=Ac(S,M);R!=null&&(l.push(v),h.set(v,R))}}let p=new Wt(l);return new Ah(h,p,o.fieldTransforms)}function iH(t,e,n,r=!1){return Ac(n,t.Nu(r?4:3,e))}function Ac(t,e){if(GA(t=Ye(t)))return tI("Unsupported field value:",e,t),zA(t,e);if(t instanceof _c)return function(r,i){if(!qA(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=Ac(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=nt.fromDate(r);return{timestampValue:fh(i.serializer,s)}}if(r instanceof nt){let s=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fh(i.serializer,s)}}if(r instanceof Ic)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vc)return{bytesValue:pA(i.serializer,r._byteString)};if(r instanceof Dt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:q_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof wc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return H_(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${$h(r)}`)}(t,e)}function zA(t,e){let n={};return z0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qi(t,(r,i)=>{let s=Ac(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function GA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof Ic||t instanceof vc||t instanceof Dt||t instanceof _c||t instanceof wc)}function tI(t,e,n){if(!GA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=$h(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function M_(t,e,n){if((e=Ye(e))instanceof Co)return e._internalPath;if(typeof e=="string")return nI(t,e);throw Nh("Field path arguments must be of type string or ",t,!1,void 0,n)}var sH=new RegExp("[~\\*/\\[\\]]");function nI(t,e,n){if(e.search(sH)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Co(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new L(N.INVALID_ARGUMENT,a+t+u)}function WA(t,e){return t.some(n=>n.isEqual(e))}var Mh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new x_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Hh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},x_=class extends Mh{data(){return super.data()}};function Hh(t,e){return typeof e=="string"?nI(t,e):e instanceof Co?e._internalPath:e._delegate._internalPath}function KA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ec=class{},xh=class extends Ec{};function QA(t,e,...n){let r=[];e instanceof Ec&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof P_).length,a=s.filter(u=>u instanceof Ph).length;if(o>1||o>0&&a>0)throw new L(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Ph=class t extends xh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return JA(e._query,n),new Qr(e.firestore,e.converter,Cv(e._query,n))}_parse(e){let n=eI(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){H0(p,h);let v=[];for(let S of p)v.push($0(u,s,S));m={arrayValue:{values:v}}}else m=$0(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||H0(p,h),m=iH(a,o,p,h==="in"||h==="not-in");return qe.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function YA(t,e,n){let r=e,i=Hh("where",t);return Ph._create(i,r,n)}var P_=class t extends Ec{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:rn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)JA(o,u),o=Cv(o,u)}(e._query,n),new Qr(e.firestore,e.converter,Cv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var O_=class t extends xh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new L(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ji(s,o)}(e._query,this._field,this._direction);return new Qr(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Gr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function ZA(t,e="asc"){let n=e,r=Hh("orderBy",t);return O_._create(r,n)}function $0(t,e,n){if(typeof(n=Ye(n))=="string"){if(n==="")throw new L(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eA(e)&&n.indexOf("/")!==-1)throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ne.fromString(n));if(!$.isDocumentKey(r))throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return p0(t,new $(r))}if(n instanceof Dt)return p0(t,n._key);throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(n)}.`)}function H0(t,e){if(!Array.isArray(t)||t.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JA(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var k_=class{convertValue(e,n="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return qi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Re(o.doubleValue));return new wc(s)}convertGeoPoint(e){return new Ic(Re(e.latitude),Re(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=V_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){let n=ir(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ne.fromString(e);Te(IA(r));let i=new oh(r.get(1),r.get(3)),s=new $(r.popFirst(5));return i.isEqual(n)||rr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function oH(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Fi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Oh=class extends Mh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ho(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Hh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ho=class extends Oh{data(e={}){return super.data(e)}},kh=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ho(this._firestore,this._userDataWriter,r.key,r,new Fi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new ho(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new ho(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:aH(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function aH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}var Dc=class extends k_{constructor(e){super(),this.firestore=e}convertBytes(e){return new vc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}};function XA(t){t=nr(t,Qr);let e=nr(t.firestore,Yr),n=X_(e),r=new Dc(e);return KA(t._query),J$(n,t._query).then(i=>new kh(e,r,t,i))}function eR(t,e,n,...r){t=nr(t,Dt);let i=nr(t.firestore,Yr),s=eI(i),o;return o=typeof(e=Ye(e))=="string"||e instanceof Co?rH(s,"updateDoc",t._key,e,n,r):nH(s,"updateDoc",t._key,e),nR(i,[o.toMutation(t._key,Hr.exists(!0))])}function tR(t,e){let n=nr(t.firestore,Yr),r=J_(t),i=oH(t.converter,e);return nR(n,[tH(eI(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Hr.exists(!1))]).then(()=>r)}function rI(t,...e){var n,r,i;t=Ye(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||B0(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(B0(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Dt)l=nr(t.firestore,Yr),h=$_(t._key.path),u={next:p=>{e[o]&&e[o](cH(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=nr(t,Qr);l=nr(p.firestore,Yr),h=p._query;let m=new Dc(l);u={next:v=>{e[o]&&e[o](new kh(l,m,p,v))},error:e[o+1],complete:e[o+2]},KA(t._query)}return function(m,v,S,M){let R=new bh(M),F=new Eh(v,R,S);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return RA(yield b_(m),F)})),()=>{R.za(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return NA(yield b_(m),F)}))}}(X_(l),h,a,u)}function nR(t,e){return function(r,i){let s=new _n;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return B$(yield Z$(r),i,s)})),s.promise}(X_(t),e)}function cH(t,e,n){let r=n.docs.get(e._key),i=new Dc(t);return new Oh(t,i,e._key,r,new Fi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){To=i})(Vr),Lr(new Gt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Yr(new iv(r.getProvider("auth-internal")),new cv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oh(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),We(l0,"4.7.2",e),We(l0,"4.7.2","esm2017")})();var qh=function(){return qh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qh.apply(this,arguments)};var dH={includeMetadataChanges:!1};function rR(t,e){return e===void 0&&(e=dH),new ae(function(n){var r=rI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function iR(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:qh(qh({},r),(n={},n[e.idField]=t.id,n))}function sR(t){return rR(t,{includeMetadataChanges:!0}).pipe(te(function(e){return e.docs}))}function oR(t,e){return e===void 0&&(e={}),sR(t).pipe(te(function(n){return n.map(function(r){return iR(r,e)})}))}var Rc=class{constructor(e){return e}},aR="firestore",iI=class{constructor(){return Qa(aR)}};var sI=new U("angularfire2.firestore-instances");function hH(t,e){let n=Nd(aR,t,e);return n&&new Rc(n)}function fH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Rc(r)}}var pH={provide:iI,deps:[[new at,sI]]},gH={provide:Rc,useFactory:hH,deps:[[new at,sI],Jn]};function _7(t,...e){return We("angularfire",Ai.full,"fst"),hn([gH,pH,{provide:sI,useFactory:fH(t),multi:!0,deps:[_e,tt,no,Ri,[new at,rc],[new at,to],...e]}])}var I7=It(oR,!0);var w7=It(tR,!0);var E7=It(BA,!0);var D7=It(J_,!0);var C7=It(XA,!0);var T7=It($A,!0);var b7=It(ZA,!0);var S7=It(QA,!0);var A7=It(eR,!0);var R7=It(YA,!0);export{w as a,G as b,B as c,kn as d,W as e,GE as f,Fn as g,cM as h,P9 as i,ne as j,bO as k,UO as l,MC as m,xC as n,bg as o,XO as p,ek as q,Ls as r,L9 as s,V9 as t,dk as u,OC as v,hk as w,U9 as x,fk as y,FC as z,j9 as A,B9 as B,$9 as C,H9 as D,f3 as E,p3 as F,g3 as G,m3 as H,y1 as I,z3 as J,yF as K,Mr as L,f6 as M,p6 as N,nt as O,S8 as P,A8 as Q,nc as R,b5 as S,S5 as T,Rc as U,_7 as V,I7 as W,w7 as X,E7 as Y,D7 as Z,C7 as _,T7 as $,b7 as aa,S7 as ba,A7 as ca,R7 as da,_b as ea,lb as fa,P6 as ga,O6 as ha,yd as ia,uV as ja,Bb as ka,hV as la,F6 as ma,pV as na,mV as oa,vV as pa,IV as qa,EV as ra,L6 as sa,V6 as ta};
