var HA=Object.defineProperty,zA=Object.defineProperties;var qA=Object.getOwnPropertyDescriptors;var MI=Object.getOwnPropertySymbols,GA=Object.getPrototypeOf,WA=Object.prototype.hasOwnProperty,KA=Object.prototype.propertyIsEnumerable,QA=Reflect.get;var xI=(t,e,n)=>e in t?HA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})WA.call(e,n)&&xI(t,n,e[n]);if(MI)for(var n of MI(e))KA.call(e,n)&&xI(t,n,e[n]);return t},Te=(t,e)=>zA(t,qA(e));var nr=(t,e,n)=>QA(GA(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function PI(t,e){return Object.is(t,e)}var $e=null,Sc=!1,Ac=1,Sn=Symbol("SIGNAL");function he(t){let e=$e;return $e=t,e}function OI(){return $e}var No={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function qh(t){if(Sc)throw new Error("");if($e===null)return;$e.consumerOnSignalRead(t);let e=$e.nextProducerIndex++;if(xc($e),e<$e.producerNode.length&&$e.producerNode[e]!==t&&Ro($e)){let n=$e.producerNode[e];Mc(n,$e.producerIndexOfThis[e])}$e.producerNode[e]!==t&&($e.producerNode[e]=t,$e.producerIndexOfThis[e]=Ro($e)?VI(t,$e,e):0),$e.producerLastReadVersion[e]=t.version}function YA(){Ac++}function kI(t){if(!(Ro(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ac)){if(!t.producerMustRecompute(t)&&!Wh(t)){t.dirty=!1,t.lastCleanEpoch=Ac;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ac}}function LI(t){if(t.liveConsumerNode===void 0)return;let e=Sc;Sc=!0;try{for(let n of t.liveConsumerNode)n.dirty||ZA(n)}finally{Sc=e}}function FI(){return $e?.consumerAllowSignalWrites!==!1}function ZA(t){t.dirty=!0,LI(t),t.consumerMarkedDirty?.(t)}function Nc(t){return t&&(t.nextProducerIndex=0),he(t)}function Gh(t,e){if(he(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ro(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Mc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Wh(t){xc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(kI(n),r!==n.version))return!0}return!1}function Kh(t){if(xc(t),Ro(t))for(let e=0;e<t.producerNode.length;e++)Mc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function VI(t,e,n){if(UI(t),t.liveConsumerNode.length===0&&jI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=VI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Mc(t,e){if(UI(t),t.liveConsumerNode.length===1&&jI(t))for(let r=0;r<t.producerNode.length;r++)Mc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];xc(i),i.producerIndexOfThis[r]=e}}function Ro(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function xc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function UI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function jI(t){return t.producerNode!==void 0}function BI(t){let e=Object.create(JA);e.computation=t;let n=()=>{if(kI(e),qh(e),e.value===Rc)throw e.error;return e.value};return n[Sn]=e,n}var Hh=Symbol("UNSET"),zh=Symbol("COMPUTING"),Rc=Symbol("ERRORED"),JA=Te(F({},No),{value:Hh,dirty:!0,error:null,equal:PI,producerMustRecompute(t){return t.value===Hh||t.value===zh},producerRecomputeValue(t){if(t.value===zh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=zh;let n=Nc(t),r;try{r=t.computation()}catch(i){r=Rc,t.error=i}finally{Gh(t,n)}if(e!==Hh&&e!==Rc&&r!==Rc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function XA(){throw new Error}var $I=XA;function HI(){$I()}function zI(t){$I=t}var eR=null;function qI(t){let e=Object.create(WI);e.value=t;let n=()=>(qh(e),e.value);return n[Sn]=e,n}function Qh(t,e){FI()||HI(),t.equal(t.value,e)||(t.value=e,tR(t))}function GI(t,e){FI()||HI(),Qh(t,e(t.value))}var WI=Te(F({},No),{equal:PI,value:void 0});function tR(t){t.version++,YA(),LI(t),eR?.()}function J(t){return typeof t=="function"}function ki(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Pc=ki(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function zr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Me=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(s){e=s instanceof Pc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{KI(s)}catch(o){e=e??[],o instanceof Pc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Pc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)KI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&zr(n,e)}remove(e){let{_finalizers:n}=this;n&&zr(n,e),e instanceof t&&e._removeParent(this)}};Me.EMPTY=(()=>{let t=new Me;return t.closed=!0,t})();var Yh=Me.EMPTY;function Oc(t){return t instanceof Me||t&&"closed"in t&&J(t.remove)&&J(t.add)&&J(t.unsubscribe)}function KI(t){J(t)?t():t.unsubscribe()}var Gt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Li={setTimeout(t,e,...n){let{delegate:r}=Li;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Li;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function kc(t){Li.setTimeout(()=>{let{onUnhandledError:e}=Gt;if(e)e(t);else throw t})}function Mo(){}var QI=Zh("C",void 0,void 0);function YI(t){return Zh("E",void 0,t)}function ZI(t){return Zh("N",t,void 0)}function Zh(t,e,n){return{kind:t,value:e,error:n}}var qr=null;function Fi(t){if(Gt.useDeprecatedSynchronousErrorHandling){let e=!qr;if(e&&(qr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=qr;if(qr=null,n)throw r}}else t()}function JI(t){Gt.useDeprecatedSynchronousErrorHandling&&qr&&(qr.errorThrown=!0,qr.error=t)}var Gr=class extends Me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Oc(e)&&e.add(this)):this.destination=iR}static create(e,n,r){return new Vi(e,n,r)}next(e){this.isStopped?Xh(ZI(e),this):this._next(e)}error(e){this.isStopped?Xh(YI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Xh(QI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nR=Function.prototype.bind;function Jh(t,e){return nR.call(t,e)}var ef=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Lc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Lc(r)}else Lc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Lc(n)}}},Vi=class extends Gr{constructor(e,n,r){super();let i;if(J(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Gt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Jh(e.next,s),error:e.error&&Jh(e.error,s),complete:e.complete&&Jh(e.complete,s)}):i=e}this.destination=new ef(i)}};function Lc(t){Gt.useDeprecatedSynchronousErrorHandling?JI(t):kc(t)}function rR(t){throw t}function Xh(t,e){let{onStoppedNotification:n}=Gt;n&&Li.setTimeout(()=>n(t,e))}var iR={closed:!0,next:Mo,error:rR,complete:Mo};var Ui=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Tt(t){return t}function Fc(...t){return tf(t)}function tf(t){return t.length===0?Tt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=oR(n)?n:new Vi(n,r,i);return Fi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=XI(r),new r((i,s)=>{let o=new Vi({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ui](){return this}pipe(...n){return tf(n)(this)}toPromise(n){return n=XI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function XI(t){var e;return(e=t??Gt.Promise)!==null&&e!==void 0?e:Promise}function sR(t){return t&&J(t.next)&&J(t.error)&&J(t.complete)}function oR(t){return t&&t instanceof Gr||sR(t)&&Oc(t)}function nf(t){return J(t?.lift)}function le(t){return e=>{if(nf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(t,e,n,r,i){return new rf(t,e,n,r,i)}var rf=class extends Gr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ji(){return le((t,e)=>{let n=null;t._refCount++;let r=ae(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Bi=class extends oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,nf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Me;let n=this.getSubject();e.add(this.source.subscribe(ae(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Me.EMPTY)}return e}refCount(){return ji()(this)}};var ew=ki(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var dt=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Vc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ew}next(n){Fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Yh:(this.currentObservers=null,s.push(n),new Me(()=>{this.currentObservers=null,zr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new Vc(e,n),t})(),Vc=class extends dt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Yh}};var Ye=class extends dt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var sf={now(){return(sf.delegate||Date).now()},delegate:void 0};var Uc=class extends Me{constructor(e,n){super()}schedule(e,n=0){return this}};var xo={setInterval(t,e,...n){let{delegate:r}=xo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=xo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var $i=class extends Uc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return xo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&xo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,zr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Hi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Hi.now=sf.now;var zi=class extends Hi{constructor(e,n=Hi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var of=new zi($i);var jc=class extends $i{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Bc=class extends zi{};var af=new Bc(jc);var bt=new oe(t=>t.complete());function tw(t){return t&&J(t.schedule)}function nw(t){return t[t.length-1]}function $c(t){return J(nw(t))?t.pop():void 0}function rr(t){return tw(nw(t))?t.pop():void 0}function cf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iw(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function rw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wr(t){return this instanceof Wr?(this.v=t,this):new Wr(t)}function sw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(S){return Promise.resolve(S).then(v,p)}}function a(v,S){r[v]&&(i[v]=function(M){return new Promise(function(R,k){s.push([v,M,R,k])>1||u(v,M)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(M){m(s[0][3],M)}}function l(v){v.value instanceof Wr?Promise.resolve(v.value.v).then(h,p):m(s[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,S){v(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function ow(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof rw=="function"?rw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var Hc=t=>t&&typeof t.length=="number"&&typeof t!="function";function zc(t){return J(t?.then)}function qc(t){return J(t[Ui])}function Gc(t){return Symbol.asyncIterator&&J(t?.[Symbol.asyncIterator])}function Wc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function aR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Kc=aR();function Qc(t){return J(t?.[Kc])}function Yc(t){return sw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Wr(n.read());if(i)return yield Wr(void 0);yield yield Wr(r)}}finally{n.releaseLock()}})}function Zc(t){return J(t?.getReader)}function Le(t){if(t instanceof oe)return t;if(t!=null){if(qc(t))return cR(t);if(Hc(t))return uR(t);if(zc(t))return lR(t);if(Gc(t))return aw(t);if(Qc(t))return dR(t);if(Zc(t))return hR(t)}throw Wc(t)}function cR(t){return new oe(e=>{let n=t[Ui]();if(J(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uR(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function lR(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,kc)})}function dR(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function aw(t){return new oe(e=>{fR(t,e).catch(n=>e.error(n))})}function hR(t){return aw(Yc(t))}function fR(t,e){var n,r,i,s;return iw(this,void 0,void 0,function*(){try{for(n=ow(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function It(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ir(t,e=0){return le((n,r)=>{n.subscribe(ae(r,i=>It(r,t,()=>r.next(i),e),()=>It(r,t,()=>r.complete(),e),i=>It(r,t,()=>r.error(i),e)))})}function sr(t,e=0){return le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function cw(t,e){return Le(t).pipe(sr(e),ir(e))}function uw(t,e){return Le(t).pipe(sr(e),ir(e))}function lw(t,e){return new oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function dw(t,e){return new oe(n=>{let r;return It(n,e,()=>{r=t[Kc](),It(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function Jc(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{It(n,e,()=>{let r=t[Symbol.asyncIterator]();It(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function hw(t,e){return Jc(Yc(t),e)}function fw(t,e){if(t!=null){if(qc(t))return cw(t,e);if(Hc(t))return lw(t,e);if(zc(t))return uw(t,e);if(Gc(t))return Jc(t,e);if(Qc(t))return dw(t,e);if(Zc(t))return hw(t,e)}throw Wc(t)}function xe(t,e){return e?fw(t,e):Le(t)}function W(...t){let e=rr(t);return xe(t,e)}function qi(t,e){let n=J(t)?t:()=>t,r=i=>i.error(n());return new oe(e?i=>e.schedule(r,0,i):r)}function uf(t){return!!t&&(t instanceof oe||J(t.lift)&&J(t.subscribe))}var An=ki(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ne(t,e){return le((n,r)=>{let i=0;n.subscribe(ae(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:pR}=Array;function gR(t,e){return pR(e)?t(...e):t(e)}function Xc(t){return ne(e=>gR(t,e))}var{isArray:mR}=Array,{getPrototypeOf:yR,prototype:vR,keys:_R}=Object;function eu(t){if(t.length===1){let e=t[0];if(mR(e))return{args:e,keys:null};if(IR(e)){let n=_R(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function IR(t){return t&&typeof t=="object"&&yR(t)===vR}function tu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Po(...t){let e=rr(t),n=$c(t),{args:r,keys:i}=eu(t);if(r.length===0)return xe([],e);let s=new oe(wR(r,e,i?o=>tu(i,o):Tt));return n?s.pipe(Xc(n)):s}function wR(t,e,n=Tt){return r=>{pw(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)pw(e,()=>{let l=xe(t[u],e),h=!1;l.subscribe(ae(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function pw(t,e,n){t?It(n,t,e):e()}function gw(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=M=>l<r?S(M):u.push(M),S=M=>{s&&e.next(M),l++;let R=!1;Le(n(M,h++)).subscribe(ae(e,k=>{i?.(k),s?v(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let k=u.shift();o?It(e,o,()=>S(k)):S(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(ae(e,v,()=>{p=!0,m()})),()=>{a?.()}}function Fe(t,e,n=1/0){return J(e)?Fe((r,i)=>ne((s,o)=>e(r,s,i,o))(Le(t(r,i))),n):(typeof e=="number"&&(n=e),le((r,i)=>gw(r,i,t,n)))}function Gi(t=1/0){return Fe(Tt,t)}function mw(){return Gi(1)}function Wi(...t){return mw()(xe(t,rr(t)))}function nu(t){return new oe(e=>{Le(t()).subscribe(e)})}function ER(...t){let e=$c(t),{args:n,keys:r}=eu(t),i=new oe(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Le(n[h]).subscribe(ae(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?tu(r,a):a),s.complete())}))}});return e?i.pipe(Xc(e)):i}function Ct(t,e){return le((n,r)=>{let i=0;n.subscribe(ae(r,s=>t.call(e,s,i++)&&r.next(s)))})}function or(t){return le((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ae(n,void 0,void 0,o=>{s=Le(t(o,or(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function yw(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ae(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Kr(t,e){return J(e)?Fe(t,e,1):Fe(t,1)}function ar(t){return le((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Rn(t){return t<=0?()=>bt:le((e,n)=>{let r=0;e.subscribe(ae(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function lf(t){return ne(()=>t)}function ru(t=DR){return le((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function DR(){return new An}function Oo(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function nn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,s)=>t(i,s,r)):Tt,Rn(1),n?ar(e):ru(()=>new An))}function Ki(t){return t<=0?()=>bt:le((e,n)=>{let r=[];e.subscribe(ae(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function df(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,s)=>t(i,s,r)):Tt,Ki(1),n?ar(e):ru(()=>new An))}function iu(t,e){return le(yw(t,e,arguments.length>=2,!0))}function su(...t){let e=rr(t);return le((n,r)=>{(e?Wi(t,n,e):Wi(t,n)).subscribe(r)})}function Ot(t,e){return le((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ae(r,u=>{i?.unsubscribe();let l=0,h=s++;Le(t(u,h)).subscribe(i=ae(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function hf(t){return le((e,n)=>{Le(t).subscribe(ae(n,()=>n.complete(),Mo)),!n.closed&&e.subscribe(n)})}function He(t,e,n){let r=J(t)||e||n?{next:t,error:e,complete:n}:t;return r?le((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ae(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Tt}var nE="https://g.co/ng/security#xss",j=class extends Error{constructor(e,n){super(gp(e,n)),this.code=e}};function gp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function zo(t){return{toString:t}.toString()}var ou="__parameters__";function TR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function rE(t,e,n){return zo(()=>{let r=TR(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(ou)?u[ou]:Object.defineProperty(u,ou,{value:[]})[ou];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ko=globalThis;function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function bR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function pt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(pt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function vw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var CR=we({__forward_ref__:we});function iE(t){return t.__forward_ref__=iE,t.toString=function(){return pt(this())},t}function ht(t){return sE(t)?t():t}function sE(t){return typeof t=="function"&&t.hasOwnProperty(CR)&&t.__forward_ref__===iE}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qo(t){return{providers:t.providers||[],imports:t.imports||[]}}function ju(t){return _w(t,aE)||_w(t,cE)}function oE(t){return ju(t)!==null}function _w(t,e){return t.hasOwnProperty(e)?t[e]:null}function SR(t){let e=t&&(t[aE]||t[cE]);return e||null}function Iw(t){return t&&(t.hasOwnProperty(ww)||t.hasOwnProperty(AR))?t[ww]:null}var aE=we({\u0275prov:we}),ww=we({\u0275inj:we}),cE=we({ngInjectableDef:we}),AR=we({ngInjectorDef:we}),U=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function uE(t){return t&&!!t.\u0275providers}var RR=we({\u0275cmp:we}),NR=we({\u0275dir:we}),MR=we({\u0275pipe:we}),xR=we({\u0275mod:we}),gu=we({\u0275fac:we}),Fo=we({__NG_ELEMENT_ID__:we}),Ew=we({__NG_ENV_ID__:we});function Bu(t){return typeof t=="string"?t:t==null?"":String(t)}function PR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Bu(t)}function OR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new j(-200,t)}function mp(t,e){throw new j(-201,!1)}var te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(te||{}),Sf;function lE(){return Sf}function wt(t){let e=Sf;return Sf=t,e}function dE(t,e,n){let r=ju(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&te.Optional)return null;if(e!==void 0)return e;mp(t,"Injector")}var kR={},Vo=kR,Af="__NG_DI_FLAG__",mu="ngTempTokenPath",LR="ngTokenPath",FR=/\n/gm,VR="\u0275",Dw="__source",Xi;function UR(){return Xi}function cr(t){let e=Xi;return Xi=t,e}function jR(t,e=te.Default){if(Xi===void 0)throw new j(-203,!1);return Xi===null?dE(t,void 0,e):Xi.get(t,e&te.Optional?null:void 0,e)}function K(t,e=te.Default){return(lE()||jR)(ht(t),e)}function O(t,e=te.Default){return K(t,$u(e))}function $u(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rf(t){let e=[];for(let n=0;n<t.length;n++){let r=ht(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,s=te.Default;for(let o=0;o<r.length;o++){let a=r[o],u=BR(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(K(i,s))}else e.push(K(r))}return e}function hE(t,e){return t[Af]=e,t.prototype[Af]=e,t}function BR(t){return t[Af]}function $R(t,e,n,r){let i=t[mu];throw e[Dw]&&i.unshift(e[Dw]),t.message=HR(`
`+t.message,i,n,r),t[LR]=i,t[mu]=null,t}function HR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==VR?t.slice(2):t;let i=pt(e);if(Array.isArray(e))i=e.map(pt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):pt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(FR,`
  `)}`}var st=hE(rE("Optional"),8);var yp=hE(rE("SkipSelf"),4);function Zr(t,e){let n=t.hasOwnProperty(gu);return n?t[gu]:null}function vp(t,e){t.forEach(n=>Array.isArray(n)?vp(n,e):e(n))}function fE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function zR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function qR(t,e,n){let r=Go(t,e);return r>=0?t[r|1]=n:(r=~r,zR(t,r,e,n)),r}function ff(t,e){let n=Go(t,e);if(n>=0)return t[n|1]}function Go(t,e){return GR(t,e,1)}function GR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ts={},kt=[],ns=new U(""),pE=new U("",-1),gE=new U(""),vu=class{get(e,n=Vo){if(n===Vo){let r=new Error(`NullInjectorError: No provider for ${pt(e)}!`);throw r.name="NullInjectorError",r}return n}},mE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(mE||{}),on=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(on||{}),dr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(dr||{});function WR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Nf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];QR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function KR(t){return t===3||t===4||t===6}function QR(t){return t.charCodeAt(0)===64}function Uo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Tw(t,n,i,null,e[++r]):Tw(t,n,i,null,null))}}return t}function Tw(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var yE="ng-template";function YR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&WR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(_p(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function _p(t){return t.type===4&&t.value!==yE}function ZR(t,e,n){let r=t.type===4&&!n?yE:t.value;return e===r}function JR(t,e,n){let r=4,i=t.attrs,s=i!==null?tN(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Wt(r)&&!Wt(u))return!1;if(o&&Wt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!ZR(t,u,n)||u===""&&e.length===1){if(Wt(r))return!1;o=!0}}else if(r&8){if(i===null||!YR(t,i,u,n)){if(Wt(r))return!1;o=!0}}else{let l=e[++a],h=XR(u,i,_p(t),n);if(h===-1){if(Wt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Wt(r))return!1;o=!0}}}}return Wt(r)||o}function Wt(t){return(t&1)===0}function XR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return nN(e,t)}function eN(t,e,n=!1){for(let r=0;r<e.length;r++)if(JR(t,e[r],n))return!0;return!1}function tN(t){for(let e=0;e<t.length;e++){let n=t[e];if(KR(n))return e}return t.length}function nN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function bw(t,e){return t?":not("+e.trim()+")":e}function rN(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Wt(o)&&(e+=bw(s,i),i=""),r=o,s=s||!Wt(r);n++}return i!==""&&(e+=bw(s,i)),e}function iN(t){return t.map(rN).join(",")}function sN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Wt(i))break;i=s}r++}return{attrs:e,classes:n}}function vE(t){return zo(()=>{let e=DE(t),n=Te(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===mE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||on.Emulated,styles:t.styles||kt,_:null,schemas:t.schemas||null,tView:null,id:""});TE(n);let r=t.dependencies;return n.directiveDefs=Sw(r,!1),n.pipeDefs=Sw(r,!0),n.id=cN(n),n})}function oN(t){return hr(t)||_E(t)}function aN(t){return t!==null}function Wo(t){return zo(()=>({type:t.type,bootstrap:t.bootstrap||kt,declarations:t.declarations||kt,imports:t.imports||kt,exports:t.exports||kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Cw(t,e){if(t==null)return ts;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=dr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==dr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ko(t){return zo(()=>{let e=DE(t);return TE(e),e})}function Ip(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function hr(t){return t[RR]||null}function _E(t){return t[NR]||null}function IE(t){return t[MR]||null}function wE(t){let e=hr(t)||_E(t)||IE(t);return e!==null?e.standalone:!1}function EE(t,e){let n=t[xR]||null;if(!n&&e===!0)throw new Error(`Type ${pt(t)} does not have '\u0275mod' property.`);return n}function DE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ts,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||kt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cw(t.inputs,e),outputs:Cw(t.outputs),debugInfo:null}}function TE(t){t.features?.forEach(e=>e(t))}function Sw(t,e){if(!t)return null;let n=e?IE:oN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(aN)}function cN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ln(t){return{\u0275providers:t}}function uN(...t){return{\u0275providers:bE(!0,t),\u0275fromNgModule:!0}}function bE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return vp(e,o=>{let a=o;Mf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&CE(i,s),n}function CE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];wp(i,s=>{e(s,r)})}}function Mf(t,e,n,r){if(t=ht(t),!t)return!1;let i=null,s=Iw(t),o=!s&&hr(t);if(!s&&!o){let u=t.ngModule;if(s=Iw(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Mf(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{vp(s.imports,h=>{Mf(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&CE(l,e)}if(!a){let l=Zr(i)||(()=>new i);e({provide:i,useFactory:l,deps:kt},i),e({provide:gE,useValue:i,multi:!0},i),e({provide:ns,useValue:()=>K(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;wp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function wp(t,e){for(let n of t)uE(n)&&(n=n.\u0275providers),Array.isArray(n)?wp(n,e):e(n)}var lN=we({provide:String,useValue:we});function SE(t){return t!==null&&typeof t=="object"&&lN in t}function dN(t){return!!(t&&t.useExisting)}function hN(t){return!!(t&&t.useFactory)}function rs(t){return typeof t=="function"}function fN(t){return!!t.useClass}var Hu=new U(""),lu={},pN={},pf;function Ep(){return pf===void 0&&(pf=new vu),pf}var St=class{},jo=class extends St{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pf(e,o=>this.processProvider(o)),this.records.set(pE,Qi(void 0,this)),i.has("environment")&&this.records.set(St,Qi(void 0,this));let s=this.records.get(Hu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(gE,kt,te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=he(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=cr(this),r=wt(void 0),i;try{return e()}finally{cr(n),wt(r)}}get(e,n=Vo,r=te.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ew))return e[Ew](this);r=$u(r);let i,s=cr(this),o=wt(void 0);try{if(!(r&te.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=_N(e)&&ju(e);l&&this.injectableDefInScope(l)?u=Qi(xf(e),lu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&te.Self?Ep():this.parent;return n=r&te.Optional&&n===Vo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[mu]=a[mu]||[]).unshift(pt(e)),s)throw a;return $R(a,e,"R3InjectorError",this.source)}else throw a}finally{wt(o),cr(s)}}resolveInjectorInitializers(){let e=he(null),n=cr(this),r=wt(void 0),i;try{let s=this.get(ns,kt,te.Self);for(let o of s)o()}finally{cr(n),wt(r),he(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(pt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=ht(e);let n=rs(e)?e:ht(e&&e.provide),r=mN(e);if(!rs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Qi(void 0,lu,!0),i.factory=()=>Rf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=he(null);try{return n.value===lu&&(n.value=pN,n.value=n.factory()),typeof n.value=="object"&&n.value&&vN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{he(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ht(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function xf(t){let e=ju(t),n=e!==null?e.factory:Zr(t);if(n!==null)return n;if(t instanceof U)throw new j(204,!1);if(t instanceof Function)return gN(t);throw new j(204,!1)}function gN(t){if(t.length>0)throw new j(204,!1);let n=SR(t);return n!==null?()=>n.factory(t):()=>new t}function mN(t){if(SE(t))return Qi(void 0,t.useValue);{let e=AE(t);return Qi(e,lu)}}function AE(t,e,n){let r;if(rs(t)){let i=ht(t);return Zr(i)||xf(i)}else if(SE(t))r=()=>ht(t.useValue);else if(hN(t))r=()=>t.useFactory(...Rf(t.deps||[]));else if(dN(t))r=()=>K(ht(t.useExisting));else{let i=ht(t&&(t.useClass||t.provide));if(yN(t))r=()=>new i(...Rf(t.deps));else return Zr(i)||xf(i)}return r}function Qi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function yN(t){return!!t.deps}function vN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function _N(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function Pf(t,e){for(let n of t)Array.isArray(n)?Pf(n,e):n&&uE(n)?Pf(n.\u0275providers,e):e(n)}function dn(t,e){t instanceof jo&&t.assertNotDestroyed();let n,r=cr(t),i=wt(void 0);try{return e()}finally{cr(r),wt(i)}}function RE(){return lE()!==void 0||UR()!=null}function IN(t){if(!RE())throw new j(-203,!1)}function wN(t){return typeof t=="function"}var xn=0,ie=1,Q=2,gt=3,Kt=4,Yt=5,_u=6,Iu=7,Qt=8,is=9,an=10,Oe=11,Bo=12,Aw=13,ps=14,cn=15,ss=16,Yi=17,os=18,zu=19,NE=20,ur=21,gf=22,Lt=23,Vt=25,ME=1;var Jr=7,wu=8,Eu=9,Ft=10,Du=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Du||{});function lr(t){return Array.isArray(t)&&typeof t[ME]=="object"}function Pn(t){return Array.isArray(t)&&t[ME]===!0}function Dp(t){return(t.flags&4)!==0}function qu(t){return t.componentOffset>-1}function Gu(t){return(t.flags&1)===1}function fr(t){return!!t.template}function Of(t){return(t[Q]&512)!==0}var kf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function xE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Wu(){return PE}function PE(t){return t.type.prototype.ngOnChanges&&(t.setInput=DN),EN}Wu.ngInherit=!0;function EN(){let t=kE(this),e=t?.current;if(e){let n=t.previous;if(n===ts)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function DN(t,e,n,r,i){let s=this.declaredInputs[r],o=kE(t)||TN(t,{previous:ts,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new kf(l&&l.currentValue,n,u===ts),xE(t,e,i,n)}var OE="__ngSimpleChanges__";function kE(t){return t[OE]||null}function TN(t,e){return t[OE]=e}var Rw=null;var rn=function(t,e,n){Rw?.(t,e,n)},bN="svg",CN="math";function un(t){for(;Array.isArray(t);)t=t[xn];return t}function LE(t,e){return un(e[t])}function Ut(t,e){return un(e[t.index])}function FE(t,e){return t.data[e]}function VE(t,e){return t[e]}function vr(t,e){let n=e[t];return lr(n)?n:n[xn]}function Tp(t){return(t[Q]&128)===128}function SN(t){return Pn(t[gt])}function as(t,e){return e==null?null:t[e]}function UE(t){t[Yi]=0}function jE(t){t[Q]&1024||(t[Q]|=1024,Tp(t)&&Qu(t))}function AN(t,e){for(;t>0;)e=e[ps],t--;return e}function Ku(t){return!!(t[Q]&9216||t[Lt]?.dirty)}function Lf(t){t[an].changeDetectionScheduler?.notify(8),t[Q]&64&&(t[Q]|=1024),Ku(t)&&Qu(t)}function Qu(t){t[an].changeDetectionScheduler?.notify(0);let e=Xr(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!Tp(e)));)e=Xr(e)}function BE(t,e){if((t[Q]&256)===256)throw new j(911,!1);t[ur]===null&&(t[ur]=[]),t[ur].push(e)}function RN(t,e){if(t[ur]===null)return;let n=t[ur].indexOf(e);n!==-1&&t[ur].splice(n,1)}function Xr(t){let e=t[gt];return Pn(e)?e[gt]:e}var se={lFrame:YE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var $E=!1;function NN(){return se.lFrame.elementDepthCount}function MN(){se.lFrame.elementDepthCount++}function xN(){se.lFrame.elementDepthCount--}function HE(){return se.bindingsEnabled}function PN(){return se.skipHydrationRootTNode!==null}function ON(t){return se.skipHydrationRootTNode===t}function kN(){se.skipHydrationRootTNode=null}function ge(){return se.lFrame.lView}function Ze(){return se.lFrame.tView}function c9(t){return se.lFrame.contextLView=t,t[Qt]}function u9(t){return se.lFrame.contextLView=null,t}function mt(){let t=zE();for(;t!==null&&t.type===64;)t=t.parent;return t}function zE(){return se.lFrame.currentTNode}function LN(){let t=se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ii(t,e){let n=se.lFrame;n.currentTNode=t,n.isParent=e}function bp(){return se.lFrame.isParent}function qE(){se.lFrame.isParent=!1}function GE(){return $E}function Nw(t){$E=t}function Cp(){let t=se.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function FN(t){return se.lFrame.bindingIndex=t}function Yu(){return se.lFrame.bindingIndex++}function VN(t){let e=se.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function UN(){return se.lFrame.inI18n}function jN(t,e){let n=se.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ff(e)}function BN(){return se.lFrame.currentDirectiveIndex}function Ff(t){se.lFrame.currentDirectiveIndex=t}function $N(t){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function WE(t){se.lFrame.currentQueryIndex=t}function HN(t){let e=t[ie];return e.type===2?e.declTNode:e.type===1?t[Yt]:null}function KE(t,e,n){if(n&te.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&te.Host);)if(i=HN(s),i===null||(s=s[ps],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=se.lFrame=QE();return r.currentTNode=e,r.lView=t,!0}function Sp(t){let e=QE(),n=t[ie];se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function QE(){let t=se.lFrame,e=t===null?null:t.child;return e===null?YE(t):e}function YE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function ZE(){let t=se.lFrame;return se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var JE=ZE;function Ap(){let t=ZE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function zN(t){return(se.lFrame.contextLView=AN(t,se.lFrame.contextLView))[Qt]}function gs(){return se.lFrame.selectedIndex}function ei(t){se.lFrame.selectedIndex=t}function Zu(){let t=se.lFrame;return FE(t.tView,t.selectedIndex)}function qN(){return se.lFrame.currentNamespace}var XE=!0;function Ju(){return XE}function Xu(t){XE=t}function GN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=PE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function el(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function du(t,e,n){eD(t,e,3,n)}function hu(t,e,n,r){(t[Q]&3)===n&&eD(t,e,n,r)}function mf(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function eD(t,e,n,r){let i=r!==void 0?t[Yi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Yi]+=65536),(a<s||s==-1)&&(WN(t,n,e,u),t[Yi]=(t[Yi]&4294901760)+u+2),u++}function Mw(t,e){rn(4,t,e);let n=he(null);try{e.call(t)}finally{he(n),rn(5,t,e)}}function WN(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[Q]>>14<t[Yi]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,Mw(a,s)):Mw(a,s)}var es=-1,ti=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function KN(t){return t instanceof ti}function QN(t){return(t.flags&8)!==0}function YN(t){return(t.flags&16)!==0}var yf={},Vf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=$u(r);let i=this.injector.get(e,yf,r);return i!==yf||n===yf?i:this.parentInjector.get(e,n,r)}};function tD(t){return t!==es}function Tu(t){return t&32767}function ZN(t){return t>>16}function bu(t,e){let n=ZN(t),r=e;for(;n>0;)r=r[ps],n--;return r}var Uf=!0;function Cu(t){let e=Uf;return Uf=t,e}var JN=256,nD=JN-1,rD=5,XN=0,sn={};function eM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fo)&&(r=n[Fo]),r==null&&(r=n[Fo]=XN++);let i=r&nD,s=1<<i;e.data[t+(i>>rD)]|=s}function Su(t,e){let n=iD(t,e);if(n!==-1)return n;let r=e[ie];r.firstCreatePass&&(t.injectorIndex=e.length,vf(r.data,t),vf(e,null),vf(r.blueprint,null));let i=Rp(t,e),s=t.injectorIndex;if(tD(i)){let o=Tu(i),a=bu(i,e),u=a[ie].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function vf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function iD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Rp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=uD(i),r===null)return es;if(n++,i=i[ps],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return es}function jf(t,e,n){eM(t,e,n)}function sD(t,e,n){if(n&te.Optional||t!==void 0)return t;mp(e,"NodeInjector")}function oD(t,e,n,r){if(n&te.Optional&&r===void 0&&(r=null),!(n&(te.Self|te.Host))){let i=t[is],s=wt(void 0);try{return i?i.get(e,r,n&te.Optional):dE(e,r,n&te.Optional)}finally{wt(s)}}return sD(r,e,n)}function aD(t,e,n,r=te.Default,i){if(t!==null){if(e[Q]&2048&&!(r&te.Self)){let o=sM(t,e,n,r,sn);if(o!==sn)return o}let s=cD(t,e,n,r,sn);if(s!==sn)return s}return oD(e,n,r,i)}function cD(t,e,n,r,i){let s=rM(n);if(typeof s=="function"){if(!KE(e,t,r))return r&te.Host?sD(i,n,r):oD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&te.Optional))mp(n);else return o}finally{JE()}}else if(typeof s=="number"){let o=null,a=iD(t,e),u=es,l=r&te.Host?e[cn][Yt]:null;for((a===-1||r&te.SkipSelf)&&(u=a===-1?Rp(t,e):e[a+8],u===es||!Pw(r,!1)?a=-1:(o=e[ie],a=Tu(u),e=bu(u,e)));a!==-1;){let h=e[ie];if(xw(s,a,h.data)){let p=tM(a,e,n,o,r,l);if(p!==sn)return p}u=e[a+8],u!==es&&Pw(r,e[ie].data[a+8]===l)&&xw(s,a,e)?(o=h,a=Tu(u),e=bu(u,e)):a=-1}}return i}function tM(t,e,n,r,i,s){let o=e[ie],a=o.data[t+8],u=r==null?qu(a)&&Uf:r!=o&&(a.type&3)!==0,l=i&te.Host&&s===a,h=nM(a,o,n,u,l);return h!==null?cs(e,o,h,a):sn}function nM(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let S=o[v];if(v<u&&n===S||v>=u&&S.type===n)return v}if(i){let v=o[u];if(v&&fr(v)&&v.type===n)return u}return null}function cs(t,e,n,r){let i=t[n],s=e.data;if(KN(i)){let o=i;o.resolving&&OR(PR(s[n]));let a=Cu(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?wt(o.injectImpl):null,h=KE(t,r,te.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&GN(n,s[n],e)}finally{l!==null&&wt(l),Cu(a),o.resolving=!1,JE()}}return i}function rM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Fo)?t[Fo]:void 0;return typeof e=="number"?e>=0?e&nD:iM:e}function xw(t,e,n){let r=1<<t;return!!(n[e+(t>>rD)]&r)}function Pw(t,e){return!(t&te.Self)&&!(t&te.Host&&e)}var Yr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return aD(this._tNode,this._lView,e,$u(r),n)}};function iM(){return new Yr(mt(),ge())}function Np(t){return zo(()=>{let e=t.prototype.constructor,n=e[gu]||Bf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[gu]||Bf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Bf(t){return sE(t)?()=>{let e=Bf(ht(t));return e&&e()}:Zr(t)}function sM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Q]&2048&&!(o[Q]&512);){let a=cD(s,o,n,r|te.Self,sn);if(a!==sn)return a;let u=s.parent;if(!u){let l=o[NE];if(l){let h=l.get(n,sn,r);if(h!==sn)return h}u=uD(o),o=o[ps]}s=u}return i}function uD(t){let e=t[ie],n=e.type;return n===2?e.declTNode:n===1?t[Yt]:null}function Ow(t,e=null,n=null,r){let i=lD(t,e,n,r);return i.resolveInjectorInitializers(),i}function lD(t,e=null,n=null,r,i=new Set){let s=[n||kt,uN(t)];return r=r||(typeof t=="object"?void 0:pt(t)),new jo(s,e||Ep(),r||null,i)}var it=class t{static{this.THROW_IF_NOT_FOUND=Vo}static{this.NULL=new vu}static create(e,n){if(Array.isArray(e))return Ow({name:""},n,e,"");{let r=e.name??"";return Ow({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=B({token:t,providedIn:"any",factory:()=>K(pE)})}static{this.__NG_ELEMENT_ID__=-1}};var oM=new U("");oM.__NG_ELEMENT_ID__=t=>{let e=mt();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(t&te.Optional)return null;throw new j(204,!1)};var aM="ngOriginalError";function _f(t){return t[aM]}var dD=!0,Mp=(()=>{class t{static{this.__NG_ELEMENT_ID__=cM}static{this.__NG_ENV_ID__=n=>n}}return t})(),$f=class extends Mp{constructor(e){super(),this._lView=e}onDestroy(e){return BE(this._lView,e),()=>RN(this._lView,e)}};function cM(){return new $f(ge())}var ms=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ye(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Hf=class extends dt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,RE()&&(this.destroyRef=O(Mp,{optional:!0})??void 0,this.pendingTasks=O(ms,{optional:!0})??void 0)}emit(e){let n=he(null);try{super.next(e)}finally{he(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Me&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ft=Hf;function Au(...t){}function hD(t){let e,n;function r(){t=Au;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function kw(t){return queueMicrotask(()=>t()),()=>{t=Au}}var xp="isAngularZone",Ru=xp+"_ID",uM=0,ve=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ft(!1),this.onMicrotaskEmpty=new ft(!1),this.onStable=new ft(!1),this.onError=new ft(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=dD}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,hM(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(xp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,lM,Au,Au);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},lM={};function Pp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dM(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){hD(()=>{t.callbackScheduled=!1,zf(t),t.isCheckStableRunning=!0,Pp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),zf(t)}function hM(t){let e=()=>{dM(t)},n=uM++;t._inner=t._inner.fork({name:"angular",properties:{[xp]:!0,[Ru]:n,[Ru+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(fM(u))return r.invokeTask(s,o,a,u);try{return Lw(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Fw(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return Lw(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!pM(u)&&e(),Fw(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,zf(t),Pp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function zf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Lw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Fw(t){t._nesting--,Pp(t)}var qf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ft,this.onMicrotaskEmpty=new ft,this.onStable=new ft,this.onError=new ft}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function fM(t){return fD(t,"__ignore_ng_zone__")}function pM(t){return fD(t,"__scheduler_tick__")}function fD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Nn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&_f(e);for(;n&&_f(n);)n=_f(n);return n||null}},gM=new U("",{providedIn:"root",factory:()=>{let t=O(ve),e=O(Nn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function mM(){return tl(mt(),ge())}function tl(t,e){return new nl(Ut(t,e))}var nl=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=mM}}return t})();function pD(t){return(t.flags&128)===128}var gD=new Map,yM=0;function vM(){return yM++}function _M(t){gD.set(t[zu],t)}function Gf(t){gD.delete(t[zu])}var Vw="__ngContext__";function pr(t,e){lr(e)?(t[Vw]=e[zu],_M(e)):t[Vw]=e}function mD(t){return vD(t[Bo])}function yD(t){return vD(t[Kt])}function vD(t){for(;t!==null&&!Pn(t);)t=t[Kt];return t}var Wf;function _D(t){Wf=t}function IM(){if(Wf!==void 0)return Wf;if(typeof document<"u")return document;throw new j(210,!1)}var Op=new U("",{providedIn:"root",factory:()=>wM}),wM="ng",kp=new U(""),hn=new U("",{providedIn:"platform",factory:()=>"unknown"});var Lp=new U("",{providedIn:"root",factory:()=>IM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var EM="h",DM="b";var TM=()=>null;function Fp(t,e,n=!1){return TM(t,e,n)}var ID=!1,bM=new U("",{providedIn:"root",factory:()=>ID});var Nu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nE})`}};function rl(t){return t instanceof Nu?t.changingThisBreaksApplicationSecurity:t}function wD(t,e){let n=CM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${nE})`)}return n===e}function CM(t){return t instanceof Nu&&t.getTypeName()||null}var SM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ED(t){return t=String(t),t.match(SM)?t:"unsafe:"+t}var Vp=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Vp||{});function l9(t){let e=AM();return e?e.sanitize(Vp.URL,t)||"":wD(t,"URL")?rl(t):ED(Bu(t))}function AM(){let t=ge();return t&&t[an].sanitizer}var RM=/^>|^->|<!--|-->|--!>|<!-$/g,NM=/(<|>)/g,MM="\u200B$1\u200B";function xM(t){return t.replace(RM,e=>e.replace(NM,MM))}function DD(t){return t instanceof Function?t():t}function PM(t){return(t??O(it)).get(hn)==="browser"}var Mn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Mn||{}),OM;function Up(t,e){return OM(t,e)}function Zi(t,e,n,r,i){if(r!=null){let s,o=!1;Pn(r)?s=r:lr(r)&&(o=!0,r=r[xn]);let a=un(r);t===0&&n!==null?i==null?AD(e,n,a):Mu(e,n,a,i||null,!0):t===1&&n!==null?Mu(e,n,a,i||null,!0):t===2?YM(e,a,o):t===3&&e.destroyNode(a),s!=null&&JM(e,t,s,n,i)}}function kM(t,e){return t.createText(e)}function LM(t,e,n){t.setValue(e,n)}function FM(t,e){return t.createComment(xM(e))}function TD(t,e,n){return t.createElement(e,n)}function VM(t,e){bD(t,e),e[xn]=null,e[Yt]=null}function UM(t,e,n,r,i,s){r[xn]=i,r[Yt]=e,sl(t,r,n,1,i,s)}function bD(t,e){e[an].changeDetectionScheduler?.notify(9),sl(t,e,e[Oe],2,null,null)}function jM(t){let e=t[Bo];if(!e)return If(t[ie],t);for(;e;){let n=null;if(lr(e))n=e[Bo];else{let r=e[Ft];r&&(n=r)}if(!n){for(;e&&!e[Kt]&&e!==t;)lr(e)&&If(e[ie],e),e=e[gt];e===null&&(e=t),lr(e)&&If(e[ie],e),n=e&&e[Kt]}e=n}}function BM(t,e,n,r){let i=Ft+r,s=n.length;r>0&&(n[i-1][Kt]=e),r<s-Ft?(e[Kt]=n[i],fE(n,Ft+r,e)):(n.push(e),e[Kt]=null),e[gt]=n;let o=e[ss];o!==null&&n!==o&&CD(o,e);let a=e[os];a!==null&&a.insertView(t),Lf(e),e[Q]|=128}function CD(t,e){let n=t[Eu],r=e[gt];if(lr(r))t[Q]|=Du.HasTransplantedViews;else{let i=r[gt][cn];e[cn]!==i&&(t[Q]|=Du.HasTransplantedViews)}n===null?t[Eu]=[e]:n.push(e)}function jp(t,e){let n=t[Eu],r=n.indexOf(e);n.splice(r,1)}function Kf(t,e){if(t.length<=Ft)return;let n=Ft+e,r=t[n];if(r){let i=r[ss];i!==null&&i!==t&&jp(i,r),e>0&&(t[n-1][Kt]=r[Kt]);let s=yu(t,Ft+e);VM(r[ie],r);let o=s[os];o!==null&&o.detachView(s[ie]),r[gt]=null,r[Kt]=null,r[Q]&=-129}return r}function SD(t,e){if(!(e[Q]&256)){let n=e[Oe];n.destroyNode&&sl(t,e,n,3,null,null),jM(e)}}function If(t,e){if(e[Q]&256)return;let n=he(null);try{e[Q]&=-129,e[Q]|=256,e[Lt]&&Kh(e[Lt]),HM(t,e),$M(t,e),e[ie].type===1&&e[Oe].destroy();let r=e[ss];if(r!==null&&Pn(e[gt])){r!==e[gt]&&jp(r,e);let i=e[os];i!==null&&i.detachView(t)}Gf(e)}finally{he(n)}}function $M(t,e){let n=t.cleanup,r=e[Iu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Iu]=null);let i=e[ur];if(i!==null){e[ur]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function HM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ti)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];rn(4,a,u);try{u.call(a)}finally{rn(5,a,u)}}else{rn(4,i,s);try{s.call(i)}finally{rn(5,i,s)}}}}}function zM(t,e,n){return qM(t,e.parent,n)}function qM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[xn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===on.None||s===on.Emulated)return null}return Ut(r,n)}}function Mu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function AD(t,e,n){t.appendChild(e,n)}function Uw(t,e,n,r,i){r!==null?Mu(t,e,n,r,i):AD(t,e,n)}function RD(t,e){return t.parentNode(e)}function GM(t,e){return t.nextSibling(e)}function WM(t,e,n){return QM(t,e,n)}function KM(t,e,n){return t.type&40?Ut(t,n):null}var QM=KM,jw;function il(t,e,n,r){let i=zM(t,r,e),s=e[Oe],o=r.parent||e[Yt],a=WM(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Uw(s,i,n[u],a,!1);else Uw(s,i,n,a,!1);jw!==void 0&&jw(s,r,e,n,i)}function Lo(t,e){if(e!==null){let n=e.type;if(n&3)return Ut(e,t);if(n&4)return Qf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Lo(t,r);{let i=t[e.index];return Pn(i)?Qf(-1,i):un(i)}}else{if(n&128)return Lo(t,e.next);if(n&32)return Up(e,t)()||un(t[e.index]);{let r=ND(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Xr(t[cn]);return Lo(i,r)}else return Lo(t,e.next)}}}return null}function ND(t,e){if(e!==null){let r=t[cn][Yt],i=e.projection;return r.projection[i]}return null}function Qf(t,e){let n=Ft+t+1;if(n<e.length){let r=e[n],i=r[ie].firstChild;if(i!==null)return Lo(r,i)}return e[Jr]}function YM(t,e,n){t.removeChild(null,e,n)}function Bp(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&pr(un(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Bp(t,e,n.child,r,i,s,!1),Zi(e,t,i,a,s);else if(u&32){let l=Up(n,r),h;for(;h=l();)Zi(e,t,i,h,s);Zi(e,t,i,a,s)}else u&16?ZM(t,e,r,n,i,s):Zi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function sl(t,e,n,r,i,s){Bp(n,r,t.firstChild,e,i,s,!1)}function ZM(t,e,n,r,i,s){let o=n[cn],u=o[Yt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Zi(e,t,i,h,s)}else{let l=u,h=o[gt];pD(r)&&(l.flags|=128),Bp(t,e,l,h,i,s,!0)}}function JM(t,e,n,r,i){let s=n[Jr],o=un(n);s!==o&&Zi(e,t,r,s,i);for(let a=Ft;a<n.length;a++){let u=n[a];sl(u[ie],u,t,e,r,s)}}function XM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Mn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Mn.Important),t.setStyle(n,r,i,s))}}function ex(t,e,n){t.setAttribute(e,"style",n)}function MD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function xD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Nf(t,e,r),i!==null&&MD(t,e,i),s!==null&&ex(t,e,s)}var On={};function d9(t=1){PD(Ze(),ge(),gs()+t,!1)}function PD(t,e,n,r){if(!r)if((e[Q]&3)===3){let s=t.preOrderCheckHooks;s!==null&&du(e,s,n)}else{let s=t.preOrderHooks;s!==null&&hu(e,s,0,n)}ei(n)}function yt(t,e=te.Default){let n=ge();if(n===null)return K(t,e);let r=mt();return aD(r,n,ht(t),e)}function OD(){let t="invalid";throw new Error(t)}function kD(t,e,n,r,i,s){let o=he(null);try{let a=null;i&dr.SignalBased&&(a=e[r][Sn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&dr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):xE(e,a,r,s)}finally{he(o)}}function tx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ei(~i);else{let s=i,o=n[++r],a=n[++r];jN(o,s);let u=e[s];a(2,u)}}}finally{ei(-1)}}function ol(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[xn]=i,p[Q]=r|4|128|8|64,(l!==null||t&&t[Q]&2048)&&(p[Q]|=2048),UE(p),p[gt]=p[ps]=t,p[Qt]=n,p[an]=o||t&&t[an],p[Oe]=a||t&&t[Oe],p[is]=u||t&&t[is]||null,p[Yt]=s,p[zu]=vM(),p[_u]=h,p[NE]=l,p[cn]=e.type==2?t[cn]:p,p}function Qo(t,e,n,r,i){let s=t.data[e];if(s===null)s=nx(t,e,n,r,i),UN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=LN();s.injectorIndex=o===null?-1:o.injectorIndex}return ii(s,!0),s}function nx(t,e,n,r,i){let s=zE(),o=bp(),a=o?s:s&&s.parent,u=t.data[e]=ax(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function LD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function FD(t,e,n,r,i){let s=gs(),o=r&2;try{ei(-1),o&&e.length>Vt&&PD(t,e,Vt,!1),rn(o?2:0,i),n(r,i)}finally{ei(s),rn(o?3:1,i)}}function $p(t,e,n){if(Dp(e)){let r=he(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{he(r)}}}function Hp(t,e,n){HE()&&(fx(t,e,n,Ut(n,e)),(n.flags&64)===64&&jD(t,e,n))}function zp(t,e,n=Ut){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function VD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=qp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function qp(t,e,n,r,i,s,o,a,u,l,h){let p=Vt+r,m=p+i,v=rx(p,m),S=typeof l=="function"?l():l;return v[ie]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function rx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:On);return n}function ix(t,e,n,r){let s=r.get(bM,ID)||n===on.ShadowDom,o=t.selectRootElement(e,s);return sx(o),o}function sx(t){ox(t)}var ox=()=>null;function ax(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return PN()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Bw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=dr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?$w(r,n,l,a,u):$w(r,n,l,a)}return r}function $w(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function cx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,v=m?m.inputs:null,S=m?m.outputs:null;u=Bw(0,p.inputs,h,u,v),l=Bw(1,p.outputs,h,l,S);let M=u!==null&&o!==null&&!_p(e)?Tx(u,h,o):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function ux(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Gp(t,e,n,r,i,s,o,a){let u=Ut(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Kp(t,n,h,r,i),qu(e)&&lx(n,e.index)):e.type&3?(r=ux(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function lx(t,e){let n=vr(e,t);n[Q]&16||(n[Q]|=64)}function Wp(t,e,n,r){if(HE()){let i=r===null?null:{"":-1},s=gx(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&UD(t,e,n,o,i,a),i&&mx(n,r,i)}n.mergedAttrs=Uo(n.mergedAttrs,n.attrs)}function UD(t,e,n,r,i,s){for(let l=0;l<r.length;l++)jf(Su(n,e),t,r[l].type);vx(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=LD(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Uo(n.mergedAttrs,h.hostAttrs),_x(t,n,e,u,h),yx(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}cx(t,n,s)}function dx(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;hx(o)!=a&&o.push(a),o.push(n,r,s)}}function hx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function fx(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;qu(n)&&Ix(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Su(n,e),pr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=cs(e,t,a,n);if(pr(l,e),o!==null&&Dx(e,a-i,l,u,n,o),fr(u)){let h=vr(n.index,e);h[Qt]=cs(e,t,a,n)}}}function jD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=BN();try{ei(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Ff(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&px(u,l)}}finally{ei(-1),Ff(o)}}function px(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function gx(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(eN(e,o.selectors,!1))if(r||(r=[]),fr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Yf(t,e,u)}else r.unshift(o),Yf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Yf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function mx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new j(-301,!1);r.push(e[i],s)}}}function yx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;fr(e)&&(n[""]=t)}}function vx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function _x(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Zr(i.type,!0)),o=new ti(s,fr(i),yt);t.blueprint[r]=o,n[r]=o,dx(t,e,r,LD(t,n,i.hostVars,On),i)}function Ix(t,e,n){let r=Ut(e,t),i=VD(n),s=t[an].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=al(t,ol(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function wx(t,e,n,r,i,s){let o=Ut(t,e);Ex(e[Oe],o,s,t.value,n,r,i)}function Ex(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Bu(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function Dx(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];kD(r,n,u,l,h,p)}}function Tx(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function BD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function $D(t,e){let n=t.contentQueries;if(n!==null){let r=he(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];WE(s),a.contentQueries(2,e[o],o)}}}finally{he(r)}}}function al(t,e){return t[Bo]?t[Aw][Kt]=e:t[Bo]=e,t[Aw]=e,e}function Zf(t,e,n){WE(0);let r=he(null);try{e(t,n)}finally{he(r)}}function bx(t){return t[Iu]??=[]}function Cx(t){return t.cleanup??=[]}function HD(t,e){let n=t[is],r=n?n.get(Nn,null):null;r&&r.handleError(e)}function Kp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];kD(h,l,r,a,u,i)}}function Sx(t,e,n){let r=LE(e,t);LM(t[Oe],r,n)}function Ax(t,e){let n=vr(e,t),r=n[ie];Rx(r,n);let i=n[xn];i!==null&&n[_u]===null&&(n[_u]=Fp(i,n[is])),Qp(r,n,n[Qt])}function Rx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Qp(t,e,n){Sp(e);try{let r=t.viewQuery;r!==null&&Zf(1,r,n);let i=t.template;i!==null&&FD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[os]?.finishViewCreation(t),t.staticContentQueries&&$D(t,e),t.staticViewQueries&&Zf(2,t.viewQuery,n);let s=t.components;s!==null&&Nx(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,Ap()}}function Nx(t,e){for(let n=0;n<e.length;n++)Ax(t,e[n])}function Mx(t,e,n,r){let i=he(null);try{let s=e.tView,a=t[Q]&4096?4096:16,u=ol(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[ss]=l;let h=t[os];return h!==null&&(u[os]=h.createEmbeddedView(s)),Qp(s,u,n),u}finally{he(i)}}function Hw(t,e){return!e||e.firstChild===null||pD(t)}function xx(t,e,n,r=!0){let i=e[ie];if(BM(i,e,t,n),r){let o=Qf(n,t),a=e[Oe],u=RD(a,t[Jr]);u!==null&&UM(i,t[Yt],a,e,u,o)}let s=e[_u];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function xu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(un(s)),Pn(s)&&Px(s,r);let o=n.type;if(o&8)xu(t,e,n.child,r);else if(o&32){let a=Up(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=ND(e,n);if(Array.isArray(a))r.push(...a);else{let u=Xr(e[cn]);xu(u[ie],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Px(t,e){for(let n=Ft;n<t.length;n++){let r=t[n],i=r[ie].firstChild;i!==null&&xu(r[ie],r,i,e)}t[Jr]!==t[xn]&&e.push(t[Jr])}var zD=[];function Ox(t){return t[Lt]??kx(t)}function kx(t){let e=zD.pop()??Object.create(Fx);return e.lView=t,e}function Lx(t){t.lView[Lt]!==t&&(t.lView=null,zD.push(t))}var Fx=Te(F({},No),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Qu(t.lView)},consumerOnSignalRead(){this.lView[Lt]=this}});function Vx(t){let e=t[Lt]??Object.create(Ux);return e.lView=t,e}var Ux=Te(F({},No),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Xr(t.lView);for(;e&&!qD(e[ie]);)e=Xr(e);e&&jE(e)},consumerOnSignalRead(){this.lView[Lt]=this}});function qD(t){return t.type!==2}var jx=100;function GD(t,e=!0,n=0){let r=t[an],i=r.rendererFactory,s=!1;s||i.begin?.();try{Bx(t,n)}catch(o){throw e&&HD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function Bx(t,e){let n=GE();try{Nw(!0),Jf(t,e);let r=0;for(;Ku(t);){if(r===jx)throw new j(103,!1);r++,Jf(t,1)}}finally{Nw(n)}}function $x(t,e,n,r){let i=e[Q];if((i&256)===256)return;let s=!1,o=!1;!s&&e[an].inlineEffectRunner?.flush(),Sp(e);let a=!0,u=null,l=null;s||(qD(t)?(l=Ox(e),u=Nc(l)):OI()===null?(a=!1,l=Vx(e),u=Nc(l)):e[Lt]&&(Kh(e[Lt]),e[Lt]=null));try{UE(e),FN(t.bindingStartIndex),n!==null&&FD(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let v=t.preOrderCheckHooks;v!==null&&du(e,v,null)}else{let v=t.preOrderHooks;v!==null&&hu(e,v,0,null),mf(e,0)}if(o||Hx(e),WD(e,0),t.contentQueries!==null&&$D(t,e),!s)if(h){let v=t.contentCheckHooks;v!==null&&du(e,v)}else{let v=t.contentHooks;v!==null&&hu(e,v,1),mf(e,1)}tx(t,e);let p=t.components;p!==null&&QD(e,p,0);let m=t.viewQuery;if(m!==null&&Zf(2,m,r),!s)if(h){let v=t.viewCheckHooks;v!==null&&du(e,v)}else{let v=t.viewHooks;v!==null&&hu(e,v,2),mf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[gf]){for(let v of e[gf])v();e[gf]=null}s||(e[Q]&=-73)}catch(h){throw s||Qu(e),h}finally{l!==null&&(Gh(l,u),a&&Lx(l)),Ap()}}function WD(t,e){for(let n=mD(t);n!==null;n=yD(n))for(let r=Ft;r<n.length;r++){let i=n[r];KD(i,e)}}function Hx(t){for(let e=mD(t);e!==null;e=yD(e)){if(!(e[Q]&Du.HasTransplantedViews))continue;let n=e[Eu];for(let r=0;r<n.length;r++){let i=n[r];jE(i)}}}function zx(t,e,n){let r=vr(e,t);KD(r,n)}function KD(t,e){Tp(t)&&Jf(t,e)}function Jf(t,e){let r=t[ie],i=t[Q],s=t[Lt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Wh(s)),o||=!1,s&&(s.dirty=!1),t[Q]&=-9217,o)$x(r,t,r.template,t[Qt]);else if(i&8192){WD(t,1);let a=r.components;a!==null&&QD(t,a,1)}}function QD(t,e,n){for(let r=0;r<e.length;r++)zx(t,e[r],n)}function Yp(t,e){let n=GE()?64:1088;for(t[an].changeDetectionScheduler?.notify(e);t;){t[Q]|=n;let r=Xr(t);if(Of(t)&&!r)return t;t=r}return null}var ni=class{get rootNodes(){let e=this._lView,n=e[ie];return xu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qt]}set context(e){this._lView[Qt]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[gt];if(Pn(e)){let n=e[wu],r=n?n.indexOf(this):-1;r>-1&&(Kf(e,r),yu(n,r))}this._attachedToViewContainer=!1}SD(this._lView[ie],this._lView)}onDestroy(e){BE(this._lView,e)}markForCheck(){Yp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Lf(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,GD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Of(this._lView),n=this._lView[ss];n!==null&&!e&&jp(n,this._lView),bD(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let n=Of(this._lView),r=this._lView[ss];r!==null&&!n&&CD(r,this._lView),Lf(this._lView)}},cl=(()=>{class t{static{this.__NG_ELEMENT_ID__=Wx}}return t})(),qx=cl,Gx=class extends qx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Mx(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ni(i)}};function Wx(){return Kx(mt(),ge())}function Kx(t,e){return t.type&4?new Gx(e,t,tl(t,e)):null}var f9=new RegExp(`^(\\d+)*(${DM}|${EM})*(.*)`);var Qx=()=>null;function zw(t,e){return Qx(t,e)}var us=class{},ul=new U("",{providedIn:"root",factory:()=>!1});var YD=new U(""),ZD=new U(""),Xf=class{},Pu=class{};function Yx(t){let e=Error(`No component factory found for ${pt(t)}.`);return e[Zx]=t,e}var Zx="ngComponent";var ep=class{resolveComponentFactory(e){throw Yx(e)}},ls=class{static{this.NULL=new ep}},ds=class{},Zp=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>Jx()}}return t})();function Jx(){let t=ge(),e=mt(),n=vr(e.index,t);return(lr(n)?n:t)[Oe]}var Xx=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>null})}}return t})();function Ou(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=vw(i,a);else if(s==2){let u=a,l=e[++o];r=vw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ku=class extends ls{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=hr(e);return new hs(n,this.ngModule)}};function qw(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:dr.None;e?n.push({propName:o,templateName:r,isSignal:(a&dr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function eP(t){let e=t.toLowerCase();return e==="svg"?bN:e==="math"?CN:null}var hs=class extends Pu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=qw(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return qw(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=iN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=he(null);try{i=i||this.ngModule;let o=i instanceof St?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Vf(e,o):e,u=a.get(ds,null);if(u===null)throw new j(407,!1);let l=a.get(Xx,null),h=a.get(us,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",S=r?ix(m,r,this.componentDef.encapsulation,a):TD(m,v,eP(v)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;S!==null&&(R=Fp(S,a,!0));let k=qp(0,null,null,1,0,null,null,null,null,null,null),H=ol(null,k,null,M,null,null,p,m,a,null,R);Sp(H);let z,re,Re=null;try{let Z=this.componentDef,D,y=null;Z.findHostDirectiveDefs?(D=[],y=new Map,Z.findHostDirectiveDefs(Z,D,y),D.push(Z)):D=[Z];let _=tP(H,S);Re=nP(_,S,Z,D,H,p,m),re=FE(k,Vt),S&&sP(m,Z,S,r),n!==void 0&&oP(re,this.ngContentSelectors,n),z=iP(Re,Z,D,y,H,[aP]),Qp(k,H,null)}catch(Z){throw Re!==null&&Gf(Re),Gf(H),Z}finally{Ap()}return new tp(this.componentType,z,tl(re,H),H,re)}finally{he(s)}}},tp=class extends Xf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ni(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Kp(s[ie],s,i,e,n),this.previousInputValues.set(e,n);let o=vr(this._tNode.index,s);Yp(o,1)}}get injector(){return new Yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function tP(t,e){let n=t[ie],r=Vt;return t[r]=e,Qo(n,r,2,"#host",null)}function nP(t,e,n,r,i,s,o){let a=i[ie];rP(r,t,e,o);let u=null;e!==null&&(u=Fp(e,i[is]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=ol(i,VD(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&Yf(a,t,r.length-1),al(i,p),i[t.index]=p}function rP(t,e,n,r){for(let i of t)e.mergedAttrs=Uo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ou(e,e.mergedAttrs,!0),n!==null&&xD(r,n,e))}function iP(t,e,n,r,i,s){let o=mt(),a=i[ie],u=Ut(o,i);UD(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=cs(i,a,p,o);pr(m,i)}jD(a,i,o),u&&pr(u,i);let l=cs(i,a,o.directiveStart+o.componentOffset,o);if(t[Qt]=i[Qt]=l,s!==null)for(let h of s)h(l,e);return $p(a,o,i),l}function sP(t,e,n,r){if(r)Nf(t,n,["ng-version","18.2.6"]);else{let{attrs:i,classes:s}=sN(e.selectors[0]);i&&Nf(t,n,i),s&&s.length>0&&MD(t,n,s.join(" "))}}function oP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function aP(){let t=mt();el(ge()[ie],t)}var ys=(()=>{class t{static{this.__NG_ELEMENT_ID__=cP}}return t})();function cP(){let t=mt();return lP(t,ge())}var uP=ys,JD=class extends uP{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return tl(this._hostTNode,this._hostLView)}get injector(){return new Yr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Rp(this._hostTNode,this._hostLView);if(tD(e)){let n=bu(e,this._hostLView),r=Tu(e),i=n[ie].data[r+8];return new Yr(i,n)}else return new Yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Gw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ft}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=zw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Hw(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!wN(e),a;if(o)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new hs(hr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(St,null);M&&(s=M)}let h=hr(u.componentType??{}),p=zw(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,s);return this.insertImpl(v.hostView,a,Hw(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(SN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[gt],l=new JD(u,u[Yt],u[gt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return xx(o,i,s,r),e.attachToViewContainerRef(),fE(wf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Gw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Kf(this._lContainer,n);r&&(yu(wf(this._lContainer),n),SD(r[ie],r))}detach(e){let n=this._adjustIndex(e,-1),r=Kf(this._lContainer,n);return r&&yu(wf(this._lContainer),n)!=null?new ni(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Gw(t){return t[wu]}function wf(t){return t[wu]||(t[wu]=[])}function lP(t,e){let n,r=e[t.index];return Pn(r)?n=r:(n=BD(r,e,null,t),e[t.index]=n,al(e,n)),hP(n,e,t,r),new JD(n,t,e)}function dP(t,e){let n=t[Oe],r=n.createComment(""),i=Ut(e,t),s=RD(n,i);return Mu(n,s,r,GM(n,i),!1),r}var hP=gP,fP=()=>!1;function pP(t,e,n){return fP(t,e,n)}function gP(t,e,n,r){if(t[Jr])return;let i;n.type&8?i=un(r):i=dP(e,n),t[Jr]=i}var Ww=new Set;function vs(t){Ww.has(t)||(Ww.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function mP(t){return typeof t=="function"&&t[Sn]!==void 0}function g9(t,e){vs("NgSignals");let n=qI(t),r=n[Sn];return e?.equal&&(r.equal=e.equal),n.set=i=>Qh(r,i),n.update=i=>GI(r,i),n.asReadonly=yP.bind(n),n}function yP(){let t=this[Sn];if(t.readonlyFn===void 0){let e=()=>this();e[Sn]=t,t.readonlyFn=e}return t.readonlyFn}function XD(t){return mP(t)&&typeof t.set=="function"}function vP(t){return Object.getPrototypeOf(t.prototype).constructor}function _P(t){let e=vP(t.type),n=!0,r=[t];for(;e;){let i;if(fr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=au(t.inputs),o.inputTransforms=au(t.inputTransforms),o.declaredInputs=au(t.declaredInputs),o.outputs=au(t.outputs);let a=i.hostBindings;a&&TP(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&EP(t,u),l&&DP(t,l),IP(t,i),bR(t.outputs,i.outputs),fr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===_P&&(n=!1)}}e=Object.getPrototypeOf(e)}wP(r)}function IP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function wP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Uo(i.hostAttrs,n=Uo(n,i.hostAttrs))}}function au(t){return t===ts?{}:t===kt?[]:t}function EP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function DP(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function TP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var gr=class{},$o=class{};var np=class extends gr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ku(this);let s=EE(e);this._bootstrapComponents=DD(s.bootstrap),this._r3Injector=lD(e,n,[{provide:gr,useValue:this},{provide:ls,useValue:this.componentFactoryResolver},...r],pt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},rp=class extends $o{constructor(e){super(),this.moduleType=e}create(e){return new np(this.moduleType,e,[])}};var Lu=class extends gr{constructor(e){super(),this.componentFactoryResolver=new ku(this),this.instance=null;let n=new jo([...e.providers,{provide:gr,useValue:this},{provide:ls,useValue:this.componentFactoryResolver}],e.parent||Ep(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ll(t,e,n=null){return new Lu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function eT(t){return CP(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function bP(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function CP(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Jp(t,e,n){return t[e]=n}function SP(t,e){return t[e]}function mr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function AP(t,e,n,r){let i=mr(t,e,n);return mr(t,e+1,r)||i}function RP(t){return(t.flags&32)===32}function NP(t,e,n,r,i,s,o,a,u){let l=e.consts,h=Qo(e,t,4,o||null,a||null);Wp(e,n,h,as(l,u)),el(e,h);let p=h.tView=qp(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function MP(t,e,n,r,i,s,o,a,u,l){let h=n+Vt,p=e.firstCreatePass?NP(h,e,t,r,i,s,o,a,u):e.data[h];ii(p,!1);let m=PP(e,t,p,n);Ju()&&il(e,t,m,p),pr(m,t);let v=BD(m,t,m,p);return t[h]=v,al(t,v),pP(v,p,t),Gu(p)&&Hp(e,t,p),u!=null&&zp(t,p,l),p}function xP(t,e,n,r,i,s,o,a){let u=ge(),l=Ze(),h=as(l.consts,s);return MP(u,l,t,e,n,r,i,h,o,a),xP}var PP=OP;function OP(t,e,n,r){return Xu(!0),e[Oe].createComment("")}var Ji=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ji||{}),tT=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}}return t})(),ip=class t{constructor(){this.ngZone=O(ve),this.scheduler=O(us),this.errorHandler=O(Nn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Ji.EarlyRead,Ji.Write,Ji.MixedReadWrite,Ji.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}},sp=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Xp(t,e){!e?.injector&&IN(Xp);let n=e?.injector??O(it);return PM(n)?(vs("NgAfterNextRender"),LP(t,n,e,!0)):FP}function kP(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function LP(t,e,n,r){let i=e.get(tT);i.impl??=e.get(ip);let s=n?.phase??Ji.MixedReadWrite,o=new sp(i.impl,kP(t,s),r,e.get(Mp));return i.impl.register(o),o}var FP={destroy(){}};function nT(t,e,n,r){let i=ge(),s=Yu();if(mr(i,s,e)){let o=Ze(),a=Zu();wx(a,i,t,e,n,r)}return nT}function rT(t,e,n,r){return mr(t,Yu(),n)?e+Bu(n)+r:On}function cu(t,e){return t<<17|e<<2}function ri(t){return t>>17&32767}function VP(t){return(t&2)==2}function UP(t,e){return t&131071|e<<17}function op(t){return t|2}function fs(t){return(t&131068)>>2}function Ef(t,e){return t&-131069|e<<2}function jP(t){return(t&1)===1}function ap(t){return t|1}function BP(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ri(o),u=fs(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Go(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=ri(t[a+1]);t[r+1]=cu(m,a),m!==0&&(t[m+1]=Ef(t[m+1],r)),t[a+1]=UP(t[a+1],r)}else t[r+1]=cu(a,0),a!==0&&(t[a+1]=Ef(t[a+1],r)),a=r;else t[r+1]=cu(u,0),a===0?a=r:t[u+1]=Ef(t[u+1],r),u=r;l&&(t[r+1]=op(t[r+1])),Kw(t,h,r,!0),Kw(t,h,r,!1),$P(e,h,t,r,s),o=cu(a,u),s?e.classBindings=o:e.styleBindings=o}function $P(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Go(s,e)>=0&&(n[r+1]=ap(n[r+1]))}function Kw(t,e,n,r){let i=t[n+1],s=e===null,o=r?ri(i):fs(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];HP(u,e)&&(a=!0,t[o+1]=r?ap(l):op(l)),o=r?ri(l):fs(l)}a&&(t[n+1]=r?op(i):ap(i))}function HP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Go(t,e)>=0:!1}function zP(t,e,n){let r=ge(),i=Yu();if(mr(r,i,e)){let s=Ze(),o=Zu();Gp(s,o,r,t,e,r[Oe],n,!1)}return zP}function Qw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Kp(t,n,s[o],o,r)}function qP(t,e){return GP(t,e,null,!0),qP}function GP(t,e,n,r){let i=ge(),s=Ze(),o=VN(2);if(s.firstUpdatePass&&KP(s,t,o,r),e!==On&&mr(i,o,e)){let a=s.data[gs()];XP(s,a,i,i[Oe],t,i[o+1]=eO(e,n),r,o)}}function WP(t,e){return e>=t.expandoStartIndex}function KP(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[gs()],o=WP(t,n);tO(s,r)&&e===null&&!o&&(e=!1),e=QP(i,s,e,r),BP(i,s,e,n,o,r)}}function QP(t,e,n,r){let i=$N(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Df(null,t,e,n,r),n=Ho(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Df(i,t,e,n,r),s===null){let u=YP(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Df(null,t,e,u[1],r),u=Ho(u,e.attrs,r),ZP(t,e,r,u))}else s=JP(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function YP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(fs(r)!==0)return t[ri(r)]}function ZP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ri(i)]=r}function JP(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Ho(r,o,n)}return Ho(r,e.attrs,n)}function Df(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ho(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ho(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),qR(t,o,n?!0:e[++s]))}return t===void 0?null:t}function XP(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=jP(l)?Yw(u,e,n,i,fs(l),o):void 0;if(!Fu(h)){Fu(s)||VP(l)&&(s=Yw(u,null,n,i,a,o));let p=LE(gs(),n);XM(r,o,p,i,s)}}function Yw(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===On&&(m=p?kt:void 0);let v=p?ff(m,r):h===r?m:void 0;if(l&&!Fu(v)&&(v=ff(u,r)),Fu(v)&&(a=v,o))return a;let S=t[i+1];i=o?ri(S):fs(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=ff(u,r))}return a}function Fu(t){return t!==void 0}function eO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=pt(rl(t)))),t}function tO(t,e){return(t.flags&(e?8:16))!==0}function nO(t,e,n,r,i,s){let o=e.consts,a=as(o,i),u=Qo(e,t,2,r,a);return Wp(e,n,u,as(o,s)),u.attrs!==null&&Ou(u,u.attrs,!1),u.mergedAttrs!==null&&Ou(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function iT(t,e,n,r){let i=ge(),s=Ze(),o=Vt+t,a=i[Oe],u=s.firstCreatePass?nO(o,s,i,e,n,r):s.data[o],l=rO(s,i,u,a,e,t);i[o]=l;let h=Gu(u);return ii(u,!0),xD(a,l,u),!RP(u)&&Ju()&&il(s,i,l,u),NN()===0&&pr(l,i),MN(),h&&(Hp(s,i,u),$p(s,u,i)),r!==null&&zp(i,u),iT}function sT(){let t=mt();bp()?qE():(t=t.parent,ii(t,!1));let e=t;ON(e)&&kN(),xN();let n=Ze();return n.firstCreatePass&&(el(n,t),Dp(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&QN(e)&&Qw(n,e,ge(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&YN(e)&&Qw(n,e,ge(),e.stylesWithoutHost,!1),sT}function eg(t,e,n,r){return iT(t,e,n,r),sT(),eg}var rO=(t,e,n,r,i,s)=>(Xu(!0),TD(r,i,qN()));function iO(t,e,n,r,i){let s=e.consts,o=as(s,r),a=Qo(e,t,8,"ng-container",o);o!==null&&Ou(a,o,!0);let u=as(s,i);return Wp(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function sO(t,e,n){let r=ge(),i=Ze(),s=t+Vt,o=i.firstCreatePass?iO(s,i,r,e,n):i.data[s];ii(o,!0);let a=aO(i,r,o,t);return r[s]=a,Ju()&&il(i,r,a,o),pr(a,r),Gu(o)&&(Hp(i,r,o),$p(i,o,r)),n!=null&&zp(r,o),sO}function oO(){let t=mt(),e=Ze();return bp()?qE():(t=t.parent,ii(t,!1)),e.firstCreatePass&&(el(e,t),Dp(t)&&e.queries.elementEnd(t)),oO}var aO=(t,e,n,r)=>(Xu(!0),FM(e[Oe],""));function m9(){return ge()}var Qr=void 0;function cO(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var uO=["en",[["a","p"],["AM","PM"],Qr],[["AM","PM"],Qr,Qr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qr,"{1} 'at' {0}",Qr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",cO],Tf={};function jt(t){let e=lO(t),n=Zw(e);if(n)return n;let r=e.split("-")[0];if(n=Zw(r),n)return n;if(r==="en")return uO;throw new j(701,!1)}function Zw(t){return t in Tf||(Tf[t]=ko.ng&&ko.ng.common&&ko.ng.common.locales&&ko.ng.common.locales[t]),Tf[t]}var ke=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ke||{});function lO(t){return t.toLowerCase().replace(/_/g,"-")}var Vu="en-US";var dO=Vu;function hO(t){typeof t=="string"&&(dO=t.toLowerCase().replace(/_/g,"-"))}var fO=(t,e,n)=>{};function oT(t,e,n,r){let i=ge(),s=Ze(),o=mt();return aT(s,i,i[Oe],o,t,e,r),oT}function pO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Iu],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function aT(t,e,n,r,i,s,o){let a=Gu(r),l=t.firstCreatePass&&Cx(t),h=e[Qt],p=bx(e),m=!0;if(r.type&3||o){let M=Ut(r,e),R=o?o(M):M,k=p.length,H=o?re=>o(un(re[r.index])):r.index,z=null;if(!o&&a&&(z=pO(t,e,i,r.index)),z!==null){let re=z.__ngLastListenerFn__||z;re.__ngNextListenerFn__=s,z.__ngLastListenerFn__=s,m=!1}else{s=Xw(r,e,h,s),fO(M,i,s);let re=n.listen(R,i,s);p.push(s,re),l&&l.push(i,H,k,k+1)}}else s=Xw(r,e,h,s);let v=r.outputs,S;if(m&&v!==null&&(S=v[i])){let M=S.length;if(M)for(let R=0;R<M;R+=2){let k=S[R],H=S[R+1],Re=e[k][H].subscribe(s),Z=p.length;p.push(s,Re),l&&l.push(i,r.index,Z,-(Z+1))}}}function Jw(t,e,n,r){let i=he(null);try{return rn(6,e,n),n(r)!==!1}catch(s){return HD(t,s),!1}finally{rn(7,e,n),he(i)}}function Xw(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?vr(t.index,e):e;Yp(o,5);let a=Jw(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=Jw(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function y9(t=1){return zN(t)}function gO(t,e,n){return cT(t,"",e,"",n),gO}function cT(t,e,n,r,i){let s=ge(),o=rT(s,e,n,r);if(o!==On){let a=Ze(),u=Zu();Gp(a,u,s,t,o,s[Oe],i,!1)}return cT}function mO(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function v9(t,e=""){let n=ge(),r=Ze(),i=t+Vt,s=r.firstCreatePass?Qo(r,i,1,e,null):r.data[i],o=yO(r,n,s,e,t);n[i]=o,Ju()&&il(r,n,o,s),ii(s,!1)}var yO=(t,e,n,r,i)=>(Xu(!0),kM(e[Oe],r));function vO(t){return uT("",t,""),vO}function uT(t,e,n){let r=ge(),i=rT(r,t,e,n);return i!==On&&Sx(r,gs(),i),uT}function _O(t,e,n){XD(e)&&(e=e());let r=ge(),i=Yu();if(mr(r,i,e)){let s=Ze(),o=Zu();Gp(s,o,r,t,e,r[Oe],n,!1)}return _O}function _9(t,e){let n=XD(t);return n&&t.set(e),n}function IO(t,e){let n=ge(),r=Ze(),i=mt();return aT(r,n,n[Oe],i,t,e),IO}function wO(t,e,n){let r=Ze();if(r.firstCreatePass){let i=fr(t);cp(n,r.data,r.blueprint,i,!0),cp(e,r.data,r.blueprint,i,!1)}}function cp(t,e,n,r,i){if(t=ht(t),Array.isArray(t))for(let s=0;s<t.length;s++)cp(t[s],e,n,r,i);else{let s=Ze(),o=ge(),a=mt(),u=rs(t)?t:ht(t.provide),l=AE(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(rs(t)||!t.multi){let v=new ti(l,i,yt),S=Cf(u,e,i?h:h+m,p);S===-1?(jf(Su(a,o),s,u),bf(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)):(n[S]=v,o[S]=v)}else{let v=Cf(u,e,h+m,p),S=Cf(u,e,h,h+m),M=v>=0&&n[v],R=S>=0&&n[S];if(i&&!R||!i&&!M){jf(Su(a,o),s,u);let k=TO(i?DO:EO,n.length,i,r,l);!i&&R&&(n[S].providerFactory=k),bf(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),o.push(k)}else{let k=lT(n[i?S:v],l,!i&&r);bf(s,t,v>-1?v:S,k)}!i&&r&&R&&n[S].componentProviders++}}}function bf(t,e,n,r){let i=rs(e),s=fN(e);if(i||s){let u=(s?ht(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function lT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Cf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function EO(t,e,n,r){return up(this.multi,[])}function DO(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=cs(n,n[ie],this.providerFactory.index,r);s=a.slice(0,o),up(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],up(i,s);return s}function up(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function TO(t,e,n,r,i){let s=new ti(t,n,yt);return s.multi=[],s.index=e,s.componentProviders=0,lT(s,i,r&&!n),s}function I9(t,e=[]){return n=>{n.providersResolver=(r,i)=>wO(r,i?i(t):t,e)}}var bO=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=bE(!1,n.type),i=r.length>0?ll([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(K(St))})}}return t})();function dT(t){vs("NgStandalone"),t.getStandaloneInjector=e=>e.get(bO).getOrCreateStandaloneInjector(t)}function w9(t,e,n){let r=Cp()+t,i=ge();return i[r]===On?Jp(i,r,n?e.call(n):e()):SP(i,r)}function hT(t,e){let n=t[e];return n===On?void 0:n}function CO(t,e,n,r,i,s){let o=e+n;return mr(t,o,i)?Jp(t,o+1,s?r.call(s,i):r(i)):hT(t,o+1)}function SO(t,e,n,r,i,s,o){let a=e+n;return AP(t,a,i,s)?Jp(t,a+2,o?r.call(o,i,s):r(i,s)):hT(t,a+2)}function E9(t,e){let n=Ze(),r,i=t+Vt;n.firstCreatePass?(r=AO(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Zr(r.type,!0)),o,a=wt(yt);try{let u=Cu(!1),l=s();return Cu(u),mO(n,ge(),i,l),l}finally{wt(a)}}function AO(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function D9(t,e,n){let r=t+Vt,i=ge(),s=VE(i,r);return fT(i,r)?CO(i,Cp(),e,s.transform,n,s):s.transform(n)}function T9(t,e,n,r){let i=t+Vt,s=ge(),o=VE(s,i);return fT(s,i)?SO(s,Cp(),e,o.transform,n,r,o):o.transform(n,r)}function fT(t,e){return t[ie].data[e].pure}var yr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},pT=new yr("18.2.6");var dl=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var gT=new U("");function _s(t){return!!t&&typeof t.then=="function"}function tg(t){return!!t&&typeof t.subscribe=="function"}var hl=new U(""),mT=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=O(hl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(_s(s))n.push(s);else if(tg(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),fl=new U("");function RO(){zI(()=>{throw new j(600,!1)})}function NO(t){return t.isBoundToModule}var MO=10;function xO(t,e,n){try{let r=n();return _s(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var si=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(gM),this.afterRenderManager=O(tT),this.zonelessEnabled=O(ul),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new dt,this.afterTick=new dt,this.componentTypes=[],this.components=[],this.isStable=O(ms).hasPendingTasks.pipe(ne(n=>!n)),this._injector=O(St)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Pu;if(!this._injector.get(mT).done){let m=!i&&wE(n),v=!1;throw new j(405,v)}let o;i?o=n:o=this._injector.get(ls).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=NO(o)?void 0:this._injector.get(gr),u=r||o.selector,l=o.create(it.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(gT,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),fu(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new j(101,!1);let n=he(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,he(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(ds,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<MO;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)PO(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ku(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;fu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(fl,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>fu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function fu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function PO(t,e,n,r){if(!n&&!Ku(t))return;GD(t,e,n&&!r?0:1)}var lp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},pl=(()=>{class t{compileModuleSync(n){return new rp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=EE(n),s=DD(i.declarations).reduce((o,a)=>{let u=hr(a);return u&&o.push(new hs(u)),o},[]);return new lp(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var OO=(()=>{class t{constructor(){this.zone=O(ve),this.changeDetectionScheduler=O(us),this.applicationRef=O(si)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),kO=new U("",{factory:()=>!1});function yT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ve(Te(F({},vT()),{scheduleInRootZone:n})),[{provide:ve,useFactory:t},{provide:ns,multi:!0,useFactory:()=>{let r=O(OO,{optional:!0});return()=>r.initialize()}},{provide:ns,multi:!0,useFactory:()=>{let r=O(LO);return()=>{r.initialize()}}},e===!0?{provide:YD,useValue:!0}:[],{provide:ZD,useValue:n??dD}]}function b9(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=yT({ngZoneFactory:()=>{let i=vT(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&vs("NgZone_CoalesceEvent"),new ve(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return ln([{provide:kO,useValue:!0},{provide:ul,useValue:!1},r])}function vT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var LO=(()=>{class t{constructor(){this.subscription=new Me,this.initialized=!1,this.zone=O(ve),this.pendingTasks=O(ms)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var FO=(()=>{class t{constructor(){this.appRef=O(si),this.taskService=O(ms),this.ngZone=O(ve),this.zonelessEnabled=O(ul),this.disableScheduling=O(YD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Me,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ru):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(ZD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof qf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?kw:hD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ru+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,kw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function VO(){return typeof $localize<"u"&&$localize.locale||Vu}var gl=new U("",{providedIn:"root",factory:()=>O(gl,te.Optional|te.SkipSelf)||VO()});var _T=new U("");function uu(t){return!!t.platformInjector}function UO(t){let e=uu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ve);return n.run(()=>{uu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Nn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),uu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(_T);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{fu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return xO(r,n,()=>{let s=e.get(mT);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(gl,Vu);if(hO(o||Vu),uu(t)){let a=e.get(si);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return jO(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function jO(t,e){let n=t.injector.get(si);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new j(-403,!1);e.push(t)}var pu=null;function BO(t=[],e){return it.create({name:e,providers:[{provide:Hu,useValue:"platform"},{provide:_T,useValue:new Set([()=>pu=null])},...t]})}function $O(t=[]){if(pu)return pu;let e=BO(t);return pu=e,RO(),HO(e),e}function HO(t){t.get(kp,null)?.forEach(n=>n())}var Is=(()=>{class t{static{this.__NG_ELEMENT_ID__=zO}}return t})();function zO(t){return qO(mt(),ge(),(t&16)===16)}function qO(t,e,n){if(qu(t)&&!n){let r=vr(t.index,e);return new ni(r,r)}else if(t.type&175){let r=e[cn];return new ni(r,e)}return null}var dp=class{constructor(){}supports(e){return eT(e)}create(e){return new hp(e)}},GO=(t,e)=>e,hp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||GO}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<eE(r,i,s)?n:r,a=eE(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let v=m<s.length?s[m]:s[m]=0,S=v+m;h<=S&&S<l&&(s[m]=v+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!eT(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,bP(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new fp(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Uu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Uu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},fp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},pp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Uu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new pp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function eE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function tE(){return new ng([new dp])}var ng=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:tE})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||tE()),deps:[[t,new yp,new st]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new j(901,!1)}}return t})();function IT(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=$O(r),s=[yT({}),{provide:us,useExisting:FO},...n||[]],o=new Lu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return UO({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var wT=new U("");function ET(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function C9(t,e){vs("NgSignals");let n=BI(t);return e?.equal&&(n[Sn].equal=e.equal),n}function rg(t){let e=he(null);try{return t()}finally{he(e)}}function DT(t){let e=hr(t);if(!e)return null;let n=new hs(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var RT=null;function ws(){return RT}function NT(t){RT??=t}var bl=class{};var _t=new U(""),fg=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>O(QO),providedIn:"platform"})}}return t})(),MT=new U(""),QO=(()=>{class t extends fg{constructor(){super(),this._doc=O(_t),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ws().getBaseHref(this._doc)}onPopState(n){let r=ws().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=ws().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function pg(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function TT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ln(t){return t&&t[0]!=="?"?"?"+t:t}var oi=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>O(gg),providedIn:"root"})}}return t})(),xT=new U(""),gg=(()=>{class t extends oi{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(_t).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return pg(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ln(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ln(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ln(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(K(fg),K(xT,8))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),PT=(()=>{class t extends oi{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=pg(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ln(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ln(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(K(fg),K(xT,8))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Es=(()=>{class t{constructor(n){this._subject=new ft,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=JO(TT(bT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ln(r))}normalize(n){return t.stripTrailingSlash(ZO(this._basePath,bT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ln(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ln(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Ln}static{this.joinWithSlash=pg}static{this.stripTrailingSlash=TT}static{this.\u0275fac=function(r){return new(r||t)(K(oi))}}static{this.\u0275prov=B({token:t,factory:()=>YO(),providedIn:"root"})}}return t})();function YO(){return new Es(K(oi))}function ZO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function bT(t){return t.replace(/\/index.html$/,"")}function JO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var vt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(vt||{}),Ee=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ee||{}),At=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(At||{}),_r={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function XO(t){return jt(t)[ke.LocaleId]}function ek(t,e,n){let r=jt(t),i=[r[ke.DayPeriodsFormat],r[ke.DayPeriodsStandalone]],s=Bt(i,e);return Bt(s,n)}function tk(t,e,n){let r=jt(t),i=[r[ke.DaysFormat],r[ke.DaysStandalone]],s=Bt(i,e);return Bt(s,n)}function nk(t,e,n){let r=jt(t),i=[r[ke.MonthsFormat],r[ke.MonthsStandalone]],s=Bt(i,e);return Bt(s,n)}function rk(t,e){let r=jt(t)[ke.Eras];return Bt(r,e)}function yl(t,e){let n=jt(t);return Bt(n[ke.DateFormat],e)}function vl(t,e){let n=jt(t);return Bt(n[ke.TimeFormat],e)}function _l(t,e){let r=jt(t)[ke.DateTimeFormat];return Bt(r,e)}function Al(t,e){let n=jt(t),r=n[ke.NumberSymbols][e];if(typeof r>"u"){if(e===_r.CurrencyDecimal)return n[ke.NumberSymbols][_r.Decimal];if(e===_r.CurrencyGroup)return n[ke.NumberSymbols][_r.Group]}return r}function OT(t){if(!t[ke.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ke.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ik(t){let e=jt(t);return OT(e),(e[ke.ExtraData][2]||[]).map(r=>typeof r=="string"?ig(r):[ig(r[0]),ig(r[1])])}function sk(t,e,n){let r=jt(t);OT(r);let i=[r[ke.ExtraData][0],r[ke.ExtraData][1]],s=Bt(i,e)||[];return Bt(s,n)||[]}function Bt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function ig(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var ok=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Il={},ak=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Fn=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Fn||{}),ye=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ye||{}),me=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(me||{});function ck(t,e,n,r){let i=yk(t);e=kn(n,e)||e;let o=[],a;for(;e;)if(a=ak.exec(e),a){o=o.concat(a.slice(1));let h=o.pop();if(!h)break;e=h}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=LT(r,u),i=mk(i,r,!0));let l="";return o.forEach(h=>{let p=pk(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Cl(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function kn(t,e){let n=XO(t);if(Il[n]??={},Il[n][e])return Il[n][e];let r="";switch(e){case"shortDate":r=yl(t,At.Short);break;case"mediumDate":r=yl(t,At.Medium);break;case"longDate":r=yl(t,At.Long);break;case"fullDate":r=yl(t,At.Full);break;case"shortTime":r=vl(t,At.Short);break;case"mediumTime":r=vl(t,At.Medium);break;case"longTime":r=vl(t,At.Long);break;case"fullTime":r=vl(t,At.Full);break;case"short":let i=kn(t,"shortTime"),s=kn(t,"shortDate");r=wl(_l(t,At.Short),[i,s]);break;case"medium":let o=kn(t,"mediumTime"),a=kn(t,"mediumDate");r=wl(_l(t,At.Medium),[o,a]);break;case"long":let u=kn(t,"longTime"),l=kn(t,"longDate");r=wl(_l(t,At.Long),[u,l]);break;case"full":let h=kn(t,"fullTime"),p=kn(t,"fullDate");r=wl(_l(t,At.Full),[h,p]);break}return r&&(Il[n][e]=r),r}function wl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Zt(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function uk(t,e){return Zt(t,3).substring(0,e)}function Ve(t,e,n=0,r=!1,i=!1){return function(s,o){let a=lk(t,s);if((n>0||a>-n)&&(a+=n),t===ye.Hours)a===0&&n===-12&&(a=12);else if(t===ye.FractionalSeconds)return uk(a,e);let u=Al(o,_r.MinusSign);return Zt(a,e,u,r,i)}}function lk(t,e){switch(t){case ye.FullYear:return e.getFullYear();case ye.Month:return e.getMonth();case ye.Date:return e.getDate();case ye.Hours:return e.getHours();case ye.Minutes:return e.getMinutes();case ye.Seconds:return e.getSeconds();case ye.FractionalSeconds:return e.getMilliseconds();case ye.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function be(t,e,n=vt.Format,r=!1){return function(i,s){return dk(i,s,t,e,n,r)}}function dk(t,e,n,r,i,s){switch(n){case me.Months:return nk(e,i,r)[t.getMonth()];case me.Days:return tk(e,i,r)[t.getDay()];case me.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let l=ik(e),h=sk(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[v,S]=m,M=o>=v.hours&&a>=v.minutes,R=o<S.hours||o===S.hours&&a<S.minutes;if(v.hours<S.hours){if(M&&R)return!0}else if(M||R)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return ek(e,i,r)[o<12?0:1];case me.Eras:return rk(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function El(t){return function(e,n,r){let i=-1*r,s=Al(n,_r.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Fn.Short:return(i>=0?"+":"")+Zt(o,2,s)+Zt(Math.abs(i%60),2,s);case Fn.ShortGMT:return"GMT"+(i>=0?"+":"")+Zt(o,1,s);case Fn.Long:return"GMT"+(i>=0?"+":"")+Zt(o,2,s)+":"+Zt(Math.abs(i%60),2,s);case Fn.Extended:return r===0?"Z":(i>=0?"+":"")+Zt(o,2,s)+":"+Zt(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var hk=0,Tl=4;function fk(t){let e=Cl(t,hk,1).getDay();return Cl(t,0,1+(e<=Tl?Tl:Tl+7)-e)}function kT(t){let e=t.getDay(),n=e===0?-3:Tl-e;return Cl(t.getFullYear(),t.getMonth(),t.getDate()+n)}function sg(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=kT(n),o=fk(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Zt(i,t,Al(r,_r.MinusSign))}}function Dl(t,e=!1){return function(n,r){let s=kT(n).getFullYear();return Zt(s,t,Al(r,_r.MinusSign),e)}}var og={};function pk(t){if(og[t])return og[t];let e;switch(t){case"G":case"GG":case"GGG":e=be(me.Eras,Ee.Abbreviated);break;case"GGGG":e=be(me.Eras,Ee.Wide);break;case"GGGGG":e=be(me.Eras,Ee.Narrow);break;case"y":e=Ve(ye.FullYear,1,0,!1,!0);break;case"yy":e=Ve(ye.FullYear,2,0,!0,!0);break;case"yyy":e=Ve(ye.FullYear,3,0,!1,!0);break;case"yyyy":e=Ve(ye.FullYear,4,0,!1,!0);break;case"Y":e=Dl(1);break;case"YY":e=Dl(2,!0);break;case"YYY":e=Dl(3);break;case"YYYY":e=Dl(4);break;case"M":case"L":e=Ve(ye.Month,1,1);break;case"MM":case"LL":e=Ve(ye.Month,2,1);break;case"MMM":e=be(me.Months,Ee.Abbreviated);break;case"MMMM":e=be(me.Months,Ee.Wide);break;case"MMMMM":e=be(me.Months,Ee.Narrow);break;case"LLL":e=be(me.Months,Ee.Abbreviated,vt.Standalone);break;case"LLLL":e=be(me.Months,Ee.Wide,vt.Standalone);break;case"LLLLL":e=be(me.Months,Ee.Narrow,vt.Standalone);break;case"w":e=sg(1);break;case"ww":e=sg(2);break;case"W":e=sg(1,!0);break;case"d":e=Ve(ye.Date,1);break;case"dd":e=Ve(ye.Date,2);break;case"c":case"cc":e=Ve(ye.Day,1);break;case"ccc":e=be(me.Days,Ee.Abbreviated,vt.Standalone);break;case"cccc":e=be(me.Days,Ee.Wide,vt.Standalone);break;case"ccccc":e=be(me.Days,Ee.Narrow,vt.Standalone);break;case"cccccc":e=be(me.Days,Ee.Short,vt.Standalone);break;case"E":case"EE":case"EEE":e=be(me.Days,Ee.Abbreviated);break;case"EEEE":e=be(me.Days,Ee.Wide);break;case"EEEEE":e=be(me.Days,Ee.Narrow);break;case"EEEEEE":e=be(me.Days,Ee.Short);break;case"a":case"aa":case"aaa":e=be(me.DayPeriods,Ee.Abbreviated);break;case"aaaa":e=be(me.DayPeriods,Ee.Wide);break;case"aaaaa":e=be(me.DayPeriods,Ee.Narrow);break;case"b":case"bb":case"bbb":e=be(me.DayPeriods,Ee.Abbreviated,vt.Standalone,!0);break;case"bbbb":e=be(me.DayPeriods,Ee.Wide,vt.Standalone,!0);break;case"bbbbb":e=be(me.DayPeriods,Ee.Narrow,vt.Standalone,!0);break;case"B":case"BB":case"BBB":e=be(me.DayPeriods,Ee.Abbreviated,vt.Format,!0);break;case"BBBB":e=be(me.DayPeriods,Ee.Wide,vt.Format,!0);break;case"BBBBB":e=be(me.DayPeriods,Ee.Narrow,vt.Format,!0);break;case"h":e=Ve(ye.Hours,1,-12);break;case"hh":e=Ve(ye.Hours,2,-12);break;case"H":e=Ve(ye.Hours,1);break;case"HH":e=Ve(ye.Hours,2);break;case"m":e=Ve(ye.Minutes,1);break;case"mm":e=Ve(ye.Minutes,2);break;case"s":e=Ve(ye.Seconds,1);break;case"ss":e=Ve(ye.Seconds,2);break;case"S":e=Ve(ye.FractionalSeconds,1);break;case"SS":e=Ve(ye.FractionalSeconds,2);break;case"SSS":e=Ve(ye.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=El(Fn.Short);break;case"ZZZZZ":e=El(Fn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=El(Fn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=El(Fn.Long);break;default:return null}return og[t]=e,e}function LT(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function gk(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function mk(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=LT(e,i);return gk(t,r*(s-i))}function yk(t){if(CT(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return Cl(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(ok))return vk(r)}let e=new Date(t);if(!CT(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function vk(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,u,l),e}function CT(t){return t instanceof Date&&!isNaN(t.valueOf())}function FT(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var ag=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Y9=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new ag(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),ST(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);ST(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(yt(ys),yt(cl),yt(ng))}}static{this.\u0275dir=Ko({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function ST(t,e){t.context.$implicit=e.item}var Z9=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new cg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){AT("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){AT("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(yt(ys),yt(cl))}}static{this.\u0275dir=Ko({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),cg=class{constructor(){this.$implicit=null,this.ngIf=null}};function AT(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${pt(e)}'.`)}function VT(t,e){return new j(2100,!1)}var ug=class{createSubscription(e,n){return rg(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){rg(()=>e.unsubscribe())}},lg=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},_k=new lg,Ik=new ug,J9=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(_s(n))return _k;if(tg(n))return Ik;throw VT(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||t)(yt(Is,16))}}static{this.\u0275pipe=Ip({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var wk="mediumDate",Ek=new U(""),Dk=new U(""),X9=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(n==null||n===""||n!==n)return null;try{let o=r??this.defaultOptions?.dateFormat??wk,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return ck(n,o,s||this.locale,a)}catch(o){throw VT(t,o.message)}}static{this.\u0275fac=function(r){return new(r||t)(yt(gl,16),yt(Ek,24),yt(Dk,24))}}static{this.\u0275pipe=Ip({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var Tk=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Wo({type:t})}static{this.\u0275inj=qo({})}}return t})(),mg="browser",bk="server";function Ck(t){return t===mg}function yg(t){return t===bk}var UT=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>Ck(O(hn))?new dg(O(_t),window):new hg})}}return t})(),dg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=Sk(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function Sk(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var hg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Sl=class{};var Ig=class extends bl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},wg=class t extends Ig{static makeCurrent(){NT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Ak();return n==null?null:Rk(n)}resetBaseElement(){Yo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return FT(document.cookie,e)}},Yo=null;function Ak(){return Yo=Yo||document.querySelector("base"),Yo?Yo.getAttribute("href"):null}function Rk(t){return new URL(t,document.baseURI).pathname}var Nk=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Rl=new U(""),HT=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(K(Rl),K(ve))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Zo=class{constructor(e){this._doc=e}},vg="ng-app-id",zT=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yg(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${vg}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(vg),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(vg,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(K(_t),K(Op),K(Lp,8),K(hn))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),_g={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Dg=/%COMP%/g,qT="%COMP%",Mk=`_nghost-${qT}`,xk=`_ngcontent-${qT}`,Pk=!0,Ok=new U("",{providedIn:"root",factory:()=>Pk});function kk(t){return xk.replace(Dg,t)}function Lk(t){return Mk.replace(Dg,t)}function GT(t,e){return e.map(n=>n.replace(Dg,t))}var jT=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=yg(a),this.defaultRenderer=new Jo(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===on.ShadowDom&&(r=Te(F({},r),{encapsulation:on.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Nl?i.applyToHost(n):i instanceof Xo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case on.Emulated:s=new Nl(u,l,r,this.appId,h,o,a,p);break;case on.ShadowDom:return new Eg(u,l,n,r,o,a,this.nonce,p);default:s=new Xo(u,l,r,h,o,a,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(K(HT),K(zT),K(Op),K(Ok),K(_t),K(hn),K(ve),K(Lp))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Jo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(_g[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(BT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(BT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=_g[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=_g[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Mn.DashCase|Mn.Important)?e.style.setProperty(n,r,i&Mn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Mn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ws().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function BT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Eg=class extends Jo{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=GT(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Xo=class extends Jo{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?GT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Nl=class extends Xo{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=kk(l),this.hostAttr=Lk(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Fk=(()=>{class t extends Zo{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(K(_t))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Vk=(()=>{class t extends Zo{constructor(n){super(n),this.delegate=O(wT,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,r,i){return this.delegate.addEventListener(n,r,i)}removeEventListener(n,r,i){return this.delegate.removeEventListener(n,r,i)}static{this.\u0275fac=function(r){return new(r||t)(K(_t))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),$T=["alt","control","meta","shift"],Uk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Bk=(()=>{class t extends Zo{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ws().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),$T.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=Uk[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),$T.forEach(o=>{if(o!==i){let a=jk[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(K(_t))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function bW(t,e){return IT(F({rootComponent:t},$k(e)))}function $k(t){return{appProviders:[...Wk,...t?.providers??[]],platformProviders:Gk}}function Hk(){wg.makeCurrent()}function zk(){return new Nn}function qk(){return _D(document),document}var Gk=[{provide:hn,useValue:mg},{provide:kp,useValue:Hk,multi:!0},{provide:_t,useFactory:qk,deps:[]}];var Wk=[{provide:Hu,useValue:"root"},{provide:Nn,useFactory:zk,deps:[]},{provide:Rl,useClass:Fk,multi:!0,deps:[_t,ve,hn]},{provide:Rl,useClass:Bk,multi:!0,deps:[_t]},{provide:Rl,useClass:Vk,multi:!0},jT,zT,HT,{provide:ds,useExisting:jT},{provide:Sl,useClass:Nk,deps:[]},[]];var WT=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(K(_t))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ee="primary",ga=Symbol("RouteTitle"),Ag=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function As(t){return new Ag(t)}function Qk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Yk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!fn(t[n],e[n]))return!1;return!0}function fn(t,e){let n=t?Rg(t):void 0,r=e?Rg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!ib(t[i],e[i]))return!1;return!0}function Rg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ib(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function sb(t){return t.length>0?t[t.length-1]:null}function Er(t){return uf(t)?t:_s(t)?xe(Promise.resolve(t)):W(t)}var Zk={exact:ab,subset:cb},ob={exact:Jk,subset:Xk,ignored:()=>!0};function KT(t,e,n){return Zk[n.paths](t.root,e.root,n.matrixParams)&&ob[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Jk(t,e){return fn(t,e)}function ab(t,e,n){if(!ci(t.segments,e.segments)||!Pl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!ab(t.children[r],e.children[r],n))return!1;return!0}function Xk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ib(t[n],e[n]))}function cb(t,e,n){return ub(t,e,e.segments,n)}function ub(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ci(i,n)||e.hasChildren()||!Pl(i,n,r))}else if(t.segments.length===n.length){if(!ci(t.segments,n)||!Pl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!cb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ci(t.segments,i)||!Pl(t.segments,i,r)||!t.children[ee]?!1:ub(t.children[ee],e,s,r)}}function Pl(t,e,n){return e.every((r,i)=>ob[n](t[i].parameters,r.parameters))}var Un=class{constructor(e=new _e([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=As(this.queryParams),this._queryParamMap}toString(){return n1.serialize(this)}},_e=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ol(this)}},ai=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=As(this.parameters),this._parameterMap}toString(){return db(this)}};function e1(t,e){return ci(t,e)&&t.every((n,r)=>fn(n.parameters,e[r].parameters))}function ci(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function t1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ee&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ee&&(n=n.concat(e(i,r)))}),n}var ma=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>new Rs,providedIn:"root"})}}return t})(),Rs=class{parse(e){let n=new Mg(e);return new Un(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ea(e.root,!0)}`,r=s1(e.queryParams),i=typeof e.fragment=="string"?`#${r1(e.fragment)}`:"";return`${n}${r}${i}`}},n1=new Rs;function Ol(t){return t.segments.map(e=>db(e)).join("/")}function ea(t,e){if(!t.hasChildren())return Ol(t);if(e){let n=t.children[ee]?ea(t.children[ee],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ee&&r.push(`${i}:${ea(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=t1(t,(r,i)=>i===ee?[ea(t.children[ee],!1)]:[`${i}:${ea(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ee]!=null?`${Ol(t)}/${n[0]}`:`${Ol(t)}/(${n.join("//")})`}}function lb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ml(t){return lb(t).replace(/%3B/gi,";")}function r1(t){return encodeURI(t)}function Ng(t){return lb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kl(t){return decodeURIComponent(t)}function QT(t){return kl(t.replace(/\+/g,"%20"))}function db(t){return`${Ng(t.path)}${i1(t.parameters)}`}function i1(t){return Object.entries(t).map(([e,n])=>`;${Ng(e)}=${Ng(n)}`).join("")}function s1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ml(n)}=${Ml(i)}`).join("&"):`${Ml(n)}=${Ml(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var o1=/^[^\/()?;#]+/;function Tg(t){let e=t.match(o1);return e?e[0]:""}var a1=/^[^\/()?;=#]+/;function c1(t){let e=t.match(a1);return e?e[0]:""}var u1=/^[^=?&#]+/;function l1(t){let e=t.match(u1);return e?e[0]:""}var d1=/^[^&#]+/;function h1(t){let e=t.match(d1);return e?e[0]:""}var Mg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ee]=new _e(e,n)),r}parseSegment(){let e=Tg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new ai(kl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=c1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Tg(this.remaining);i&&(r=i,this.capture(r))}e[kl(n)]=kl(r)}parseQueryParam(e){let n=l1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=h1(this.remaining);o&&(r=o,this.capture(r))}let i=QT(n),s=QT(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Tg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ee);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ee]:new _e([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function hb(t){return t.segments.length>0?new _e([],{[ee]:t}):t}function fb(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=fb(i);if(r===ee&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new _e(t.segments,e);return f1(n)}function f1(t){if(t.numberOfChildren===1&&t.children[ee]){let e=t.children[ee];return new _e(t.segments.concat(e.segments),e.children)}return t}function oa(t){return t instanceof Un}function p1(t,e,n=null,r=null){let i=pb(t);return gb(i,e,n,r)}function pb(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new _e(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=hb(r);return e??i}function gb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return bg(i,i,i,n,r);let s=g1(e);if(s.toRoot())return bg(i,i,new _e([],{}),n,r);let o=m1(s,i,t),a=o.processChildren?ra(o.segmentGroup,o.index,s.commands):yb(o.segmentGroup,o.index,s.commands);return bg(i,o.segmentGroup,a,n,r)}function Ll(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function aa(t){return typeof t=="object"&&t!=null&&t.outlets}function bg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=mb(t,e,n);let a=hb(fb(o));return new Un(a,s,i)}function mb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=mb(s,e,n)}),new _e(t.segments,r)}var Fl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ll(r[0]))throw new j(4003,!1);let i=r.find(aa);if(i&&i!==sb(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function g1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Fl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Fl(n,e,r)}var bs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function m1(t,e,n){if(t.isAbsolute)return new bs(e,!0,0);if(!n)return new bs(e,!1,NaN);if(n.parent===null)return new bs(n,!0,0);let r=Ll(t.commands[0])?0:1,i=n.segments.length-1+r;return y1(n,i,t.numberOfDoubleDots)}function y1(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new bs(r,!1,i-s)}function v1(t){return aa(t[0])?t[0].outlets:{[ee]:t}}function yb(t,e,n){if(t??=new _e([],{}),t.segments.length===0&&t.hasChildren())return ra(t,e,n);let r=_1(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new _e(t.segments.slice(0,r.pathIndex),{});return s.children[ee]=new _e(t.segments.slice(r.pathIndex),t.children),ra(s,0,i)}else return r.match&&i.length===0?new _e(t.segments,{}):r.match&&!t.hasChildren()?xg(t,e,n):r.match?ra(t,0,i):xg(t,e,n)}function ra(t,e,n){if(n.length===0)return new _e(t.segments,{});{let r=v1(n),i={};if(Object.keys(r).some(s=>s!==ee)&&t.children[ee]&&t.numberOfChildren===1&&t.children[ee].segments.length===0){let s=ra(t.children[ee],e,n);return new _e(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=yb(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new _e(t.segments,i)}}function _1(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(aa(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!ZT(u,l,o))return s;r+=2}else{if(!ZT(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function xg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(aa(s)){let u=I1(s.outlets);return new _e(r,u)}if(i===0&&Ll(n[0])){let u=t.segments[e];r.push(new ai(u.path,YT(n[0]))),i++;continue}let o=aa(s)?s.outlets[ee]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ll(a)?(r.push(new ai(o,YT(a))),i+=2):(r.push(new ai(o,{})),i++)}return new _e(r,{})}function I1(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=xg(new _e([],{}),0,r))}),e}function YT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ZT(t,e,n){return t==n.path&&fn(e,n.parameters)}var ia="imperative",Ge=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ge||{}),$t=class{constructor(e,n){this.id=e,this.url=n}},Ns=class extends $t{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ge.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},jn=class extends $t{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ge.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Nt||{}),Vl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Vl||{}),Vn=class extends $t{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ge.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ir=class extends $t{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ge.NavigationSkipped}},ca=class extends $t{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ge.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ul=class extends $t{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ge.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pg=class extends $t{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ge.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Og=class extends $t{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ge.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},kg=class extends $t{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ge.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lg=class extends $t{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ge.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fg=class{constructor(e){this.route=e,this.type=Ge.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Vg=class{constructor(e){this.route=e,this.type=Ge.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ug=class{constructor(e){this.snapshot=e,this.type=Ge.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jg=class{constructor(e){this.snapshot=e,this.type=Ge.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bg=class{constructor(e){this.snapshot=e,this.type=Ge.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$g=class{constructor(e){this.snapshot=e,this.type=Ge.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jl=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ge.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ua=class{},Ms=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function w1(t,e){return t.providers&&!t._injector&&(t._injector=ll(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Jt(t){return t.outlet||ee}function E1(t,e){let n=t.filter(r=>Jt(r)===e);return n.push(...t.filter(r=>Jt(r)!==e)),n}function ya(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Hg=class{get injector(){return ya(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new va(this.rootInjector),this.attachRef=null}},va=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Hg(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(K(St))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Bl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=zg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=zg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=qg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qg(e,this._root).map(n=>n.value)}};function zg(t,e){if(t===e.value)return e;for(let n of e.children){let r=zg(t,n);if(r)return r}return null}function qg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=qg(t,n);if(r.length)return r.unshift(e),r}return[]}var Rt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ts(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var $l=class extends Bl{constructor(e,n){super(e),this.snapshot=n,em(this,e)}toString(){return this.snapshot.toString()}};function vb(t){let e=D1(t),n=new Ye([new ai("",{})]),r=new Ye({}),i=new Ye({}),s=new Ye({}),o=new Ye(""),a=new ui(n,r,s,o,i,ee,t,e.root);return a.snapshot=e.root,new $l(new Rt(a,[]),e)}function D1(t){let e={},n={},r={},i="",s=new Cs([],e,r,i,n,ee,t,null,{});return new zl("",new Rt(s,[]))}var ui=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ne(l=>l[ga]))??W(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>As(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>As(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Hl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&Ib(i)&&(r.resolve[ga]=i.title),r}var Cs=class{get title(){return this.data?.[ga]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=As(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=As(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},zl=class extends Bl{constructor(e,n){super(n),this.url=e,em(this,n)}toString(){return _b(this._root)}};function em(t,e){e.value._routerState=t,e.children.forEach(n=>em(t,n))}function _b(t){let e=t.children.length>0?` { ${t.children.map(_b).join(", ")} } `:"";return`${t.value}${e}`}function Cg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,fn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),fn(e.params,n.params)||t.paramsSubject.next(n.params),Yk(e.url,n.url)||t.urlSubject.next(n.url),fn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Gg(t,e){let n=fn(t.params,e.params)&&e1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Gg(t.parent,e.parent))}function Ib(t){return typeof t.title=="string"||t.title===null}var T1=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new ft,this.deactivateEvents=new ft,this.attachEvents=new ft,this.detachEvents=new ft,this.parentContexts=O(va),this.location=O(ys),this.changeDetector=O(Is),this.inputBinder=O(Kl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Wg(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ko({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Wu]})}}return t})(),Wg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ui?this.route:e===va?this.childContexts:this.parent.get(e,n)}},Kl=new U(""),JT=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Po([r.queryParams,r.params,r.data]).pipe(Ot(([s,o,a],u)=>(a=F(F(F({},s),o),a),u===0?W(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=DT(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function b1(t,e,n){let r=la(t,e._root,n?n._root:void 0);return new $l(r,e)}function la(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=C1(t,e,n);return new Rt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>la(t,a)),o}}let r=S1(e.value),i=e.children.map(s=>la(t,s));return new Rt(r,i)}}function C1(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return la(t,r,i);return la(t,r)})}function S1(t){return new ui(new Ye(t.url),new Ye(t.params),new Ye(t.queryParams),new Ye(t.fragment),new Ye(t.data),t.outlet,t.component,t)}var da=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},wb="ngNavigationCancelingError";function ql(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=oa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Eb(!1,Nt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Eb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[wb]=!0,n.cancellationCode=e,n}function A1(t){return Db(t)&&oa(t.url)}function Db(t){return!!t&&t[wb]}var R1=(t,e,n,r)=>ne(i=>(new Kg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Kg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Cg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ts(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ts(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ts(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ts(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new $g(s.value.snapshot))}),e.children.length&&this.forwardEvent(new jg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Cg(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Cg(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Gl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ss=class{constructor(e,n){this.component=e,this.route=n}};function N1(t,e,n){let r=t._root,i=e?e._root:null;return ta(r,i,n,[r.value])}function M1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ps(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!oE(t)?t:e.get(t):r}function ta(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ts(e);return t.children.forEach(o=>{x1(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>sa(a,n.getContext(o),i)),i}function x1(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=P1(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Gl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ta(t,e,a?a.children:null,r,i):ta(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ss(a.outlet.component,o))}else o&&sa(e,a,i),i.canActivateChecks.push(new Gl(r)),s.component?ta(t,null,a?a.children:null,r,i):ta(t,null,n,r,i);return i}function P1(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ci(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ci(t.url,e.url)||!fn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gg(t,e)||!fn(t.queryParams,e.queryParams);case"paramsChange":default:return!Gg(t,e)}}function sa(t,e,n){let r=Ts(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?sa(o,e.children.getContext(s),n):sa(o,null,n):sa(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ss(e.outlet.component,i)):n.canDeactivateChecks.push(new Ss(null,i)):n.canDeactivateChecks.push(new Ss(null,i))}function _a(t){return typeof t=="function"}function O1(t){return typeof t=="boolean"}function k1(t){return t&&_a(t.canLoad)}function L1(t){return t&&_a(t.canActivate)}function F1(t){return t&&_a(t.canActivateChild)}function V1(t){return t&&_a(t.canDeactivate)}function U1(t){return t&&_a(t.canMatch)}function Tb(t){return t instanceof An||t?.name==="EmptyError"}var xl=Symbol("INITIAL_VALUE");function xs(){return Ot(t=>Po(t.map(e=>e.pipe(Rn(1),su(xl)))).pipe(ne(e=>{for(let n of e)if(n!==!0){if(n===xl)return xl;if(n===!1||j1(n))return n}return!0}),Ct(e=>e!==xl),Rn(1)))}function j1(t){return oa(t)||t instanceof da}function B1(t,e){return Fe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?W(Te(F({},n),{guardsResult:!0})):$1(o,r,i,t).pipe(Fe(a=>a&&O1(a)?H1(r,s,t,e):W(a)),ne(a=>Te(F({},n),{guardsResult:a})))})}function $1(t,e,n,r){return xe(t).pipe(Fe(i=>K1(i.component,i.route,n,e,r)),nn(i=>i!==!0,!0))}function H1(t,e,n,r){return xe(e).pipe(Kr(i=>Wi(q1(i.route.parent,r),z1(i.route,r),W1(t,i.path,n),G1(t,i.route,n))),nn(i=>i!==!0,!0))}function z1(t,e){return t!==null&&e&&e(new Bg(t)),W(!0)}function q1(t,e){return t!==null&&e&&e(new Ug(t)),W(!0)}function G1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(s=>nu(()=>{let o=ya(e)??n,a=Ps(s,o),u=L1(a)?a.canActivate(e,t):dn(o,()=>a(e,t));return Er(u).pipe(nn())}));return W(i).pipe(xs())}function W1(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>M1(o)).filter(o=>o!==null).map(o=>nu(()=>{let a=o.guards.map(u=>{let l=ya(o.node)??n,h=Ps(u,l),p=F1(h)?h.canActivateChild(r,t):dn(l,()=>h(r,t));return Er(p).pipe(nn())});return W(a).pipe(xs())}));return W(s).pipe(xs())}function K1(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return W(!0);let o=s.map(a=>{let u=ya(e)??i,l=Ps(a,u),h=V1(l)?l.canDeactivate(t,e,n,r):dn(u,()=>l(t,e,n,r));return Er(h).pipe(nn())});return W(o).pipe(xs())}function Q1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let s=i.map(o=>{let a=Ps(o,t),u=k1(a)?a.canLoad(e,n):dn(t,()=>a(e,n));return Er(u)});return W(s).pipe(xs(),bb(r))}function bb(t){return Fc(He(e=>{if(typeof e!="boolean")throw ql(t,e)}),ne(e=>e===!0))}function Y1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let s=i.map(o=>{let a=Ps(o,t),u=U1(a)?a.canMatch(e,n):dn(t,()=>a(e,n));return Er(u)});return W(s).pipe(xs(),bb(r))}var ha=class{constructor(e){this.segmentGroup=e||null}},fa=class extends Error{constructor(e){super(),this.urlTree=e}};function Ds(t){return qi(new ha(t))}function Z1(t){return qi(new j(4e3,!1))}function J1(t){return qi(Eb(!1,Nt.GuardRejected))}var Qg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[ee])return Z1(`${e.redirectTo}`);i=i.children[ee]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:v,data:S,title:M}=i,R=dn(s,()=>a({params:v,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:M}));if(R instanceof Un)throw new fa(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new fa(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Un(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new _e(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Yg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function X1(t,e,n,r,i){let s=Cb(t,e,n);return s.matched?(r=w1(e,r),Y1(r,e,n,i).pipe(ne(o=>o===!0?s:F({},Yg)))):W(s)}function Cb(t,e,n){if(e.path==="**")return eL(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},Yg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Qk)(n,t,e);if(!i)return F({},Yg);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?F(F({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function eL(t){return{matched:!0,parameters:t.length>0?sb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function XT(t,e,n,r){return n.length>0&&rL(t,n,r)?{segmentGroup:new _e(e,nL(r,new _e(n,t.children))),slicedSegments:[]}:n.length===0&&iL(t,n,r)?{segmentGroup:new _e(t.segments,tL(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new _e(t.segments,t.children),slicedSegments:n}}function tL(t,e,n,r){let i={};for(let s of n)if(Ql(t,e,s)&&!r[Jt(s)]){let o=new _e([],{});i[Jt(s)]=o}return F(F({},r),i)}function nL(t,e){let n={};n[ee]=e;for(let r of t)if(r.path===""&&Jt(r)!==ee){let i=new _e([],{});n[Jt(r)]=i}return n}function rL(t,e,n){return n.some(r=>Ql(t,e,r)&&Jt(r)!==ee)}function iL(t,e,n){return n.some(r=>Ql(t,e,r))}function Ql(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function sL(t,e,n){return e.length===0&&!t.children[n]}var Zg=class{};function oL(t,e,n,r,i,s,o="emptyOnly"){return new Jg(t,e,n,r,i,o,s).recognize()}var aL=31,Jg=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Qg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=XT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:n,rootSnapshot:r})=>{let i=new Rt(r,n),s=new zl("",i),o=p1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Cs([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ee,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ee,n).pipe(ne(r=>({children:r,rootSnapshot:n})),or(r=>{if(r instanceof fa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ha?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ne(o=>o instanceof Rt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return xe(s).pipe(Kr(o=>{let a=r.children[o],u=E1(n,o);return this.processSegmentGroup(e,u,a,o,i)}),iu((o,a)=>(o.push(...a),o)),ar(null),df(),Fe(o=>{if(o===null)return Ds(r);let a=Sb(o);return cL(a),W(a)}))}processSegment(e,n,r,i,s,o,a){return xe(n).pipe(Kr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(or(l=>{if(l instanceof ha)return W(null);throw l}))),nn(u=>!!u),or(u=>{if(Tb(u))return sL(r,i,s)?W(new Zg):Ds(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return Jt(r)!==o&&(o===ee||!Ql(i,s,r))?Ds(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Ds(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=Cb(n,i,s);if(!u)return Ds(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>aL&&(this.allowRedirects=!1));let v=new Cs(s,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,eb(i),Jt(i),i.component??i._loadedComponent??null,i,tb(i)),S=Hl(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Fe(R=>this.processSegment(e,r,n,R.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=X1(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ot(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ot(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,S=new Cs(m,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,eb(r),Jt(r),r.component??r._loadedComponent??null,r,tb(r)),M=Hl(S,o,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:k}=XT(n,m,v,l);if(k.length===0&&R.hasChildren())return this.processChildren(h,l,R,S).pipe(ne(z=>new Rt(S,z)));if(l.length===0&&k.length===0)return W(new Rt(S,[]));let H=Jt(r)===s;return this.processSegment(h,l,R,k,H?ee:s,!0,S).pipe(ne(z=>new Rt(S,z instanceof Rt?[z]:[])))}))):Ds(n)))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?W({routes:n._loadedRoutes,injector:n._loadedInjector}):Q1(e,n,r,this.urlSerializer).pipe(Fe(i=>i?this.configLoader.loadChildren(e,n).pipe(He(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):J1(n))):W({routes:[],injector:e})}};function cL(t){t.sort((e,n)=>e.value.outlet===ee?-1:n.value.outlet===ee?1:e.value.outlet.localeCompare(n.value.outlet))}function uL(t){let e=t.value.routeConfig;return e&&e.path===""}function Sb(t){let e=[],n=new Set;for(let r of t){if(!uL(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Sb(r.children);e.push(new Rt(r.value,i))}return e.filter(r=>!n.has(r))}function eb(t){return t.data||{}}function tb(t){return t.resolve||{}}function lL(t,e,n,r,i,s){return Fe(o=>oL(t,e,n,r,o.extractedUrl,i,s).pipe(ne(({state:a,tree:u})=>Te(F({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function dL(t,e){return Fe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of Ab(u))o.add(l);let a=0;return xe(o).pipe(Kr(u=>s.has(u)?hL(u,r,t,e):(u.data=Hl(u,u.parent,t).resolve,W(void 0))),He(()=>a++),Ki(1),Fe(u=>a===o.size?W(n):bt))})}function Ab(t){let e=t.children.map(n=>Ab(n)).flat();return[t,...e]}function hL(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Ib(i)&&(s[ga]=i.title),fL(s,t,e,r).pipe(ne(o=>(t._resolvedData=o,t.data=Hl(t,t.parent,n).resolve,null)))}function fL(t,e,n,r){let i=Rg(t);if(i.length===0)return W({});let s={};return xe(i).pipe(Fe(o=>pL(t[o],e,n,r).pipe(nn(),He(a=>{if(a instanceof da)throw ql(new Rs,a);s[o]=a}))),Ki(1),lf(s),or(o=>Tb(o)?bt:qi(o)))}function pL(t,e,n,r){let i=ya(e)??r,s=Ps(t,i),o=s.resolve?s.resolve(e,n):dn(i,()=>s(e,n));return Er(o)}function Sg(t){return Ot(e=>{let n=t(e);return n?xe(n).pipe(ne(()=>e)):W(e)})}var Rb=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ee);return r}getResolvedTitleForRoute(n){return n.data[ga]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>O(gL),providedIn:"root"})}}return t})(),gL=(()=>{class t extends Rb{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(K(WT))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ia=new U("",{providedIn:"root",factory:()=>({})}),mL=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=vE({type:t,selectors:[["ng-component"]],standalone:!0,features:[dT],decls:1,vars:0,template:function(r,i){r&1&&eg(0,"router-outlet")},dependencies:[T1],encapsulation:2})}}return t})();function tm(t){let e=t.children&&t.children.map(tm),n=e?Te(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ee&&(n.component=mL),n}var pa=new U(""),nm=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(pl)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return W(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Er(n.loadComponent()).pipe(ne(Nb),He(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Oo(()=>{this.componentLoaders.delete(n)})),i=new Bi(r,()=>new dt).pipe(ji());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=yL(r,this.compiler,n,this.onLoadEndListener).pipe(Oo(()=>{this.childrenLoaders.delete(r)})),o=new Bi(s,()=>new dt).pipe(ji());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function yL(t,e,n,r){return Er(t.loadChildren()).pipe(ne(Nb),Fe(i=>i instanceof $o||Array.isArray(i)?W(i):xe(e.compileModuleAsync(i))),ne(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(pa,[],{optional:!0,self:!0}).flat()),{routes:o.map(tm),injector:s}}))}function vL(t){return t&&typeof t=="object"&&"default"in t}function Nb(t){return vL(t)?t.default:t}var rm=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>O(_L),providedIn:"root"})}}return t})(),_L=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Mb=new U(""),xb=new U("");function IL(t,e,n){let r=t.get(xb),i=t.get(_t);return t.get(ve).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),wL(t))),{onViewTransitionCreated:u}=r;return u&&dn(t,()=>u({transition:a,from:e,to:n})),o})}function wL(t){return new Promise(e=>{Xp({read:()=>setTimeout(e)},{injector:t})})}var EL=new U(""),im=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new dt,this.transitionAbortSubject=new dt,this.configLoader=O(nm),this.environmentInjector=O(St),this.urlSerializer=O(ma),this.rootContexts=O(va),this.location=O(Es),this.inputBindingEnabled=O(Kl,{optional:!0})!==null,this.titleStrategy=O(Rb),this.options=O(Ia,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(rm),this.createViewTransition=O(Mb,{optional:!0}),this.navigationErrorHandler=O(EL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Fg(i)),r=i=>this.events.next(new Vg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Te(F(F({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Ye({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ia,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ct(s=>s.id!==0),ne(s=>Te(F({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ot(s=>{let o=!1,a=!1;return W(s).pipe(Ot(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Nt.SupersededByNewNavigation),bt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Te(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Ir(u.id,this.urlSerializer.serialize(u.rawUrl),p,Vl.IgnoredSameUrlNavigation)),u.resolve(!1),bt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return W(u).pipe(Ot(p=>{let m=this.transitions?.getValue();return this.events.next(new Ns(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?bt:Promise.resolve(p)}),lL(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),He(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Te(F({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new Ul(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:v,restoredState:S,extras:M}=u,R=new Ns(p,this.urlSerializer.serialize(m),v,S);this.events.next(R);let k=vb(this.rootComponentType).snapshot;return this.currentTransition=s=Te(F({},u),{targetSnapshot:k,urlAfterRedirects:m,extras:Te(F({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,W(s)}else{let p="";return this.events.next(new Ir(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Vl.IgnoredByUrlHandlingStrategy)),u.resolve(!1),bt}}),He(u=>{let l=new Pg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ne(u=>(this.currentTransition=s=Te(F({},u),{guards:N1(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),B1(this.environmentInjector,u=>this.events.next(u)),He(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw ql(this.urlSerializer,u.guardsResult);let l=new Og(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Ct(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Nt.GuardRejected),!1)),Sg(u=>{if(u.guards.canActivateChecks.length)return W(u).pipe(He(l=>{let h=new kg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Ot(l=>{let h=!1;return W(l).pipe(dL(this.paramsInheritanceStrategy,this.environmentInjector),He({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Nt.NoDataFromResolver)}}))}),He(l=>{let h=new Lg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),Sg(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(He(m=>{h.component=m}),ne(()=>{})));for(let m of h.children)p.push(...l(m));return p};return Po(l(u.targetSnapshot.root)).pipe(ar(null),Rn(1))}),Sg(()=>this.afterPreactivation()),Ot(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?xe(h).pipe(ne(()=>s)):W(s)}),ne(u=>{let l=b1(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=Te(F({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),He(()=>{this.events.next(new ua)}),R1(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Rn(1),He({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new jn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),hf(this.transitionAbortSubject.pipe(He(u=>{throw u}))),Oo(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Nt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),or(u=>{if(a=!0,Db(u))this.events.next(new Vn(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),A1(u)?this.events.next(new Ms(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new ca(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let h=dn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof da){let{message:p,cancellationCode:m}=ql(this.urlSerializer,h);this.events.next(new Vn(s.id,this.urlSerializer.serialize(s.extractedUrl),p,m)),this.events.next(new Ms(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);s.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return bt}))}))}cancelNavigationTransition(n,r,i){let s=new Vn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function DL(t){return t!==ia}var TL=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>O(bL),providedIn:"root"})}}return t})(),Xg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},bL=(()=>{class t extends Xg{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Np(t)))(i||t)}})()}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Pb=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>O(CL),providedIn:"root"})}}return t})(),CL=(()=>{class t extends Pb{constructor(){super(...arguments),this.location=O(Es),this.urlSerializer=O(ma),this.options=O(Ia,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(rm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Un,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=vb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Ns)this.stateMemento=this.createStateMemento();else if(n instanceof Ir)this.rawUrlTree=r.initialUrl;else if(n instanceof Ul){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof ua?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Vn&&(n.code===Nt.GuardRejected||n.code===Nt.NoDataFromResolver)?this.restoreHistory(r):n instanceof ca?this.restoreHistory(r,!0):n instanceof jn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Un?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=F(F({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=F(F({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Np(t)))(i||t)}})()}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),na=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(na||{});function Ob(t,e){t.events.pipe(Ct(n=>n instanceof jn||n instanceof Vn||n instanceof ca||n instanceof Ir),ne(n=>n instanceof jn||n instanceof Ir?na.COMPLETE:(n instanceof Vn?n.code===Nt.Redirect||n.code===Nt.SupersededByNewNavigation:!1)?na.REDIRECTING:na.FAILED),Ct(n=>n!==na.REDIRECTING),Rn(1)).subscribe(()=>{e()})}function SL(t){throw t}var AL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},wr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=O(dl),this.stateManager=O(Pb),this.options=O(Ia,{optional:!0})||{},this.pendingTasks=O(ms),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(im),this.urlSerializer=O(ma),this.location=O(Es),this.urlHandlingStrategy=O(rm),this._events=new dt,this.errorHandler=this.options.errorHandler||SL,this.navigated=!1,this.routeReuseStrategy=O(TL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(pa,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(Kl,{optional:!0}),this.eventsSubscription=new Me,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Vn&&r.code!==Nt.Redirect&&r.code!==Nt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof jn)this.navigated=!0;else if(r instanceof Ms){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||DL(i.source)},o);this.scheduleNavigation(a,ia,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}ML(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ia,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(tm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=pb(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return gb(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=oa(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ia,null,r)}navigate(n,r={skipLocationChange:!1}){return NL(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=F({},AL):r===!1?i=F({},RL):i=r,oa(n))return KT(this.currentUrlTree,n,i);let s=this.parseUrl(n);return KT(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return Ob(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function NL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function ML(t){return!(t instanceof ua)&&!(t instanceof Ms)}var Wl=class{};var xL=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ct(n=>n instanceof jn),Kr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=ll(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return xe(i).pipe(Gi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=W(null);let s=i.pipe(Fe(o=>o===null?W(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return xe([s,o]).pipe(Gi())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(K(wr),K(pl),K(St),K(Wl),K(nm))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),kb=new U(""),PL=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ns?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof jn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ir&&n.code===Vl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof jl&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new jl(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){OD()}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function WW(t,...e){return ln([{provide:pa,multi:!0,useValue:t},[],{provide:ui,useFactory:Lb,deps:[wr]},{provide:fl,multi:!0,useFactory:Fb},e.map(n=>n.\u0275providers)])}function Lb(t){return t.routerState.root}function wa(t,e){return{\u0275kind:t,\u0275providers:e}}function Fb(){let t=O(it);return e=>{let n=t.get(si);if(e!==n.components[0])return;let r=t.get(wr),i=t.get(Vb);t.get(sm)===1&&r.initialNavigation(),t.get(Ub,null,te.Optional)?.setUpPreloading(),t.get(kb,null,te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Vb=new U("",{factory:()=>new dt}),sm=new U("",{providedIn:"root",factory:()=>1});function OL(){return wa(2,[{provide:sm,useValue:0},{provide:hl,multi:!0,deps:[it],useFactory:e=>{let n=e.get(MT,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(wr),s=e.get(Vb);Ob(i,()=>{r(!0)}),e.get(im).afterPreactivation=()=>(r(!0),s.closed?W(void 0):s),i.initialNavigation()}))}}])}function kL(){return wa(3,[{provide:hl,multi:!0,useFactory:()=>{let e=O(wr);return()=>{e.setUpLocationChangeListener()}}},{provide:sm,useValue:2}])}var Ub=new U("");function LL(t){return wa(0,[{provide:Ub,useExisting:xL},{provide:Wl,useExisting:t}])}function FL(){return wa(8,[JT,{provide:Kl,useExisting:JT}])}function VL(t){let e=[{provide:Mb,useValue:IL},{provide:xb,useValue:F({skipNextTransition:!!t?.skipInitialTransition},t)}];return wa(9,e)}var nb=new U("ROUTER_FORROOT_GUARD"),UL=[Es,{provide:ma,useClass:Rs},wr,va,{provide:ui,useFactory:Lb,deps:[wr]},nm,[]],KW=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[UL,[],{provide:pa,multi:!0,useValue:n},{provide:nb,useFactory:HL,deps:[[wr,new st,new yp]]},{provide:Ia,useValue:r||{}},r?.useHash?BL():$L(),jL(),r?.preloadingStrategy?LL(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?zL(r):[],r?.bindToComponentInputs?FL().\u0275providers:[],r?.enableViewTransitions?VL().\u0275providers:[],qL()]}}static forChild(n){return{ngModule:t,providers:[{provide:pa,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(K(nb,8))}}static{this.\u0275mod=Wo({type:t})}static{this.\u0275inj=qo({})}}return t})();function jL(){return{provide:kb,useFactory:()=>{let t=O(UT),e=O(ve),n=O(Ia),r=O(im),i=O(ma);return n.scrollOffset&&t.setOffset(n.scrollOffset),new PL(i,r,t,e,n)}}}function BL(){return{provide:oi,useClass:PT}}function $L(){return{provide:oi,useClass:gg}}function HL(t){return"guarded"}function zL(t){return[t.initialNavigation==="disabled"?kL().\u0275providers:[],t.initialNavigation==="enabledBlocking"?OL().\u0275providers:[]]}var rb=new U("");function qL(){return[{provide:rb,useFactory:Fb},{provide:fl,multi:!0,useExisting:rb}]}var Bb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},$b={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,o||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Bb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new am;let m=s<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},am=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},WL=function(t){let e=Bb(t);return $b.encodeByteArray(e,!0)},Ea=function(t){return WL(t).replace(/\./g,"")},um=function(t){try{return $b.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function KL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var QL=()=>KL().__FIREBASE_DEFAULTS__,YL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&um(t[1]);return e&&JSON.parse(e)},Zl=()=>{try{return QL()||YL()||ZL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lm=t=>{var e,n;return(n=(e=Zl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Hb=t=>{let e=lm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dm=()=>{var t;return(t=Zl())===null||t===void 0?void 0:t.config},hm=t=>{var e;return(e=Zl())===null||e===void 0?void 0:e[`_${t}`]};var Yl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function zb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ea(JSON.stringify(n)),Ea(JSON.stringify(o)),""].join(".")}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function JL(){var t;let e=(t=Zl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Gb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Wb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Kb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qb(){let t=We();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Yb(){return!JL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fm(){try{return typeof indexedDB=="object"}catch{return!1}}function Zb(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var XL="FirebaseError",Mt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bn.prototype.create)}},Bn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?eF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Mt(i,a,r)}};function eF(t,e){return t.replace(tF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var tF=/\{\$([^}]+)}/g;function Jb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function li(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(jb(s)&&jb(o)){if(!li(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function jb(t){return t!==null&&typeof t=="object"}function Da(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Os(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ks(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Xb(t,e){let n=new cm(t,e);return n.subscribe.bind(n)}var cm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=om),i.error===void 0&&(i.error=om),i.complete===void 0&&(i.complete=om);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function nF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function om(){}var ZW=4*60*60*1e3;function ze(t){return t&&t._delegate?t._delegate:t}var Ht=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var di="[DEFAULT]";var pm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Yl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iF(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function rF(t){return t===di?void 0:t}function iF(t){return t.instantiationMode==="EAGER"}var Jl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new pm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var sF=[],ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{}),oF={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},aF=ce.INFO,cF={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},uF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=cF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Dr=class{constructor(e){this.name=e,this._logLevel=aF,this._logHandler=uF,this._userLogHandler=null,sF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var lF=(t,e)=>e.some(n=>t instanceof n),eC,tC;function dF(){return eC||(eC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hF(){return tC||(tC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var nC=new WeakMap,mm=new WeakMap,rC=new WeakMap,gm=new WeakMap,vm=new WeakMap;function fF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(pn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nC.set(n,t)}).catch(()=>{}),vm.set(e,t),e}function pF(t){if(mm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});mm.set(t,e)}var ym={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iC(t){ym=t(ym)}function gF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Xl(this),e,...n);return rC.set(r,e.sort?e.sort():[e]),pn(r)}:hF().includes(t)?function(...e){return t.apply(Xl(this),e),pn(nC.get(this))}:function(...e){return pn(t.apply(Xl(this),e))}}function mF(t){return typeof t=="function"?gF(t):(t instanceof IDBTransaction&&pF(t),lF(t,dF())?new Proxy(t,ym):t)}function pn(t){if(t instanceof IDBRequest)return fF(t);if(gm.has(t))return gm.get(t);let e=mF(t);return e!==t&&(gm.set(t,e),vm.set(e,t)),e}var Xl=t=>vm.get(t);function oC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=pn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(pn(o.result),u.oldVersion,u.newVersion,pn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var yF=["get","getKey","getAll","getAllKeys","count"],vF=["put","add","delete","clear"],_m=new Map;function sC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_m.get(e))return _m.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=vF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yF.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return _m.set(e,s),s}iC(t=>Te(F({},t),{get:(e,n,r)=>sC(e,n)||t.get(e,n,r),has:(e,n)=>!!sC(e,n)||t.has(e,n)}));var wm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_F(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function _F(t){let e=t.getComponent();return e?.type==="VERSION"}var Em="@firebase/app",aC="0.10.11";var $n=new Dr("@firebase/app"),IF="@firebase/app-compat",wF="@firebase/analytics-compat",EF="@firebase/analytics",DF="@firebase/app-check-compat",TF="@firebase/app-check",bF="@firebase/auth",CF="@firebase/auth-compat",SF="@firebase/database",AF="@firebase/database-compat",RF="@firebase/functions",NF="@firebase/functions-compat",MF="@firebase/installations",xF="@firebase/installations-compat",PF="@firebase/messaging",OF="@firebase/messaging-compat",kF="@firebase/performance",LF="@firebase/performance-compat",FF="@firebase/remote-config",VF="@firebase/remote-config-compat",UF="@firebase/storage",jF="@firebase/storage-compat",BF="@firebase/firestore",$F="@firebase/vertexai-preview",HF="@firebase/firestore-compat",zF="firebase",qF="10.13.2";var Dm="[DEFAULT]",GF={[Em]:"fire-core",[IF]:"fire-core-compat",[EF]:"fire-analytics",[wF]:"fire-analytics-compat",[TF]:"fire-app-check",[DF]:"fire-app-check-compat",[bF]:"fire-auth",[CF]:"fire-auth-compat",[SF]:"fire-rtdb",[AF]:"fire-rtdb-compat",[RF]:"fire-fn",[NF]:"fire-fn-compat",[MF]:"fire-iid",[xF]:"fire-iid-compat",[PF]:"fire-fcm",[OF]:"fire-fcm-compat",[kF]:"fire-perf",[LF]:"fire-perf-compat",[FF]:"fire-rc",[VF]:"fire-rc-compat",[UF]:"fire-gcs",[jF]:"fire-gcs-compat",[BF]:"fire-fst",[HF]:"fire-fst-compat",[$F]:"fire-vertex","fire-js":"fire-js",[zF]:"fire-js-all"};var Ta=new Map,WF=new Map,Tm=new Map;function cC(t,e){try{t.container.addComponent(e)}catch(n){$n.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function br(t){let e=t.name;if(Tm.has(e))return $n.debug(`There were multiple attempts to register component ${e}.`),!1;Tm.set(e,t);for(let n of Ta.values())cC(n,t);for(let n of WF.values())cC(n,t);return!0}function Ca(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xt(t){return t.settings!==void 0}var KF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new Bn("app","Firebase",KF);var bm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}};var Cr=qF;function Am(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Dm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Tr.create("bad-app-name",{appName:String(i)});if(n||(n=dm()),!n)throw Tr.create("no-options");let s=Ta.get(i);if(s){if(li(n,s.options)&&li(r,s.config))return s;throw Tr.create("duplicate-app",{appName:i})}let o=new Jl(i);for(let u of Tm.values())o.addComponent(u);let a=new bm(n,r,o);return Ta.set(i,a),a}function Ls(t=Dm){let e=Ta.get(t);if(!e&&t===Dm&&dm())return Am();if(!e)throw Tr.create("no-app",{appName:t});return e}function ed(){return Array.from(Ta.values())}function qe(t,e,n){var r;let i=(r=GF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$n.warn(a.join(" "));return}br(new Ht(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var QF="firebase-heartbeat-database",YF=1,ba="firebase-heartbeat-store",Im=null;function hC(){return Im||(Im=oC(QF,YF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ba)}catch(n){console.warn(n)}}}}).catch(t=>{throw Tr.create("idb-open",{originalErrorMessage:t.message})})),Im}function ZF(t){return w(this,null,function*(){try{let n=(yield hC()).transaction(ba),r=yield n.objectStore(ba).get(fC(t));return yield n.done,r}catch(e){if(e instanceof Mt)$n.warn(e.message);else{let n=Tr.create("idb-get",{originalErrorMessage:e?.message});$n.warn(n.message)}}})}function uC(t,e){return w(this,null,function*(){try{let r=(yield hC()).transaction(ba,"readwrite");yield r.objectStore(ba).put(e,fC(t)),yield r.done}catch(n){if(n instanceof Mt)$n.warn(n.message);else{let r=Tr.create("idb-set",{originalErrorMessage:n?.message});$n.warn(r.message)}}})}function fC(t){return`${t.name}!${t.options.appId}`}var JF=1024,XF=30*24*60*60*1e3,Cm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Sm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=lC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=XF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){$n.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=lC(),{heartbeatsToSend:r,unsentEntries:i}=eV(this._heartbeatsCache.heartbeats),s=Ea(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $n.warn(n),""}})}};function lC(){return new Date().toISOString().substring(0,10)}function eV(t,e=JF){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),dC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Sm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return fm()?Zb().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield ZF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return uC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return uC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function dC(t){return Ea(JSON.stringify({version:2,heartbeats:t})).length}function tV(t){br(new Ht("platform-logger",e=>new wm(e),"PRIVATE")),br(new Ht("heartbeat",e=>new Cm(e),"PRIVATE")),qe(Em,aC,t),qe(Em,aC,"esm2017"),qe("fire-js","")}tV("");var nV="firebase",rV="10.13.2";qe(nV,rV,"app");var fi=new yr("ANGULARFIRE2_VERSION");function nd(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Sa=(t,e)=>{let n=e?[e]:ed(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Vs=class{constructor(){return Sa(iV)}},iV="app-check";function Fs(){}var td=class{zone;delegate;constructor(e,n=af){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Rm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fs,{},Fs,Fs)),n.pipe(He({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Us=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new td(Zone.current)),this.insideAngular=n.run(()=>new td(Zone.current,of)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(K(ve))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function sV(t){return rd().ngZone.runOutsideAngular(()=>t())}function hi(t){return rd().ngZone.run(()=>t())}function oV(t){return aV(rd())(t)}function aV(t){return function(n){return n=n.lift(new Rm(t.ngZone)),n.pipe(sr(t.outsideAngular),ir(t.insideAngular))}}var cV=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),hi(()=>t.apply(void 0,r))},Je=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=hi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fs,{},Fs,Fs))),r[s]=cV(r[s],n));let i=sV(()=>t.apply(this,r));if(!e)if(i instanceof oe){let s=rd();return i.pipe(sr(s.outsideAngular),ir(s.insideAngular))}else return hi(()=>i);return i instanceof oe?i.pipe(oV):i instanceof Promise?hi(()=>new Promise((s,o)=>i.then(a=>hi(()=>s(a)),a=>hi(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:hi(()=>i)};var Hn=class{constructor(e){return e}},pi=class{constructor(){return ed()}};function uV(t){return t&&t.length===1?t[0]:new Hn(Ls())}var Nm=new U("angularfire2._apps"),lV={provide:Hn,useFactory:uV,deps:[[new st,Nm]]},dV={provide:pi,deps:[[new st,Nm]]};function hV(t){return(e,n)=>{let r=n.get(hn);qe("angularfire",fi.full,"core"),qe("angularfire",fi.full,"app"),qe("angular",pT.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Hn(i)}}function F3(t,...e){return ln([lV,dV,{provide:Nm,useFactory:hV(t),multi:!0,deps:[ve,it,Us,...e]}])}var V3=Je(Am,!0);function NC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var MC=NC,xC=new Bn("auth","Firebase",NC());var ud=new Dr("@firebase/auth");function fV(t,...e){ud.logLevel<=ce.WARN&&ud.warn(`Auth (${Cr}): ${t}`,...e)}function sd(t,...e){ud.logLevel<=ce.ERROR&&ud.error(`Auth (${Cr}): ${t}`,...e)}function mn(t,...e){throw Xm(t,...e)}function gi(t,...e){return Xm(t,...e)}function PC(t,e,n){let r=Object.assign(Object.assign({},MC()),{[e]:n});return new Bn("auth","Firebase",r).create(e,{appName:t.name})}function Gn(t){return PC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xC.create(t,...e)}function q(t,e,...n){if(!t)throw Xm(e,...n)}function zn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw sd(e),new Error(e)}function Ar(t,e){t||zn(e)}function Om(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pV(){return pC()==="http:"||pC()==="https:"}function pC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function gV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pV()||Wb()||"connection"in navigator)?navigator.onLine:!0}function mV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var mi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ar(n>e,"Short delay should be less than long delay!"),this.isMobile=qb()||Kb()}get(){return gV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ey(t,e){Ar(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ld=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var yV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var vV=new mi(3e4,6e4);function Rr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Nr(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return OC(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Da(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let v=Object.assign({method:e,headers:m},l);return Gb()||(v.referrerPolicy="no-referrer"),ld.fetch()(kC(t,t.config.apiHost,n,p),v)}))})}function OC(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},yV),e);try{let i=new km(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw id(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw id(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw id(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw id(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw PC(t,h,l);mn(t,h)}}catch(i){if(i instanceof Mt)throw i;mn(t,"network-request-failed",{message:String(i)})}})}function ka(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Nr(t,e,n,r,i);return"mfaPendingCredential"in l&&mn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function kC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?ey(t.config,i):`${t.config.apiScheme}://${i}`}function _V(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var km=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gi(this.auth,"network-request-failed")),vV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function id(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=gi(t,e,r);return i.customData._tokenResponse=n,i}function gC(t){return t!==void 0&&t.enterprise!==void 0}var Lm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _V(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function IV(t,e){return w(this,null,function*(){return Nr(t,"GET","/v2/recaptchaConfig",Rr(t,e))})}function wV(t,e){return w(this,null,function*(){return Nr(t,"POST","/v1/accounts:delete",e)})}function LC(t,e){return w(this,null,function*(){return Nr(t,"POST","/v1/accounts:lookup",e)})}function Aa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ty(t,e=!1){return w(this,null,function*(){let n=ze(t),r=yield n.getIdToken(e),i=ny(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Aa(Mm(i.auth_time)),issuedAtTime:Aa(Mm(i.iat)),expirationTime:Aa(Mm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Mm(t){return Number(t)*1e3}function ny(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{let i=um(n);return i?JSON.parse(i):(sd("Failed to decode base64 JWT payload"),null)}catch(i){return sd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function mC(t){let e=ny(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Na(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Mt&&EV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function EV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Fm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ma=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Aa(this.lastLoginAt),this.creationTime=Aa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function dd(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Na(t,LC(n,{idToken:r}));q(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?FC(s.providerUserInfo):[],a=DV(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ma(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function ry(t){return w(this,null,function*(){let e=ze(t);yield dd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function DV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function FC(t){return t.map(e=>{var{providerId:n}=e,r=cf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function TV(t,e){return w(this,null,function*(){let n=yield OC(t,{},()=>w(this,null,function*(){let r=Da({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=kC(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ld.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function bV(t,e){return w(this,null,function*(){return Nr(t,"POST","/v2/accounts:revokeToken",Rr(t,e))})}var Ra=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){q(e.length!==0,"internal-error");let n=mC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield TV(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return zn("not implemented")}};function Sr(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var js=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=cf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ma(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Na(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ty(this,e)}reload(){return ry(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield dd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Xt(this.auth.app))return Promise.reject(Gn(this.auth));let e=yield this.getIdToken();return yield Na(this,wV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,H=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:z,emailVerified:re,isAnonymous:Re,providerData:Z,stsTokenManager:D}=n;q(z&&D,e,"internal-error");let y=Ra.fromJSON(this.name,D);q(typeof z=="string",e,"internal-error"),Sr(p,e.name),Sr(m,e.name),q(typeof re=="boolean",e,"internal-error"),q(typeof Re=="boolean",e,"internal-error"),Sr(v,e.name),Sr(S,e.name),Sr(M,e.name),Sr(R,e.name),Sr(k,e.name),Sr(H,e.name);let _=new t({uid:z,auth:e,email:m,emailVerified:re,displayName:p,isAnonymous:Re,photoURL:S,phoneNumber:v,tenantId:M,stsTokenManager:y,createdAt:k,lastLoginAt:H});return Z&&Array.isArray(Z)&&(_.providerData=Z.map(E=>Object.assign({},E))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Ra;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield dd(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];q(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?FC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Ra;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ma(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var yC=new Map;function qn(t){Ar(t instanceof Function,"Expected a class definition");let e=yC.get(t);return e?(Ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yC.set(t,e),e)}var CV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Vm=CV;function od(t,e,n){return`firebase:${t}:${e}:${n}`}var hd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=od(this.userKey,i.apiKey,s),this.fullPersistenceKey=od("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?js._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(qn(Vm),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||qn(Vm),o=od(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=js._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function vC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HC(e))return"Blackberry";if(zC(e))return"Webos";if(UC(e))return"Safari";if((e.includes("chrome/")||jC(e))&&!e.includes("edge/"))return"Chrome";if($C(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function VC(t=We()){return/firefox\//i.test(t)}function UC(t=We()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jC(t=We()){return/crios\//i.test(t)}function BC(t=We()){return/iemobile/i.test(t)}function $C(t=We()){return/android/i.test(t)}function HC(t=We()){return/blackberry/i.test(t)}function zC(t=We()){return/webos/i.test(t)}function iy(t=We()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SV(t=We()){var e;return iy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AV(){return Qb()&&document.documentMode===10}function qC(t=We()){return iy(t)||$C(t)||zC(t)||HC(t)||/windows phone/i.test(t)||BC(t)}function GC(t,e=[]){let n;switch(t){case"Browser":n=vC(We());break;case"Worker":n=`${vC(We())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cr}/${r}`}var Um=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function RV(n){return w(this,arguments,function*(t,e={}){return Nr(t,"GET","/v2/passwordPolicy",Rr(t,e))})}var NV=6,jm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:NV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Bm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fd(this),this.idTokenSubscription=new fd(this),this.beforeStateQueue=new Um(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield hd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield LC(this,{idToken:e}),r=yield js._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(Xt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield dd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=mV()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Xt(this.app))return Promise.reject(Gn(this));let n=e?ze(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Xt(this.app)?Promise.reject(Gn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Xt(this.app)?Promise.reject(Gn(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(qn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield RV(this),n=new jm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield bV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&qn(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=yield hd.create(this,[qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&fV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function vi(t){return ze(t)}var fd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Xb(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Id={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MV(t){Id=t}function WC(t){return Id.loadJS(t)}function xV(){return Id.recaptchaEnterpriseScript}function PV(){return Id.gapiScript}function KC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var OV="recaptcha-enterprise",kV="NO_RECAPTCHA",$m=class{constructor(e){this.type=OV,this.auth=vi(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>w(this,null,function*(){IV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Lm(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;gC(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(kV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&gC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=xV();u.length!==0&&(u+=a),WC(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function _C(t,e,n,r=!1){return w(this,null,function*(){let i=new $m(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Hm(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield _C(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield _C(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function sy(t,e){let n=Ca(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(li(s,e??{}))return i;mn(i,"already-initialized")}return n.initialize({options:e})}function LV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(qn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function oy(t,e,n){let r=vi(t);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=QC(e),{host:o,port:a}=FV(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||VV()}function QC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FV(t){let e=QC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:IC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:IC(o)}}}function IC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function VV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var xa=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zn("not implemented")}_getIdTokenResponse(e){return zn("not implemented")}_linkToIdToken(e,n){return zn("not implemented")}_getReauthenticationResolver(e){return zn("not implemented")}};function UV(t,e){return w(this,null,function*(){return Nr(t,"POST","/v1/accounts:signUp",e)})}function jV(t,e){return w(this,null,function*(){return ka(t,"POST","/v1/accounts:signInWithPassword",Rr(t,e))})}function BV(t,e){return w(this,null,function*(){return ka(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,e))})}function $V(t,e){return w(this,null,function*(){return ka(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,e))})}var Pa=class t extends xa{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,n,"signInWithPassword",jV);case"emailLink":return BV(e,{email:this._email,oobCode:this._password});default:mn(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,r,"signUpPassword",UV);case"emailLink":return $V(e,{idToken:n,email:this._email,oobCode:this._password});default:mn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function xm(t,e){return w(this,null,function*(){return ka(t,"POST","/v1/accounts:signInWithIdp",Rr(t,e))})}function HV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zV(t){let e=Os(ks(t)).link,n=e?Os(ks(e)).deep_link_id:null,r=Os(ks(t)).deep_link_id;return(r?Os(ks(r)).link:null)||r||n||e||t}var pd=class t{constructor(e){var n,r,i,s,o,a;let u=Os(ks(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=HV((i=u.mode)!==null&&i!==void 0?i:null);q(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=zV(e);try{return new t(n)}catch{return null}}};var YC=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Pa._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=pd.parseLink(r);return q(i,"argument-error"),Pa._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),gd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var zm=class extends gd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function qV(t,e){return w(this,null,function*(){return ka(t,"POST","/v1/accounts:signUp",Rr(t,e))})}var Bs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield js._fromIdTokenResponse(e,r,i),o=wC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=wC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function wC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var qm=class t extends Mt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function ZC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qm._fromErrorAndOperation(t,s,e,r):s})}function GV(t,e,n=!1){return w(this,null,function*(){let r=yield Na(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Bs._forOperation(t,"link",r)})}function WV(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(Xt(r.app))return Promise.reject(Gn(r));let i="reauthenticate";try{let s=yield Na(t,ZC(r,i,e,t),n);q(s.idToken,r,"internal-error");let o=ny(s.idToken);q(o,r,"internal-error");let{sub:a}=o;return q(t.uid===a,r,"user-mismatch"),Bs._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&mn(r,"user-mismatch"),s}})}function JC(t,e,n=!1){return w(this,null,function*(){if(Xt(t.app))return Promise.reject(Gn(t));let r="signIn",i=yield ZC(t,r,e),s=yield Bs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function ay(t,e){return w(this,null,function*(){return JC(vi(t),e)})}function XC(t){return w(this,null,function*(){let e=vi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function cy(t,e,n){return w(this,null,function*(){if(Xt(t.app))return Promise.reject(Gn(t));let r=vi(t),o=yield Hm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&XC(t),u}),a=yield Bs._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function uy(t,e,n){return Xt(t.app)?Promise.reject(Gn(t)):ay(ze(t),YC.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&XC(t),r}))}function ly(t,e,n,r){return ze(t).onIdTokenChanged(e,n,r)}function dy(t,e,n){return ze(t).beforeAuthStateChanged(e,n)}var md="__sak";var yd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(md,"1"),this.storage.removeItem(md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var KV=1e3,QV=10,YV=(()=>{class t extends yd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);AV()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,QV):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},KV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield nr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield nr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield nr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),eS=YV;var ZV=(()=>{class t extends yd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),hy=ZV;function JV(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var XV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield JV(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function tS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Gm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=tS("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function gn(){return window}function eU(t){gn().location.href=t}function nS(){return typeof gn().WorkerGlobalScope<"u"&&typeof gn().importScripts=="function"}function tU(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function nU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rU(){return nS()?self:null}var rS="firebaseLocalStorageDb",iU=1,vd="firebaseLocalStorage",iS="fbase_key",yi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function wd(t,e){return t.transaction([vd],e?"readwrite":"readonly").objectStore(vd)}function sU(){let t=indexedDB.deleteDatabase(rS);return new yi(t).toPromise()}function Wm(){let t=indexedDB.open(rS,iU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(vd,{keyPath:iS})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(vd)?e(r):(r.close(),yield sU(),e(yield Wm()))}))})}function EC(t,e,n){return w(this,null,function*(){let r=wd(t,!0).put({[iS]:e,value:n});return new yi(r).toPromise()})}function oU(t,e){return w(this,null,function*(){let n=wd(t,!1).get(e),r=yield new yi(n).toPromise();return r===void 0?null:r.value})}function DC(t,e){let n=wd(t,!0).delete(e);return new yi(n).toPromise()}var aU=800,cU=3,uU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield Wm(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>cU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return nS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=XV._getInstance(rU()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield tU(),!this.activeServiceWorker)return;this.sender=new Gm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||nU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Wm();return yield EC(n,md,"1"),yield DC(n,md),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>EC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>oU(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>DC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=wd(s,!1).getAll();return new yi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),aU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),sS=uU;var G3=KC("rcb"),W3=new mi(3e4,6e4);function lU(t,e){return e?qn(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Oa=class extends xa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function dU(t){return JC(t.auth,new Oa(t),t.bypassAuthState)}function hU(t){let{auth:e,user:n}=t;return q(n,e,"internal-error"),WV(n,new Oa(t),t.bypassAuthState)}function fU(t){return w(this,null,function*(){let{auth:e,user:n}=t;return q(n,e,"internal-error"),GV(n,new Oa(t),t.bypassAuthState)})}var Km=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dU;case"linkViaPopup":case"linkViaRedirect":return fU;case"reauthViaPopup":case"reauthViaRedirect":return hU;default:mn(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var K3=new mi(2e3,1e4);var pU="pendingRedirect",ad=new Map,Qm=class t extends Km{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=ad.get(this.auth._key());if(!e){try{let r=(yield gU(this.resolver,this.auth))?yield nr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ad.set(this.auth._key(),e)}return this.bypassAuthState||ad.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return nr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,nr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function gU(t,e){return w(this,null,function*(){let n=vU(e),r=yU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function mU(t,e){ad.set(t._key(),e)}function yU(t){return qn(t._redirectPersistence)}function vU(t){return od(pU,t.config.apiKey,t.name)}function _U(t,e,n=!1){return w(this,null,function*(){if(Xt(t.app))return Promise.reject(Gn(t));let r=vi(t),i=lU(r,e),o=yield new Qm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var IU=10*60*1e3,Ym=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IU&&this.cachedEventUids.clear(),this.cachedEventUids.has(TC(e))}saveEventToCache(e){this.cachedEventUids.add(TC(e)),this.lastProcessedEventTime=Date.now()}};function TC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function wU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oS(t);default:return!1}}function EU(n){return w(this,arguments,function*(t,e={}){return Nr(t,"GET","/v1/projects",e)})}var DU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TU=/^https?/;function bU(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield EU(t);for(let n of e)try{if(CU(n))return}catch{}mn(t,"unauthorized-domain")})}function CU(t){let e=Om(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!TU.test(n))return!1;if(DU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var SU=new mi(3e4,6e4);function bC(){let t=gn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AU(t){return new Promise((e,n)=>{var r,i,s;function o(){bC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bC(),n(gi(t,"network-request-failed"))},timeout:SU.get()})}if(!((i=(r=gn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=gn().gapi)===null||s===void 0)&&s.load)o();else{let a=KC("iframefcb");return gn()[a]=()=>{gapi.load?o():n(gi(t,"network-request-failed"))},WC(`${PV()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw cd=null,e})}var cd=null;function RU(t){return cd=cd||AU(t),cd}var NU=new mi(5e3,15e3),MU="__/auth/iframe",xU="emulator/auth/iframe",PU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kU(t){let e=t.config;q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?ey(e,xU):`https://${t.config.authDomain}/${MU}`,r={apiKey:e.apiKey,appName:t.name,v:Cr},i=OU.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Da(r).slice(1)}`}function LU(t){return w(this,null,function*(){let e=yield RU(t),n=gn().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:kU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PU,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=gi(t,"network-request-failed"),a=gn().setTimeout(()=>{s(o)},NU.get());function u(){gn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var FU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VU=500,UU=600,jU="_blank",BU="http://localhost",_d=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function $U(t,e,n,r=VU,i=UU){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},FU),{width:r.toString(),height:i.toString(),top:s,left:o}),l=We().toLowerCase();n&&(a=jC(l)?jU:n),VC(l)&&(e=e||BU,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[v,S])=>`${m}${v}=${S},`,"");if(SV(l)&&a!=="_self")return HU(e||"",a),new _d(null);let p=window.open(e||"",a,h);q(p,t,"popup-blocked");try{p.focus()}catch{}return new _d(p)}function HU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var zU="__/auth/handler",qU="emulator/auth/handler",GU=encodeURIComponent("fac");function CC(t,e,n,r,i,s){return w(this,null,function*(){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Cr,eventId:i};if(e instanceof gd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Jb(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof zm){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${GU}=${encodeURIComponent(u)}`:"";return`${WU(t)}?${Da(a).slice(1)}${l}`})}function WU({config:t}){return t.emulator?ey(t,qU):`https://${t.authDomain}/${zU}`}var Pm="webStorageSupport",Zm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hy,this._completeRedirectFn=_U,this._overrideRedirectResult=mU}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Ar((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield CC(e,n,r,Om(),i);return $U(e,o,tS())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield CC(e,n,r,Om(),i);return eU(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ar(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield LU(e),r=new Ym(e);return n.register("authEvent",i=>(q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pm,{type:Pm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Pm];o!==void 0&&n(!!o),mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qC()||UC()||iy()}},aS=Zm;var SC="@firebase/auth",AC="1.7.9";var Jm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function KU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QU(t){br(new Ht("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GC(t)},l=new Bm(r,i,s,u);return LV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),br(new Ht("auth-internal",e=>{let n=vi(e.getProvider("auth").getImmediate());return(r=>new Jm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qe(SC,AC,KU(t)),qe(SC,AC,"esm2017")}var YU=5*60,ZU=hm("authIdTokenMaxAge")||YU,RC=null,JU=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZU)return;let i=n?.token;RC!==i&&(RC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function fy(t=Ls()){let e=Ca(t,"auth");if(e.isInitialized())return e.getImmediate();let n=sy(t,{popupRedirectResolver:aS,persistence:[sS,eS,hy]}),r=hm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=JU(s.toString());dy(n,o,()=>o(n.currentUser)),ly(n,a=>o(a))}}let i=lm("auth");return i&&oy(n,`http://${i}`),n}function XU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}MV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=gi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",XU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QU("Browser");var cS="auth",La=class{constructor(e){return e}},Fa=class{constructor(){return Sa(cS)}};var py=new U("angularfire2.auth-instances");function zj(t,e){let n=nd(cS,t,e);return n&&new La(n)}function qj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new La(r)}}var Gj={provide:Fa,deps:[[new st,py]]},Wj={provide:La,useFactory:zj,deps:[[new st,py],Hn]};function M6(t,...e){return qe("angularfire",fi.full,"auth"),ln([Wj,Gj,{provide:py,useFactory:qj(t),multi:!0,deps:[ve,it,Us,pi,[new st,Vs],...e]}])}var x6=Je(cy,!0);var P6=Je(fy,!0);var O6=Je(uy,!0);var uS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lS={};var Mr,gy;(function(){var t;function e(D,y){function _(){}_.prototype=y.prototype,D.D=y.prototype,D.prototype=new _,D.prototype.constructor=D,D.C=function(E,T,C){for(var I=Array(arguments.length-2),Tn=2;Tn<arguments.length;Tn++)I[Tn-2]=arguments[Tn];return y.prototype[T].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var T=0;16>T;++T)E[T]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(T=0;16>T;++T)E[T]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=D.g[0],_=D.g[1],T=D.g[2];var C=D.g[3],I=y+(C^_&(T^C))+E[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=C+(T^y&(_^T))+E[1]+3905402710&4294967295,C=y+(I<<12&4294967295|I>>>20),I=T+(_^C&(y^_))+E[2]+606105819&4294967295,T=C+(I<<17&4294967295|I>>>15),I=_+(y^T&(C^y))+E[3]+3250441966&4294967295,_=T+(I<<22&4294967295|I>>>10),I=y+(C^_&(T^C))+E[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=C+(T^y&(_^T))+E[5]+1200080426&4294967295,C=y+(I<<12&4294967295|I>>>20),I=T+(_^C&(y^_))+E[6]+2821735955&4294967295,T=C+(I<<17&4294967295|I>>>15),I=_+(y^T&(C^y))+E[7]+4249261313&4294967295,_=T+(I<<22&4294967295|I>>>10),I=y+(C^_&(T^C))+E[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=C+(T^y&(_^T))+E[9]+2336552879&4294967295,C=y+(I<<12&4294967295|I>>>20),I=T+(_^C&(y^_))+E[10]+4294925233&4294967295,T=C+(I<<17&4294967295|I>>>15),I=_+(y^T&(C^y))+E[11]+2304563134&4294967295,_=T+(I<<22&4294967295|I>>>10),I=y+(C^_&(T^C))+E[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=C+(T^y&(_^T))+E[13]+4254626195&4294967295,C=y+(I<<12&4294967295|I>>>20),I=T+(_^C&(y^_))+E[14]+2792965006&4294967295,T=C+(I<<17&4294967295|I>>>15),I=_+(y^T&(C^y))+E[15]+1236535329&4294967295,_=T+(I<<22&4294967295|I>>>10),I=y+(T^C&(_^T))+E[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^T&(y^_))+E[6]+3225465664&4294967295,C=y+(I<<9&4294967295|I>>>23),I=T+(y^_&(C^y))+E[11]+643717713&4294967295,T=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(T^C))+E[0]+3921069994&4294967295,_=T+(I<<20&4294967295|I>>>12),I=y+(T^C&(_^T))+E[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^T&(y^_))+E[10]+38016083&4294967295,C=y+(I<<9&4294967295|I>>>23),I=T+(y^_&(C^y))+E[15]+3634488961&4294967295,T=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(T^C))+E[4]+3889429448&4294967295,_=T+(I<<20&4294967295|I>>>12),I=y+(T^C&(_^T))+E[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^T&(y^_))+E[14]+3275163606&4294967295,C=y+(I<<9&4294967295|I>>>23),I=T+(y^_&(C^y))+E[3]+4107603335&4294967295,T=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(T^C))+E[8]+1163531501&4294967295,_=T+(I<<20&4294967295|I>>>12),I=y+(T^C&(_^T))+E[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^T&(y^_))+E[2]+4243563512&4294967295,C=y+(I<<9&4294967295|I>>>23),I=T+(y^_&(C^y))+E[7]+1735328473&4294967295,T=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(T^C))+E[12]+2368359562&4294967295,_=T+(I<<20&4294967295|I>>>12),I=y+(_^T^C)+E[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^T)+E[8]+2272392833&4294967295,C=y+(I<<11&4294967295|I>>>21),I=T+(C^y^_)+E[11]+1839030562&4294967295,T=C+(I<<16&4294967295|I>>>16),I=_+(T^C^y)+E[14]+4259657740&4294967295,_=T+(I<<23&4294967295|I>>>9),I=y+(_^T^C)+E[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^T)+E[4]+1272893353&4294967295,C=y+(I<<11&4294967295|I>>>21),I=T+(C^y^_)+E[7]+4139469664&4294967295,T=C+(I<<16&4294967295|I>>>16),I=_+(T^C^y)+E[10]+3200236656&4294967295,_=T+(I<<23&4294967295|I>>>9),I=y+(_^T^C)+E[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^T)+E[0]+3936430074&4294967295,C=y+(I<<11&4294967295|I>>>21),I=T+(C^y^_)+E[3]+3572445317&4294967295,T=C+(I<<16&4294967295|I>>>16),I=_+(T^C^y)+E[6]+76029189&4294967295,_=T+(I<<23&4294967295|I>>>9),I=y+(_^T^C)+E[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^T)+E[12]+3873151461&4294967295,C=y+(I<<11&4294967295|I>>>21),I=T+(C^y^_)+E[15]+530742520&4294967295,T=C+(I<<16&4294967295|I>>>16),I=_+(T^C^y)+E[2]+3299628645&4294967295,_=T+(I<<23&4294967295|I>>>9),I=y+(T^(_|~C))+E[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~T))+E[7]+1126891415&4294967295,C=y+(I<<10&4294967295|I>>>22),I=T+(y^(C|~_))+E[14]+2878612391&4294967295,T=C+(I<<15&4294967295|I>>>17),I=_+(C^(T|~y))+E[5]+4237533241&4294967295,_=T+(I<<21&4294967295|I>>>11),I=y+(T^(_|~C))+E[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~T))+E[3]+2399980690&4294967295,C=y+(I<<10&4294967295|I>>>22),I=T+(y^(C|~_))+E[10]+4293915773&4294967295,T=C+(I<<15&4294967295|I>>>17),I=_+(C^(T|~y))+E[1]+2240044497&4294967295,_=T+(I<<21&4294967295|I>>>11),I=y+(T^(_|~C))+E[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~T))+E[15]+4264355552&4294967295,C=y+(I<<10&4294967295|I>>>22),I=T+(y^(C|~_))+E[6]+2734768916&4294967295,T=C+(I<<15&4294967295|I>>>17),I=_+(C^(T|~y))+E[13]+1309151649&4294967295,_=T+(I<<21&4294967295|I>>>11),I=y+(T^(_|~C))+E[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~T))+E[11]+3174756917&4294967295,C=y+(I<<10&4294967295|I>>>22),I=T+(y^(C|~_))+E[2]+718787259&4294967295,T=C+(I<<15&4294967295|I>>>17),I=_+(C^(T|~y))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(T+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+C&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var _=y-this.blockSize,E=this.B,T=this.h,C=0;C<y;){if(T==0)for(;C<=_;)i(this,D,C),C+=this.blockSize;if(typeof D=="string"){for(;C<y;)if(E[T++]=D.charCodeAt(C++),T==this.blockSize){i(this,E),T=0;break}}else for(;C<y;)if(E[T++]=D[C++],T==this.blockSize){i(this,E),T=0;break}}this.h=T,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var _=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=_&255,_/=256;for(this.u(D),D=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)D[_++]=this.g[y]>>>E&255;return D};function s(D,y){var _=a;return Object.prototype.hasOwnProperty.call(_,D)?_[D]:_[D]=y(D)}function o(D,y){this.h=y;for(var _=[],E=!0,T=D.length-1;0<=T;T--){var C=D[T]|0;E&&C==y||(_[T]=C,E=!1)}this.g=_}var a={};function u(D){return-128<=D&&128>D?s(D,function(y){return new o([y|0],0>y?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var y=[],_=1,E=0;D>=_;E++)y[E]=D/_|0,_*=4294967296;return new o(y,0)}function h(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return R(h(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,T=0;T<D.length;T+=8){var C=Math.min(8,D.length-T),I=parseInt(D.substring(T,T+C),y);8>C?(C=l(Math.pow(y,C)),E=E.j(C).add(l(I))):(E=E.j(_),E=E.add(l(I)))}return E}var p=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-R(this).m();for(var D=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);D+=(0<=E?E:4294967296+E)*y,y*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(M(this))return"-"+R(this).toString(D);for(var y=l(Math.pow(D,6)),_=this,E="";;){var T=re(_,y).g;_=k(_,T.j(y));var C=((0<_.g.length?_.g[0]:_.h)>>>0).toString(D);if(_=T,S(_))return C+E;for(;6>C.length;)C="0"+C;E=C+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=k(this,D),M(D)?-1:S(D)?0:1};function R(D){for(var y=D.g.length,_=[],E=0;E<y;E++)_[E]=~D.g[E];return new o(_,~D.h).add(m)}t.abs=function(){return M(this)?R(this):this},t.add=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0,T=0;T<=y;T++){var C=E+(this.i(T)&65535)+(D.i(T)&65535),I=(C>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);E=I>>>16,C&=65535,I&=65535,_[T]=I<<16|C}return new o(_,_[_.length-1]&-2147483648?-1:0)};function k(D,y){return D.add(R(y))}t.j=function(D){if(S(this)||S(D))return p;if(M(this))return M(D)?R(this).j(R(D)):R(R(this).j(D));if(M(D))return R(this.j(R(D)));if(0>this.l(v)&&0>D.l(v))return l(this.m()*D.m());for(var y=this.g.length+D.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var T=0;T<D.g.length;T++){var C=this.i(E)>>>16,I=this.i(E)&65535,Tn=D.i(T)>>>16,uo=D.i(T)&65535;_[2*E+2*T]+=I*uo,H(_,2*E+2*T),_[2*E+2*T+1]+=C*uo,H(_,2*E+2*T+1),_[2*E+2*T+1]+=I*Tn,H(_,2*E+2*T+1),_[2*E+2*T+2]+=C*Tn,H(_,2*E+2*T+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new o(_,0)};function H(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function z(D,y){this.g=D,this.h=y}function re(D,y){if(S(y))throw Error("division by zero");if(S(D))return new z(p,p);if(M(D))return y=re(R(D),y),new z(R(y.g),R(y.h));if(M(y))return y=re(D,R(y)),new z(R(y.g),y.h);if(30<D.g.length){if(M(D)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=y;0>=E.l(D);)_=Re(_),E=Re(E);var T=Z(_,1),C=Z(E,1);for(E=Z(E,2),_=Z(_,2);!S(E);){var I=C.add(E);0>=I.l(D)&&(T=T.add(_),C=I),E=Z(E,1),_=Z(_,1)}return y=k(D,T.j(y)),new z(T,y)}for(T=p;0<=D.l(y);){for(_=Math.max(1,Math.floor(D.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),C=l(_),I=C.j(y);M(I)||0<I.l(D);)_-=E,C=l(_),I=C.j(y);S(C)&&(C=m),T=T.add(C),D=k(D,I)}return new z(T,D)}t.A=function(D){return re(this,D).h},t.and=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&D.i(E);return new o(_,this.h&D.h)},t.or=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|D.i(E);return new o(_,this.h|D.h)},t.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^D.i(E);return new o(_,this.h^D.h)};function Re(D){for(var y=D.g.length+1,_=[],E=0;E<y;E++)_[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(_,D.h)}function Z(D,y){var _=y>>5;y%=32;for(var E=D.g.length-_,T=[],C=0;C<E;C++)T[C]=0<y?D.i(C+_)>>>y|D.i(C+_+1)<<32-y:D.i(C+_);return new o(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gy=lS.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,Mr=lS.Integer=o}).apply(typeof uS<"u"?uS:typeof self<"u"?self:typeof window<"u"?window:{});var Ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wn={};var my,yy,$s,vy,Va,Dd,_y,Iy,wy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ed=="object"&&Ed];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,A){for(var P=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)P[Ie-2]=arguments[Ie];return d.prototype[b].apply(g,P)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,A=g.length||0;c.length=b+A;for(let P=0;P<A;P++)c[b+P]=g[P]}else c.push(g)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(c){return/^[\s\xa0]*$/.test(c)}function z(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var Re=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function Z(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function C(c){a.setTimeout(()=>{throw c},0)}function I(){var c=vh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Tn{constructor(){this.h=this.g=null}add(d,f){let g=uo.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var uo=new k(()=>new uA,c=>c.reset());class uA{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let lo,ho=!1,vh=new Tn,N_=()=>{let c=a.Promise.resolve(void 0);lo=()=>{c.then(lA)}};var lA=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){C(f)}var d=uo;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ho=!1};function Jn(){this.s=this.s,this.C=this.C}Jn.prototype.s=!1,Jn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Jn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var dA=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function fo(c,d){if(et.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Re){e:{try{re(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:hA[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&fo.aa.h.call(this)}}S(fo,et);var hA={2:"touch",3:"pen",4:"mouse"};fo.prototype.h=function(){fo.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var po="closure_listenable_"+(1e6*Math.random()|0),fA=0;function pA(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++fA,this.da=this.fa=!1}function lc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function dc(c){this.src=c,this.g={},this.h=0}dc.prototype.add=function(c,d,f,g,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var P=Ih(c,d,g,b);return-1<P?(d=c[P],f||(d.fa=!1)):(d=new pA(d,this.src,A,!!g,b),d.fa=f,c.push(d)),d};function _h(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(lc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Ih(c,d,f,g){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return b}return-1}var wh="closure_lm_"+(1e6*Math.random()|0),Eh={};function M_(c,d,f,g,b){if(g&&g.once)return P_(c,d,f,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)M_(c,d[A],f,g,b);return null}return f=Ch(f),c&&c[po]?c.K(d,f,l(g)?!!g.capture:!!g,b):x_(c,d,f,!1,g,b)}function x_(c,d,f,g,b,A){if(!d)throw Error("Invalid event type");var P=l(b)?!!b.capture:!!b,Ie=Th(c);if(Ie||(c[wh]=Ie=new dc(c)),f=Ie.add(d,f,g,P,A),f.proxy)return f;if(g=gA(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)dA||(b=P),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(k_(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function gA(){function c(f){return d.call(c.src,c.listener,f)}let d=mA;return c}function P_(c,d,f,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)P_(c,d[A],f,g,b);return null}return f=Ch(f),c&&c[po]?c.L(d,f,l(g)?!!g.capture:!!g,b):x_(c,d,f,!0,g,b)}function O_(c,d,f,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)O_(c,d[A],f,g,b);else g=l(g)?!!g.capture:!!g,f=Ch(f),c&&c[po]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Ih(A,f,g,b),-1<f&&(lc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Th(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Ih(d,f,g,b)),(f=-1<c?d[c]:null)&&Dh(f))}function Dh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[po])_h(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(k_(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Th(d))?(_h(f,c),f.h==0&&(f.src=null,d[wh]=null)):lc(c)}}}function k_(c){return c in Eh?Eh[c]:Eh[c]="on"+c}function mA(c,d){if(c.da)c=!0;else{d=new fo(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Dh(c),c=f.call(g,d)}return c}function Th(c){return c=c[wh],c instanceof dc?c:null}var bh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ch(c){return typeof c=="function"?c:(c[bh]||(c[bh]=function(d){return c.handleEvent(d)}),c[bh])}function tt(){Jn.call(this),this.i=new dc(this),this.M=this,this.F=null}S(tt,Jn),tt.prototype[po]=!0,tt.prototype.removeEventListener=function(c,d,f,g){O_(this,c,d,f,g)};function ut(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new et(d,c);else if(d instanceof et)d.target=d.target||c;else{var b=d;d=new et(g,c),E(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var P=d.g=f[A];b=hc(P,g,!0,d)&&b}if(P=d.g=c,b=hc(P,g,!0,d)&&b,b=hc(P,g,!1,d)&&b,f)for(A=0;A<f.length;A++)P=d.g=f[A],b=hc(P,g,!1,d)&&b}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)lc(f[g]);delete c.g[d],c.h--}}this.F=null},tt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},tt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function hc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var P=d[A];if(P&&!P.da&&P.capture==f){var Ie=P.listener,Qe=P.ha||P.src;P.fa&&_h(c.i,P),b=Ie.call(Qe,g)!==!1&&b}}return b&&!g.defaultPrevented}function L_(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function F_(c){c.g=L_(()=>{c.g=null,c.i&&(c.i=!1,F_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class yA extends Jn{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:F_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function go(c){Jn.call(this),this.h=c,this.g={}}S(go,Jn);var V_=[];function U_(c){Z(c.g,function(d,f){this.g.hasOwnProperty(f)&&Dh(d)},c),c.g={}}go.prototype.N=function(){go.aa.N.call(this),U_(this)},go.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sh=a.JSON.stringify,vA=a.JSON.parse,_A=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Ah(){}Ah.prototype.h=null;function j_(c){return c.h||(c.h=c.i())}function B_(){}var mo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rh(){et.call(this,"d")}S(Rh,et);function Nh(){et.call(this,"c")}S(Nh,et);var jr={},$_=null;function fc(){return $_=$_||new tt}jr.La="serverreachability";function H_(c){et.call(this,jr.La,c)}S(H_,et);function yo(c){let d=fc();ut(d,new H_(d))}jr.STAT_EVENT="statevent";function z_(c,d){et.call(this,jr.STAT_EVENT,c),this.stat=d}S(z_,et);function lt(c){let d=fc();ut(d,new z_(d,c))}jr.Ma="timingevent";function q_(c,d){et.call(this,jr.Ma,c),this.size=d}S(q_,et);function vo(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function _o(){this.g=!0}_o.prototype.xa=function(){this.g=!1};function IA(c,d,f,g,b,A){c.info(function(){if(c.g)if(A)for(var P="",Ie=A.split("&"),Qe=0;Qe<Ie.length;Qe++){var fe=Ie[Qe].split("=");if(1<fe.length){var nt=fe[0];fe=fe[1];var rt=nt.split("_");P=2<=rt.length&&rt[1]=="type"?P+(nt+"="+fe+"&"):P+(nt+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+P})}function wA(c,d,f,g,b,A,P){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+P})}function Mi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+DA(c,f)+(g?" "+g:"")})}function EA(c,d){c.info(function(){return"TIMEOUT: "+d})}_o.prototype.info=function(){};function DA(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<b.length;P++)b[P]=""}}}}return Sh(f)}catch{return d}}var pc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},G_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mh;function gc(){}S(gc,Ah),gc.prototype.g=function(){return new XMLHttpRequest},gc.prototype.i=function(){return{}},Mh=new gc;function Xn(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new go(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new W_}function W_(){this.i=null,this.g="",this.h=!1}var K_={},xh={};function Ph(c,d,f){c.L=1,c.v=_c(bn(d)),c.m=f,c.P=!0,Q_(c,null)}function Q_(c,d){c.F=Date.now(),mc(c),c.A=bn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),uI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new W_,c.g=SI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new yA(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(V_[0]=b.toString()),b=V_);for(var A=0;A<b.length;A++){var P=M_(f,b[A],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),yo(),IA(c.i,c.u,c.A,c.l,c.R,c.m)}Xn.prototype.ca=function(c){c=c.target;let d=this.M;d&&Cn(c)==3?d.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{let rt=Cn(this.g);var d=this.g.Ba();let Oi=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||mI(this.g)))){this.J||rt!=4||d==7||(d==8||0>=Oi?yo(3):yo(2)),Oh(this);var f=this.g.Z();this.X=f;t:if(Y_(this)){var g=mI(this.g);c="";var b=g.length,A=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Br(this),Io(this);var P="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=f==200,wA(this.i,this.u,this.A,this.l,this.R,rt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,Qe=this.g;if((Ie=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Ie)){var fe=Ie;break t}}fe=null}if(f=fe)Mi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kh(this,f);else{this.o=!1,this.s=3,lt(12),Br(this),Io(this);break e}}if(this.P){f=!0;let qt;for(;!this.J&&this.C<P.length;)if(qt=TA(this,P),qt==xh){rt==4&&(this.s=4,lt(14),f=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==K_){this.s=4,lt(15),Mi(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else Mi(this.i,this.l,qt,null),kh(this,qt);if(Y_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||P.length!=0||this.h.h||(this.s=1,lt(16),f=!1),this.o=this.o&&f,!f)Mi(this.i,this.l,P,"[Invalid Chunked Response]"),Br(this),Io(this);else if(0<P.length&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.ba&&!nt.M&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Bh(nt),nt.M=!0,lt(11))}}else Mi(this.i,this.l,P,null),kh(this,P);rt==4&&Br(this),this.o&&!this.J&&(rt==4?DI(this.j,this):(this.o=!1,mc(this)))}else BA(this.g),f==400&&0<P.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Br(this),Io(this)}}}catch{}finally{}};function Y_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function TA(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?xh:(f=Number(d.substring(f,g)),isNaN(f)?K_:(g+=1,g+f>d.length?xh:(d=d.slice(g,g+f),c.C=g+f,d)))}Xn.prototype.cancel=function(){this.J=!0,Br(this)};function mc(c){c.S=Date.now()+c.I,Z_(c,c.I)}function Z_(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vo(m(c.ba,c),d)}function Oh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Xn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(EA(this.i,this.A),this.L!=2&&(yo(),lt(17)),Br(this),this.s=2,Io(this)):Z_(this,this.S-c)};function Io(c){c.j.G==0||c.J||DI(c.j,c)}function Br(c){Oh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,U_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function kh(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Lh(f.h,c))){if(!c.K&&Lh(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Tc(f),Ec(f);else break e;jh(f),lt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=vo(m(f.Za,f),6e3));if(1>=eI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Hr(f,11)}else if((c.K||f.g==c)&&Tc(f),!H(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let fe=b[d];if(f.T=fe[0],fe=fe[1],f.G==2)if(fe[0]=="c"){f.K=fe[1],f.ia=fe[2];let nt=fe[3];nt!=null&&(f.la=nt,f.j.info("VER="+f.la));let rt=fe[4];rt!=null&&(f.Aa=rt,f.j.info("SVER="+f.Aa));let Oi=fe[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(g=1.5*Oi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let qt=c.g;if(qt){let Cc=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cc){var A=g.h;A.g||Cc.indexOf("spdy")==-1&&Cc.indexOf("quic")==-1&&Cc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Fh(A,A.h),A.h=null))}if(g.D){let $h=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;$h&&(g.ya=$h,Ce(g.I,g.D,$h))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var P=c;if(g.qa=CI(g,g.J?g.ia:null,g.W),P.K){tI(g.h,P);var Ie=P,Qe=g.L;Qe&&(Ie.I=Qe),Ie.B&&(Oh(Ie),mc(Ie)),g.g=P}else wI(g);0<f.i.length&&Dc(f)}else fe[0]!="stop"&&fe[0]!="close"||Hr(f,7);else f.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?Hr(f,7):Uh(f):fe[0]!="noop"&&f.l&&f.l.ta(fe),f.v=0)}}yo(4)}catch{}}var bA=class{constructor(c,d){this.g=c,this.map=d}};function J_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function X_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function eI(c){return c.h?1:c.g?c.g.size:0}function Lh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Fh(c,d){c.g?c.g.add(d):c.h=d}function tI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}J_.prototype.cancel=function(){if(this.i=nI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function nI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function CA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function SA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function rI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=SA(c),g=CA(c),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],f&&f[A],c)}var iI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AA(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var A=c[f].substring(0,g);b=c[f].substring(g+1)}else A=c[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function $r(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof $r){this.h=c.h,yc(this,c.j),this.o=c.o,this.g=c.g,vc(this,c.s),this.l=c.l;var d=c.i,f=new Do;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),sI(this,f),this.m=c.m}else c&&(d=String(c).match(iI))?(this.h=!1,yc(this,d[1]||"",!0),this.o=wo(d[2]||""),this.g=wo(d[3]||"",!0),vc(this,d[4]),this.l=wo(d[5]||"",!0),sI(this,d[6]||"",!0),this.m=wo(d[7]||"")):(this.h=!1,this.i=new Do(null,this.h))}$r.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Eo(d,oI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Eo(d,oI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Eo(f,f.charAt(0)=="/"?MA:NA,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Eo(f,PA)),c.join("")};function bn(c){return new $r(c)}function yc(c,d,f){c.j=f?wo(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function vc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function sI(c,d,f){d instanceof Do?(c.i=d,OA(c.i,c.h)):(f||(d=Eo(d,xA)),c.i=new Do(d,c.h))}function Ce(c,d,f){c.i.set(d,f)}function _c(c){return Ce(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wo(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Eo(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,RA),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function RA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var oI=/[#\/\?@]/g,NA=/[#\?:]/g,MA=/[#\?]/g,xA=/[#\?@]/g,PA=/#/g;function Do(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function er(c){c.g||(c.g=new Map,c.h=0,c.i&&AA(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Do.prototype,t.add=function(c,d){er(this),this.i=null,c=xi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function aI(c,d){er(c),d=xi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function cI(c,d){return er(c),d=xi(c,d),c.g.has(d)}t.forEach=function(c,d){er(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){er(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let A=0;A<b.length;A++)f.push(d[g])}return f},t.V=function(c){er(this);let d=[];if(typeof c=="string")cI(this,c)&&(d=d.concat(this.g.get(xi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return er(this),this.i=null,c=xi(this,c),cI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function uI(c,d,f){aI(c,d),0<f.length&&(c.i=null,c.g.set(xi(c,d),M(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var b=A;P[g]!==""&&(b+="="+encodeURIComponent(String(P[g]))),c.push(b)}}return this.i=c.join("&")};function xi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function OA(c,d){d&&!c.j&&(er(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(aI(this,g),uI(this,b,f))},c)),c.j=d}function kA(c,d){let f=new _o;if(a.Image){let g=new Image;g.onload=v(tr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(tr,f,"TestLoadImage: error",!1,d,g),g.onabort=v(tr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(tr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function LA(c,d){let f=new _o,g=new AbortController,b=setTimeout(()=>{g.abort(),tr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?tr(f,"TestPingServer: ok",!0,d):tr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),tr(f,"TestPingServer: error",!1,d)})}function tr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function FA(){this.g=new _A}function VA(c,d,f){let g=f||"";try{rI(c,function(b,A){let P=b;l(b)&&(P=Sh(b)),d.push(g+A+"="+encodeURIComponent(P))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function To(c){this.l=c.Ub||null,this.j=c.eb||!1}S(To,Ah),To.prototype.g=function(){return new Ic(this.l,this.j)},To.prototype.i=function(c){return function(){return c}}({});function Ic(c,d){tt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ic,tt),t=Ic.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Co(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Co(this)),this.g&&(this.readyState=3,Co(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function lI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?bo(this):Co(this),this.readyState==3&&lI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,bo(this))},t.Qa=function(c){this.g&&(this.response=c,bo(this))},t.ga=function(){this.g&&bo(this)};function bo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Co(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Co(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ic.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function dI(c){let d="";return Z(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Vh(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=dI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ce(c,d,f))}function Ne(c){tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ne,tt);var UA=/^https?$/i,jA=["POST","PUT"];t=Ne.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mh.g(),this.v=this.o?j_(this.o):j_(Mh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){hI(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(jA,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of f)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){hI(this,A)}};function hI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,fI(c),wc(c)}function fI(c){c.A||(c.A=!0,ut(c,"complete"),ut(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ut(this,"complete"),ut(this,"abort"),wc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wc(this,!0)),Ne.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?pI(this):this.bb())},t.bb=function(){pI(this)};function pI(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)L_(c.Ea,0,c);else if(ut(c,"readystatechange"),Cn(c)==4){c.h=!1;try{let P=c.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=P===0){var b=String(c.D).match(iI)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!UA.test(b?b.toLowerCase():"")}f=g}if(f)ut(c,"complete"),ut(c,"success");else{c.m=6;try{var A=2<Cn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",fI(c)}}finally{wc(c)}}}}function wc(c,d){if(c.g){gI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ut(c,"ready");try{f.onreadystatechange=g}catch{}}}function gI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),vA(d)}};function mI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function BA(c){let d={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(H(c[g]))continue;var f=T(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function So(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function yI(c){this.Aa=0,this.i=[],this.j=new _o,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=So("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=So("baseRetryDelayMs",5e3,c),this.cb=So("retryDelaySeedMs",1e4,c),this.Wa=So("forwardChannelMaxRetries",2,c),this.wa=So("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new J_(c&&c.concurrentRequestLimit),this.Da=new FA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=yI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){lt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=CI(this,null,this.W),Dc(this)};function Uh(c){if(vI(c),c.G==3){var d=c.U++,f=bn(c.I);if(Ce(f,"SID",c.K),Ce(f,"RID",d),Ce(f,"TYPE","terminate"),Ao(c,f),d=new Xn(c,c.j,d),d.L=2,d.v=_c(bn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=SI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),mc(d)}bI(c)}function Ec(c){c.g&&(Bh(c),c.g.cancel(),c.g=null)}function vI(c){Ec(c),c.u&&(a.clearTimeout(c.u),c.u=null),Tc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Dc(c){if(!X_(c.h)&&!c.s){c.s=!0;var d=c.Ga;lo||N_(),ho||(lo(),ho=!0),vh.add(d,c),c.B=0}}function $A(c,d){return eI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vo(m(c.Ga,c,d),TI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new Xn(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=II(this,b,d),f=bn(this.I),Ce(f,"RID",c),Ce(f,"CVER",22),this.D&&Ce(f,"X-HTTP-Session-Id",this.D),Ao(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(dI(A)))+"&"+d:this.m&&Vh(f,this.m,A)),Fh(this.h,b),this.Ua&&Ce(f,"TYPE","init"),this.P?(Ce(f,"$req",d),Ce(f,"SID","null"),b.T=!0,Ph(b,f,null)):Ph(b,f,d),this.G=2}}else this.G==3&&(c?_I(this,c):this.i.length==0||X_(this.h)||_I(this))};function _I(c,d){var f;d?f=d.l:f=c.U++;let g=bn(c.I);Ce(g,"SID",c.K),Ce(g,"RID",f),Ce(g,"AID",c.T),Ao(c,g),c.m&&c.o&&Vh(g,c.m,c.o),f=new Xn(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=II(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Fh(c.h,f),Ph(f,g,d)}function Ao(c,d){c.H&&Z(c.H,function(f,g){Ce(d,g,f)}),c.l&&rI({},function(f,g){Ce(d,g,f)})}function II(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let P=["count="+f];A==-1?0<f?(A=b[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let Ie=!0;for(let Qe=0;Qe<f;Qe++){let fe=b[Qe].g,nt=b[Qe].map;if(fe-=A,0>fe)A=Math.max(0,b[Qe].g-100),Ie=!1;else try{VA(nt,P,"req"+fe+"_")}catch{g&&g(nt)}}if(Ie){g=P.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function wI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;lo||N_(),ho||(lo(),ho=!0),vh.add(d,c),c.v=0}}function jh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vo(m(c.Fa,c),TI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,EI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vo(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Ec(this),EI(this))};function Bh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function EI(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=bn(c.qa);Ce(d,"RID","rpc"),Ce(d,"SID",c.K),Ce(d,"AID",c.T),Ce(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ce(d,"TO",c.ja),Ce(d,"TYPE","xmlhttp"),Ao(c,d),c.m&&c.o&&Vh(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=_c(bn(d)),f.m=null,f.P=!0,Q_(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Ec(this),jh(this),lt(19))};function Tc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function DI(c,d){var f=null;if(c.g==d){Tc(c),Bh(c),c.g=null;var g=2}else if(Lh(c.h,d))f=d.D,tI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=fc(),ut(g,new q_(g,f)),Dc(c)}else wI(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&$A(c,d)||g==2&&jh(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Hr(c,5);break;case 4:Hr(c,10);break;case 3:Hr(c,6);break;default:Hr(c,2)}}}function TI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Hr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new $r(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||yc(g,"https"),_c(g),b?kA(g.toString(),f):LA(g.toString(),f)}else lt(2);c.G=0,c.l&&c.l.sa(d),bI(c),vI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function bI(c){if(c.G=0,c.ka=[],c.l){let d=nI(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function CI(c,d,f){var g=f instanceof $r?bn(f):new $r(f);if(g.g!="")d&&(g.g=d+"."+g.g),vc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new $r(null);g&&yc(A,g),d&&(A.g=d),b&&vc(A,b),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Ce(g,f,d),Ce(g,"VER",c.la),Ao(c,g),g}function SI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ne(new To({eb:f})):new Ne(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function AI(){}t=AI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function bc(){}bc.prototype.g=function(c,d){return new Dt(c,d)};function Dt(c,d){tt.call(this),this.g=new yI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!H(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Pi(this)}S(Dt,tt),Dt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dt.prototype.close=function(){Uh(this.g)},Dt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Sh(c),c=f);d.i.push(new bA(d.Ya++,c)),d.G==3&&Dc(d)},Dt.prototype.N=function(){this.g.l=null,delete this.j,Uh(this.g),delete this.g,Dt.aa.N.call(this)};function RI(c){Rh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(RI,Rh);function NI(){Nh.call(this),this.status=1}S(NI,Nh);function Pi(c){this.g=c}S(Pi,AI),Pi.prototype.ua=function(){ut(this.g,"a")},Pi.prototype.ta=function(c){ut(this.g,new RI(c))},Pi.prototype.sa=function(c){ut(this.g,new NI)},Pi.prototype.ra=function(){ut(this.g,"b")},bc.prototype.createWebChannel=bc.prototype.g,Dt.prototype.send=Dt.prototype.o,Dt.prototype.open=Dt.prototype.m,Dt.prototype.close=Dt.prototype.close,wy=Wn.createWebChannelTransport=function(){return new bc},Iy=Wn.getStatEventTarget=function(){return fc()},_y=Wn.Event=jr,Dd=Wn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pc.NO_ERROR=0,pc.TIMEOUT=8,pc.HTTP_ERROR=6,Va=Wn.ErrorCode=pc,G_.COMPLETE="complete",vy=Wn.EventType=G_,B_.EventType=mo,mo.OPEN="a",mo.CLOSE="b",mo.ERROR="c",mo.MESSAGE="d",tt.prototype.listen=tt.prototype.K,$s=Wn.WebChannel=B_,yy=Wn.FetchXmlHttpFactory=To,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,my=Wn.XhrIo=Ne}).apply(typeof Ed<"u"?Ed:typeof self<"u"?self:typeof window<"u"?window:{});var dS="@firebase/firestore";var Ke=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");var ao="10.13.2";var Ei=new Dr("@firebase/firestore");function Ua(){return Ei.logLevel}function V(t,...e){if(Ei.logLevel<=ce.DEBUG){let n=e.map(o_);Ei.debug(`Firestore (${ao}): ${t}`,...n)}}function Qn(t,...e){if(Ei.logLevel<=ce.ERROR){let n=e.map(o_);Ei.error(`Firestore (${ao}): ${t}`,...n)}}function Qs(t,...e){if(Ei.logLevel<=ce.WARN){let n=e.map(o_);Ei.warn(`Firestore (${ao}): ${t}`,...n)}}function o_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function G(t="Unexpected state"){let e=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+t;throw Qn(e),new Error(e)}function De(t,e){t||G()}function Y(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Mt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var vn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Ad=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Cy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}},Sy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Ay=class{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new vn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new Ad(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Ke(e)}},Ry=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ny=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Ry(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}},My=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},xy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new My(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Kj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Rd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Kj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function pe(t,e){return t<e?-1:t>e?1:0}function Ys(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Xe=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var X=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Xe(0,0))}static max(){return new t(new Xe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Nd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(),r===void 0?r=e.length-n:r>e.length-n&&G(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ae=class t extends Nd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Qj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pt=class t extends Nd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Qj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var $=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ae.fromString(e))}static fromName(e){return new t(Ae.fromString(e).popFirst(5))}static empty(){return new t(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ae(e.slice()))}};var Py=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Py.UNKNOWN_ID=-1;function Yj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new Di(i,$.empty(),e)}function Zj(t){return new Di(t.readTime,t.key,-1)}var Di=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(X.min(),$.empty(),-1)}static max(){return new t(X.max(),$.empty(),-1)}};function Jj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}var Xj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Oy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ic(t){return w(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==Xj)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function e2(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sc(t){return t.name==="IndexedDbTransactionError"}var qS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function uh(t){return t==null}function qa(t){return t===0&&1/t==-1/0}function t2(t){return typeof t=="number"&&Number.isInteger(t)&&!qa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var n2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],K6=[...n2,"documentOverlays"],r2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],i2=r2,s2=[...i2,"indexConfiguration","indexState","indexEntries"];var Q6=[...s2,"globals"];function hS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ri(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pe=class t{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gs(this.root,e,this.comparator,!0)}},Gs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},_n=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();let e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}};_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,n,r,i,s){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var at=class t{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Md(this.data.getIterator())}getIteratorFrom(e){return new Md(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Md=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var zt=class t{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new t([])}unionWith(e){let n=new at(Pt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ys(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var xd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ct=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ct.EMPTY_BYTE_STRING=new ct("");var o2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yn(t){if(De(!!t),typeof t=="string"){let e=0,n=o2.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Se(t.seconds),nanos:Se(t.nanos)}}function Se(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Or(t){return typeof t=="string"?ct.fromBase64String(t):ct.fromUint8Array(t)}function a_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function c_(t){let e=t.mapValue.fields.__previous_value__;return a_(e)?c_(e):e}function Ga(t){let e=Yn(t.mapValue.fields.__local_write_time__.timestampValue);return new Xe(e.seconds,e.nanos)}var ky=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Pd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Td={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a_(t)?4:KS(t)?9007199254740991:WS(t)?10:11:G()}function En(t,e){if(t===e)return!0;let n=Ti(t);if(n!==Ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ga(t).isEqual(Ga(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Yn(i.timestampValue),a=Yn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Or(i.bytesValue).isEqual(Or(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Se(i.geoPointValue.latitude)===Se(s.geoPointValue.latitude)&&Se(i.geoPointValue.longitude)===Se(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Se(i.integerValue)===Se(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Se(i.doubleValue),a=Se(s.doubleValue);return o===a?qa(o)===qa(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ys(t.arrayValue.values||[],e.arrayValue.values||[],En);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(hS(o)!==hS(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!En(o[u],a[u])))return!1;return!0}(t,e);default:return G()}}function Wa(t,e){return(t.values||[]).find(n=>En(n,e))!==void 0}function Zs(t,e){if(t===e)return 0;let n=Ti(t),r=Ti(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Se(s.integerValue||s.doubleValue),u=Se(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return fS(t.timestampValue,e.timestampValue);case 4:return fS(Ga(t),Ga(e));case 5:return pe(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Or(s),u=Or(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=pe(a[l],u[l]);if(h!==0)return h}return pe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=pe(Se(s.latitude),Se(o.latitude));return a!==0?a:pe(Se(s.longitude),Se(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pS(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,M=pe(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:pS(v,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Td.mapValue&&o===Td.mapValue)return 0;if(s===Td.mapValue)return 1;if(o===Td.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=pe(u[p],h[p]);if(m!==0)return m;let v=Zs(a[u[p]],l[h[p]]);if(v!==0)return v}return pe(u.length,h.length)}(t.mapValue,e.mapValue);default:throw G()}}function fS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);let n=Yn(t),r=Yn(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function pS(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Zs(n[i],r[i]);if(s)return s}return pe(n.length,r.length)}function Js(t){return Ly(t)}function Ly(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Yn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Or(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return $.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Ly(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Ly(n.fields[o])}`;return i+"}"}(t.mapValue):G()}function gS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fy(t){return!!t&&"integerValue"in t}function u_(t){return!!t&&"arrayValue"in t}function mS(t){return!!t&&"nullValue"in t}function yS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cd(t){return!!t&&"mapValue"in t}function WS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ba(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ri(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ba(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ba(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var xt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ba(n)}setAll(e){let n=Pt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ba(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Cd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return En(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ri(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ba(this.value))}};function QS(t){let e=[];return Ri(t.fields,(n,r)=>{let i=new Pt([n]);if(Cd(r)){let s=QS(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new zt(e)}var en=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,X.min(),X.min(),X.min(),xt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,X.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,X.min(),X.min(),xt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,X.min(),X.min(),xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Xs=class{constructor(e,n){this.position=e,this.inclusive=n}};function vS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=$.comparator($.fromName(o.referenceValue),n.key):r=Zs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function _S(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!En(t.position[n],e.position[n]))return!1;return!0}var bi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function a2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Od=class{},Be=class t extends Od{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Uy(e,n,r):n==="array-contains"?new $y(e,r):n==="in"?new Hy(e,r):n==="not-in"?new zy(e,r):n==="array-contains-any"?new qy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new jy(e,r):new By(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zs(n,this.value)):n!==null&&Ti(this.value)===Ti(n)&&this.matchesComparison(Zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},tn=class t extends Od{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return YS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function YS(t){return t.op==="and"}function ZS(t){return c2(t)&&YS(t)}function c2(t){for(let e of t.filters)if(e instanceof tn)return!1;return!0}function Vy(t){if(t instanceof Be)return t.field.canonicalString()+t.op.toString()+Js(t.value);if(ZS(t))return t.filters.map(e=>Vy(e)).join(",");{let e=t.filters.map(n=>Vy(n)).join(",");return`${t.op}(${e})`}}function JS(t,e){return t instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.field.isEqual(i.field)&&En(r.value,i.value)}(t,e):t instanceof tn?function(r,i){return i instanceof tn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&JS(o,i.filters[a]),!0):!1}(t,e):void G()}function XS(t){return t instanceof Be?function(n){return`${n.field.canonicalString()} ${n.op} ${Js(n.value)}`}(t):t instanceof tn?function(n){return n.op.toString()+" {"+n.getFilters().map(XS).join(" ,")+"}"}(t):"Filter"}var Uy=class extends Be{constructor(e,n,r){super(e,n,r),this.key=$.fromName(r.referenceValue)}matches(e){let n=$.comparator(e.key,this.key);return this.matchesComparison(n)}},jy=class extends Be{constructor(e,n){super(e,"in",n),this.keys=e0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},By=class extends Be{constructor(e,n){super(e,"not-in",n),this.keys=e0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function e0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>$.fromName(r.referenceValue))}var $y=class extends Be{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return u_(n)&&Wa(n.arrayValue,this.value)}},Hy=class extends Be{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Wa(this.value.arrayValue,n)}},zy=class extends Be{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Wa(this.value.arrayValue,n)}},qy=class extends Be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!u_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wa(this.value.arrayValue,r))}};var Gy=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function IS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Gy(t,e,n,r,i,s,o)}function l_(t){let e=Y(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Js(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Js(r)).join(",")),e.ue=n}return e.ue}function d_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!a2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_S(t.startAt,e.startAt)&&_S(t.endAt,e.endAt)}function Wy(t){return $.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var kr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function u2(t,e,n,r,i,s,o,a){return new kr(t,e,n,r,i,s,o,a)}function h_(t){return new kr(t)}function wS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function t0(t){return t.collectionGroup!==null}function $a(t){let e=Y(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new at(Pt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new bi(s,r))}),n.has(Pt.keyField().canonicalString())||e.ce.push(new bi(Pt.keyField(),r))}return e.ce}function In(t){let e=Y(t);return e.le||(e.le=l2(e,$a(t))),e.le}function l2(t,e){if(t.limitType==="F")return IS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new bi(i.field,s)});let n=t.endAt?new Xs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xs(t.startAt.position,t.startAt.inclusive):null;return IS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ky(t,e){let n=t.filters.concat([e]);return new kr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qy(t,e,n){return new kr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lh(t,e){return d_(In(t),In(e))&&t.limitType===e.limitType}function n0(t){return`${l_(In(t))}|lt:${t.limitType}`}function Hs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>XS(i)).join(", ")}]`),uh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Js(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Js(i)).join(",")),`Target(${r})`}(In(t))}; limitType=${t.limitType})`}function dh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):$.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of $a(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=vS(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,$a(r),i)||r.endAt&&!function(o,a,u){let l=vS(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,$a(r),i))}(t,e)}function d2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function r0(t){return(e,n)=>{let r=!1;for(let i of $a(t)){let s=h2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function h2(t,e,n){let r=t.field.isKeyField()?$.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Zs(u,l):G()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}var Lr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ri(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return GS(this.inner)}size(){return this.innerSize}};var f2=new Pe($.comparator);function Zn(){return f2}var i0=new Pe($.comparator);function ja(...t){let e=i0;for(let n of t)e=e.insert(n.key,n);return e}function s0(t){let e=i0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _i(){return Ha()}function o0(){return Ha()}function Ha(){return new Lr(t=>t.toString(),(t,e)=>t.isEqual(e))}var p2=new Pe($.comparator),g2=new at($.comparator);function ue(...t){let e=g2;for(let n of t)e=e.add(n);return e}var m2=new at(pe);function y2(){return m2}function f_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qa(e)?"-0":e}}function a0(t){return{integerValue:""+t}}function v2(t,e){return t2(e)?a0(e):f_(t,e)}var eo=class{constructor(){this._=void 0}};function _2(t,e,n){return t instanceof to?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&a_(s)&&(s=c_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ci?u0(t,e):t instanceof Si?l0(t,e):function(i,s){let o=c0(i,s),a=ES(o)+ES(i.Pe);return Fy(o)&&Fy(i.Pe)?a0(a):f_(i.serializer,a)}(t,e)}function I2(t,e,n){return t instanceof Ci?u0(t,e):t instanceof Si?l0(t,e):n}function c0(t,e){return t instanceof no?function(r){return Fy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var to=class extends eo{},Ci=class extends eo{constructor(e){super(),this.elements=e}};function u0(t,e){let n=d0(e);for(let r of t.elements)n.some(i=>En(i,r))||n.push(r);return{arrayValue:{values:n}}}var Si=class extends eo{constructor(e){super(),this.elements=e}};function l0(t,e){let n=d0(e);for(let r of t.elements)n=n.filter(i=>!En(i,r));return{arrayValue:{values:n}}}var no=class extends eo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function ES(t){return Se(t.integerValue||t.doubleValue)}function d0(t){return u_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function w2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ci&&i instanceof Ci||r instanceof Si&&i instanceof Si?Ys(r.elements,i.elements,En):r instanceof no&&i instanceof no?En(r.Pe,i.Pe):r instanceof to&&i instanceof to}(t.transform,e.transform)}var Yy=class{constructor(e,n){this.version=e,this.transformResults=n}},xr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Sd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ro=class{};function h0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kd(t.key,xr.none()):new Ai(t.key,t.data,xr.none());{let n=t.data,r=xt.empty(),i=new at(Pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Dn(t.key,r,new zt(i.toArray()),xr.none())}}function E2(t,e,n){t instanceof Ai?function(i,s,o){let a=i.value.clone(),u=TS(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Dn?function(i,s,o){if(!Sd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=TS(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(f0(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function za(t,e,n,r){return t instanceof Ai?function(s,o,a,u){if(!Sd(s.precondition,o))return a;let l=s.value.clone(),h=bS(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Dn?function(s,o,a,u){if(!Sd(s.precondition,o))return a;let l=bS(s.fieldTransforms,u,o),h=o.data;return h.setAll(f0(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Sd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function D2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=c0(r.transform,i||null);s!=null&&(n===null&&(n=xt.empty()),n.set(r.field,s))}return n||null}function DS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ys(r,i,(s,o)=>w2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ai=class extends ro{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Dn=class extends ro{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function f0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function TS(t,e,n){let r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,I2(o,a,n[i]))}return r}function bS(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,_2(s,o,e))}return r}var kd=class extends ro{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Zy=class extends ro{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Jy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&E2(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=za(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=za(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=o0();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=h0(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Ys(this.mutations,e.mutations,(n,r)=>DS(n,r))&&Ys(this.baseMutations,e.baseMutations,(n,r)=>DS(n,r))}},Xy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=function(){return p2}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var ev=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var tv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ue,de;function T2(t){switch(t){default:return G();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function p0(t){if(t===void 0)return Qn("GRPC error has no .code"),N.UNKNOWN;switch(t){case Ue.OK:return N.OK;case Ue.CANCELLED:return N.CANCELLED;case Ue.UNKNOWN:return N.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return N.INTERNAL;case Ue.UNAVAILABLE:return N.UNAVAILABLE;case Ue.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Ue.NOT_FOUND:return N.NOT_FOUND;case Ue.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Ue.ABORTED:return N.ABORTED;case Ue.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Ue.DATA_LOSS:return N.DATA_LOSS;default:return G()}}(de=Ue||(Ue={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var CS=null;function b2(){return new TextEncoder}var C2=new Mr([4294967295,4294967295],0);function SS(t){let e=b2().encode(t),n=new gy;return n.update(e),new Uint8Array(n.digest())}function AS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Mr([n,r],0),new Mr([i,s],0)]}var nv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ii(`Invalid padding: ${n}`);if(r<0)throw new Ii(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ii(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ii(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Mr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Mr.fromNumber(r)));return i.compare(C2)===1&&(i=new Mr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=SS(e),[r,i]=AS(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=SS(e),[r,i]=AS(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ii=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ld=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ka.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(X.min(),i,new Pe(pe),Zn(),ue())}},Ka=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ue(),ue(),ue())}};var Ws=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Fd=class{constructor(e,n){this.targetId=e,this.me=n}},Vd=class{constructor(e,n,r=ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Ud=class{constructor(){this.fe=0,this.ge=NS(),this.pe=ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),n=ue(),r=ue();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G()}}),new Ka(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=NS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},rv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zn(),this.qe=RS(),this.Qe=new Pe(pe)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:G()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Wy(s))if(r===0){let o=new $(s.path);this.Ue(n,o,en.newNoDocument(o,X.min()))}else De(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}CS?.et(function(h,p,m,v,S){var M,R,k,H,z,re;let Re={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Z=p.unchangedNames;return Z&&(Re.bloomFilter={applied:S===0,hashCount:(M=Z?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(H=(k=(R=Z?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&H!==void 0?H:0,padding:(re=(z=Z?.bits)===null||z===void 0?void 0:z.padding)!==null&&re!==void 0?re:0,mightContain:D=>{var y;return(y=v?.mightContain(D))!==null&&y!==void 0&&y}}),Re}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Or(r).toUint8Array()}catch(u){if(u instanceof xd)return Qs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new nv(o,i,s)}catch(u){return Qs(u instanceof Ii?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Wy(a.target)){let u=new $(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,en.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ue();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Ld(e,n,this.Qe,this.ke,r);return this.ke=Zn(),this.qe=RS(),this.Qe=new Pe(pe),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ud,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new at(pe),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ud),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function RS(){return new Pe($.comparator)}function NS(){return new Pe($.comparator)}var S2={asc:"ASCENDING",desc:"DESCENDING"},A2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R2={and:"AND",or:"OR"},iv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function sv(t,e){return t.useProto3Json||uh(e)?e:{value:e}}function jd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function N2(t,e){return jd(t,e.toTimestamp())}function wn(t){return De(!!t),X.fromTimestamp(function(n){let r=Yn(n);return new Xe(r.seconds,r.nanos)}(t))}function p_(t,e){return ov(t,e).canonicalString()}function ov(t,e){let n=function(i){return new Ae(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function m0(t){let e=Ae.fromString(t);return De(w0(e)),e}function av(t,e){return p_(t.databaseId,e.path)}function Ey(t,e){let n=m0(e);if(n.get(1)!==t.databaseId.projectId)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $(v0(n))}function y0(t,e){return p_(t.databaseId,e)}function M2(t){let e=m0(t);return e.length===4?Ae.emptyPath():v0(e)}function cv(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function v0(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function MS(t,e,n){return{name:av(t,e),fields:n.value.mapValue.fields}}function x2(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(De(h===void 0||typeof h=="string"),ct.fromBase64String(h||"")):(De(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ct.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?N.UNKNOWN:p0(l.code);return new L(h,l.message||"")}(o);n=new Vd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ey(t,r.document.name),s=wn(r.document.updateTime),o=r.document.createTime?wn(r.document.createTime):X.min(),a=new xt({mapValue:{fields:r.document.fields}}),u=en.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Ws(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Ey(t,r.document),s=r.readTime?wn(r.readTime):X.min(),o=en.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ws([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Ey(t,r.document),s=r.removedTargetIds||[];n=new Ws([],s,i,null)}else{if(!("filter"in e))return G();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new tv(i,s),a=r.targetId;n=new Fd(a,o)}}return n}function P2(t,e){let n;if(e instanceof Ai)n={update:MS(t,e.key,e.value)};else if(e instanceof kd)n={delete:av(t,e.key)};else if(e instanceof Dn)n={update:MS(t,e.key,e.data),updateMask:$2(e.fieldMask)};else{if(!(e instanceof Zy))return G();n={verify:av(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof to)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ci)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Si)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof no)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw G()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:N2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:G()}(t,e.precondition)),n}function O2(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?wn(i.updateTime):wn(s);return o.isEqual(X.min())&&(o=wn(s)),new Yy(o,i.transformResults||[])}(n,e))):[]}function k2(t,e){return{documents:[y0(t,e.path)]}}function L2(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=y0(t,i);let s=function(l){if(l.length!==0)return I0(tn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:zs(m.field),direction:U2(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=sv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function F2(t){let e=M2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){De(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=_0(p);return m instanceof tn&&ZS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(S){return new bi(qs(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,uh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new Xs(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new Xs(v,m)}(n.endAt)),u2(e,i,o,s,a,"F",u,l)}function V2(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=qs(n.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=qs(n.unaryFilter.field);return Be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=qs(n.unaryFilter.field);return Be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=qs(n.unaryFilter.field);return Be.create(o,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(t):t.fieldFilter!==void 0?function(n){return Be.create(qs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tn.create(n.compositeFilter.filters.map(r=>_0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(n.compositeFilter.op))}(t):G()}function U2(t){return S2[t]}function j2(t){return A2[t]}function B2(t){return R2[t]}function zs(t){return{fieldPath:t.canonicalString()}}function qs(t){return Pt.fromServerFormat(t.fieldPath)}function I0(t){return t instanceof Be?function(n){if(n.op==="=="){if(yS(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NAN"}};if(mS(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yS(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NAN"}};if(mS(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(n.field),op:j2(n.op),value:n.value}}}(t):t instanceof tn?function(n){let r=n.getFilters().map(i=>I0(i));return r.length===1?r[0]:{compositeFilter:{op:B2(n.op),filters:r}}}(t):G()}function $2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function w0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Qa=class t{constructor(e,n,r,i,s=X.min(),o=X.min(),a=ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var uv=class{constructor(e){this.ct=e}};function H2(t){let e=F2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qy(e,e.limit,"L"):e}var Bd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Se(e.integerValue));else if("doubleValue"in e){let r=Se(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),qa(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Yn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Or(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?KS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):WS(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):G()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Se(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),$.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Bd.vt=new Bd;var lv=class{constructor(){this.un=new dv}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Di.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Di.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},dv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new at(Ae.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(Ae.comparator)).toArray()}};var Z6=new Uint8Array(0);var yn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(41943040,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);var Ya=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var hv=class{constructor(){this.changes=new Lr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var fv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var pv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&za(r.mutation,i,zt.empty(),Xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){let i=_i();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ja();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=_i();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Zn(),o=Ha(),a=function(){return Ha()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Dn)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),za(h.mutation,l,h.mutation.getFieldMask(),Xe.now())):o.set(l.key,zt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new fv(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Ha(),i=new Pe((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||zt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=o0();h.forEach(m=>{if(!s.has(m)){let v=h0(n.get(m),r.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return $.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):t0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(_i()),a=-1,u=s;return o.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ue())).next(h=>({batchId:a,changes:s0(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $(n)).next(r=>{let i=ja();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=ja();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,u=>{let l=function(p,m){return new kr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,en.newInvalidDocument(h)))});let a=ja();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&za(h.mutation,l,zt.empty(),Xe.now()),dh(n,l)&&(a=a.insert(u,l))}),a})}};var gv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:wn(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:H2(i.bundledQuery),readTime:wn(i.readTime)}}(n)),x.resolve()}};var mv=class{constructor(){this.overlays=new Pe($.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=_i();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=_i(),s=n.length+1,o=new $(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pe((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=_i(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=_i(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ev(n,r));let s=this.Ir.get(n);s===void 0&&(s=ue(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var yv=class{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var Za=class{constructor(){this.Tr=new at(je.Er),this.dr=new at(je.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new je(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new je(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new $(new Ae([])),r=new je(n,e),i=new je(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new $(new Ae([])),r=new je(n,e),i=new je(n,e+1),s=ue();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new je(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},je=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return $.comparator(e.key,n.key)||pe(e.wr,n.wr)}static Ar(e,n){return pe(e.wr,n.wr)||$.comparator(e.key,n.key)}};var vv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new at(je.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Jy(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new je(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new je(n,0),i=new je(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(pe);return n.forEach(i=>{let s=new je(i,0),o=new je(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;$.isDocumentKey(s)||(s=s.child(""));let o=new je(new $(s),0),a=new at(pe);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),x.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let s=new je(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new je(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var _v=class{constructor(e){this.Mr=e,this.docs=function(){return new Pe($.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=Zn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():en.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Zn(),o=n.path,a=new $(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Jj(Zj(h),r)<=0||(i.has(h.key)||dh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){G()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Iv(this)}getSize(e){return x.resolve(this.size)}},Iv=class extends hv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var wv=class{constructor(e){this.persistence=e,this.Nr=new Lr(n=>l_(n),d_),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Za,this.targetCount=0,this.kr=Ya.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Ya(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var Ev=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new qS(0),this.Kr=!1,this.Kr=!0,this.$r=new yv,this.referenceDelegate=e(this),this.Ur=new wv(this),this.indexManager=new lv,this.remoteDocumentCache=function(i){return new _v(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new uv(n),this.Gr=new gv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new vv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new Dv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Dv=class extends Oy{constructor(e){super(),this.currentSequenceNumber=e}},Tv=class t{constructor(e){this.persistence=e,this.Jr=new Za,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw G()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=$.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,X.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var bv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ue(),i=ue();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Cv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Sv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Yb()?8:e2(We())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Cv;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ua()<=ce.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",Hs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(Ua()<=ce.DEBUG&&V("QueryEngine","Query:",Hs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ua()<=ce.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",Hs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,In(n))):x.resolve())}Yi(e,n){if(wS(n))return x.resolve(null);let r=In(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Qy(n,null,"F"),r=In(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ue(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,Qy(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return wS(n)||i.isEqual(X.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?x.resolve(null):(Ua()<=ce.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hs(n)),this.rs(e,o,n,Yj(i,-1)).next(a=>a))})}ts(e,n){let r=new at(r0(e));return n.forEach((i,s)=>{dh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ua()<=ce.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Hs(n)),this.Ji.getDocumentsMatchingQuery(e,n,Di.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Av=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Pe(pe),this._s=new Lr(s=>l_(s),d_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function z2(t,e,n,r){return new Av(t,e,n,r)}function E0(t,e){return w(this,null,function*(){let n=Y(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=ue();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function q2(t,e){let n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),v=x.resolve();return m.forEach(S=>{v=v.next(()=>h.getEntry(u,S)).next(M=>{let R=l.docVersions.get(S);De(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function D0(t){let e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function G2(t,e){let n=Y(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(ct.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(M,R,k){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,v,h)&&a.push(n.Ur.updateTargetData(s,v))});let u=Zn(),l=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(W2(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(X.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function W2(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Zn();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function K2(t,e){let n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Q2(t,e){let n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Qa(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Rv(t,e,n){return w(this,null,function*(){let r=Y(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!sc(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function xS(t,e,n){let r=Y(t),i=X.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=Y(u),m=p._s.get(h);return m!==void 0?x.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,In(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:X.min(),n?s:ue())).next(a=>(Y2(r,d2(e),a),{documents:a,Ts:s})))}function Y2(t,e,n){let r=t.us.get(e)||X.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var $d=class{constructor(){this.activeTargetIds=y2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Nv=class{constructor(){this.so=new $d,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new $d,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Mv=class{_o(e){}shutdown(){}};var Hd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var bd=null;function Dy(){return bd===null?bd=function(){return 268435456+Math.round(2147483648*Math.random())}():bd++,"0x"+bd.toString(16)}var Z2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var xv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ot="WebChannelConnection",Pv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=Dy(),u=this.xo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(V("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Qs("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ao}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=Z2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Dy();return new Promise((o,a)=>{let u=new my;u.setWithCredentials(!0),u.listenOnce(vy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Va.NO_ERROR:let h=u.getResponseJson();V(ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Va.TIMEOUT:V(ot,`RPC '${e}' ${s} timed out`),a(new L(N.DEADLINE_EXCEEDED,"Request time out"));break;case Va.HTTP_ERROR:let p=u.getStatus();if(V(ot,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let S=function(R){let k=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(k)>=0?k:N.UNKNOWN}(v.status);a(new L(S,v.message))}else a(new L(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new L(N.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{V(ot,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);V(ot,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Dy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wy(),a=Iy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new yy({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");V(ot,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,v=!1,S=new xv({Io:R=>{v?V(ot,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(V(ot,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),V(ot,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,k,H)=>{R.listen(k,z=>{try{H(z)}catch(re){setTimeout(()=>{throw re},0)}})};return M(p,$s.EventType.OPEN,()=>{v||(V(ot,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),M(p,$s.EventType.CLOSE,()=>{v||(v=!0,V(ot,`RPC '${e}' stream ${i} transport closed`),S.So())}),M(p,$s.EventType.ERROR,R=>{v||(v=!0,Qs(ot,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new L(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,$s.EventType.MESSAGE,R=>{var k;if(!v){let H=R.data[0];De(!!H);let z=H,re=z.error||((k=z[0])===null||k===void 0?void 0:k.error);if(re){V(ot,`RPC '${e}' stream ${i} received error:`,re);let Re=re.status,Z=function(_){let E=Ue[_];if(E!==void 0)return p0(E)}(Re),D=re.message;Z===void 0&&(Z=N.INTERNAL,D="Unknown error status: "+Re+" with message "+re.message),v=!0,S.So(new L(Z,D)),p.close()}else V(ot,`RPC '${e}' stream ${i} received:`,H),S.bo(H)}}),M(a,_y.STAT_EVENT,R=>{R.stat===Dd.PROXY?V(ot,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Dd.NOPROXY&&V(ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function Ty(){return typeof document<"u"?document:null}function hh(t){return new iv(t,!0)}var zd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var qd=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Qn(n.toString()),Qn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new L(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Ov=class extends qd{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=x2(this.serializer,e),r=function(s){if(!("targetChange"in s))return X.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?X.min():o.readTime?wn(o.readTime):X.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=cv(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=Wy(u)?{documents:k2(s,u)}:{query:L2(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=g0(s,o.resumeToken);let l=sv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(X.min())>0){a.readTime=jd(s,o.snapshotVersion.toTimestamp());let l=sv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=V2(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=cv(this.serializer),n.removeTarget=e,this.a_(n)}},kv=class extends qd{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=O2(e.writeResults,e.commitTime),r=wn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=cv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>P2(this.serializer,r))};this.a_(n)}};var Lv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,ov(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(N.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,ov(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Fv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qn(n),this.D_=!1):V("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Vv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){Ni(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=Y(u);l.L_.add(4),yield oc(l),l.q_.set("Unknown"),l.L_.delete(4),yield fh(l)})}(this))}))}),this.q_=new Fv(r,i)}};function fh(t){return w(this,null,function*(){if(Ni(t))for(let e of t.B_)yield e(!0)})}function oc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function T0(t,e){let n=Y(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),v_(n)?y_(n):co(n).r_()&&m_(n,e))}function g_(t,e){let n=Y(t),r=co(n);n.N_.delete(e),r.r_()&&b0(n,e),n.N_.size===0&&(r.r_()?r.o_():Ni(n)&&n.q_.set("Unknown"))}function m_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}co(t).A_(e)}function b0(t,e){t.Q_.xe(e),co(t).R_(e)}function y_(t){t.Q_=new rv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),co(t).start(),t.q_.v_()}function v_(t){return Ni(t)&&!co(t).n_()&&t.N_.size>0}function Ni(t){return Y(t).L_.size===0}function C0(t){t.Q_=void 0}function J2(t){return w(this,null,function*(){t.q_.set("Online")})}function X2(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{m_(t,e)})})}function eB(t,e){return w(this,null,function*(){C0(t),v_(t)?(t.q_.M_(e),y_(t)):t.q_.set("Unknown")})}function tB(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof Vd&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Gd(t,r)}else if(e instanceof Ws?t.Q_.Ke(e):e instanceof Fd?t.Q_.He(e):t.Q_.We(e),!n.isEqual(X.min()))try{let r=yield D0(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(ct.EMPTY_BYTE_STRING,h.snapshotVersion)),b0(s,u);let p=new Qa(h.target,u,l,h.sequenceNumber);m_(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){V("RemoteStore","Failed to raise snapshot:",r),yield Gd(t,r)}})}function Gd(t,e,n){return w(this,null,function*(){if(!sc(e))throw e;t.L_.add(1),yield oc(t),t.q_.set("Offline"),n||(n=()=>D0(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield fh(t)}))})}function S0(t,e){return e().catch(n=>Gd(t,n,e))}function ph(t){return w(this,null,function*(){let e=Y(t),n=Fr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;nB(e);)try{let i=yield K2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,rB(e,i)}catch(i){yield Gd(e,i)}A0(e)&&R0(e)})}function nB(t){return Ni(t)&&t.O_.length<10}function rB(t,e){t.O_.push(e);let n=Fr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function A0(t){return Ni(t)&&!Fr(t).n_()&&t.O_.length>0}function R0(t){Fr(t).start()}function iB(t){return w(this,null,function*(){Fr(t).p_()})}function sB(t){return w(this,null,function*(){let e=Fr(t);for(let n of t.O_)e.m_(n.mutations)})}function oB(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=Xy.from(r,e,n);yield S0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield ph(t)})}function aB(t,e){return w(this,null,function*(){e&&Fr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return T2(o)&&o!==N.ABORTED}(i.code)){let s=r.O_.shift();Fr(r).s_(),yield S0(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield ph(r)}})}(t,e)),A0(t)&&R0(t)})}function PS(t,e){return w(this,null,function*(){let n=Y(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=Ni(n);n.L_.add(3),yield oc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield fh(n)})}function cB(t,e){return w(this,null,function*(){let n=Y(t);e?(n.L_.delete(2),yield fh(n)):e||(n.L_.add(2),yield oc(n),n.q_.set("Unknown"))})}function co(t){return t.K_||(t.K_=function(n,r,i){let s=Y(n);return s.w_(),new Ov(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:J2.bind(null,t),Ro:X2.bind(null,t),mo:eB.bind(null,t),d_:tB.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),v_(t)?y_(t):t.q_.set("Unknown")):(yield t.K_.stop(),C0(t))}))),t.K_}function Fr(t){return t.U_||(t.U_=function(n,r,i){let s=Y(n);return s.w_(),new kv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:iB.bind(null,t),mo:aB.bind(null,t),f_:sB.bind(null,t),g_:oB.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield ph(t)):(yield t.U_.stop(),t.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Uv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function __(t,e){if(Qn("AsyncQueue",`${e}: ${t}`),sc(t))return new L(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Wd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||$.comparator(n.key,r.key):(n,r)=>$.comparator(n.key,r.key),this.keyedMap=ja(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Kd=class{constructor(){this.W_=new Pe($.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):G():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},io=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Wd.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var jv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Bv=class{constructor(){this.queries=OS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Y(n),s=i.queries;i.queries=OS(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new L(N.ABORTED,"Firestore shutting down"))}};function OS(){return new Lr(t=>n0(t),lh)}function N0(t,e){return w(this,null,function*(){let n=Y(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new jv,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=__(o,`Initialization of query '${Hs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&I_(n)})}function M0(t,e){return w(this,null,function*(){let n=Y(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function uB(t,e){let n=Y(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&I_(n)}function lB(t,e,n){let r=Y(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function I_(t){t.Y_.forEach(e=>{e.next()})}var $v,kS;(kS=$v||($v={})).ea="default",kS.Cache="cache";var Qd=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==$v.Cache}};var Yd=class{constructor(e){this.key=e}},Zd=class{constructor(e){this.key=e}},Hv=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ue(),this.mutatedKeys=ue(),this.Aa=r0(e),this.Ra=new Wd(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Kd,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=dh(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;m&&v?m.data.isEqual(v.data)?S!==M&&(r.track({type:3,doc:v}),R=!0):this.ga(m,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(v?(o=o.add(v),s=M?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(v,S){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return M(v)-M(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new io(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Kd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Zd(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Yd(r))}),n}ba(e){this.Ta=e.Ts,this.da=ue();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return io.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},zv=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},qv=class{constructor(e){this.key=e,this.va=!1}},Gv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Lr(a=>n0(a),lh),this.Ma=new Map,this.xa=new Set,this.Oa=new Pe($.comparator),this.Na=new Map,this.La=new Za,this.Ba={},this.ka=new Map,this.qa=Ya.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function dB(t,e,n=!0){return w(this,null,function*(){let r=F0(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield x0(r,e,n,!0),i})}function hB(t,e){return w(this,null,function*(){let n=F0(t);yield x0(n,e,!0,!1)})}function x0(t,e,n,r){return w(this,null,function*(){let i=yield Q2(t.localStore,In(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield fB(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&T0(t.remoteStore,i),a})}function fB(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,m,v)=>function(M,R,k,H){return w(this,null,function*(){let z=R.view.ma(k);z.ns&&(z=yield xS(M.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,z)));let re=H&&H.targetChanges.get(R.targetId),Re=H&&H.targetMismatches.get(R.targetId)!=null,Z=R.view.applyChanges(z,M.isPrimaryClient,re,Re);return FS(M,R.targetId,Z.wa),Z.snapshot})}(t,p,m,v);let s=yield xS(t.localStore,e,!0),o=new Hv(e,s.Ts),a=o.ma(s.documents),u=Ka.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);FS(t,n,l.wa);let h=new zv(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function pB(t,e,n){return w(this,null,function*(){let r=Y(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!lh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Rv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&g_(r.remoteStore,i.targetId),Wv(r,i.targetId)}).catch(ic))):(Wv(r,i.targetId),yield Rv(r.localStore,i.targetId,!0))})}function gB(t,e){return w(this,null,function*(){let n=Y(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),g_(n.remoteStore,r.targetId))})}function mB(t,e,n){return w(this,null,function*(){let r=DB(t);try{let i=yield function(o,a){let u=Y(o),l=Xe.now(),h=a.reduce((v,S)=>v.add(S.key),ue()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=Zn(),M=ue();return u.cs.getEntries(v,h).next(R=>{S=R,S.forEach((k,H)=>{H.isValidDocument()||(M=M.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,S)).next(R=>{p=R;let k=[];for(let H of a){let z=D2(H,p.get(H.key).overlayedDocument);z!=null&&k.push(new Dn(H.key,z,QS(z.value.mapValue),xr.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,k,a)}).next(R=>{m=R;let k=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(v,R.batchId,k)})}).then(()=>({batchId:m.batchId,changes:s0(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Pe(pe)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield ac(r,i.changes),yield ph(r.remoteStore)}catch(i){let s=__(i,"Failed to persist write");n.reject(s)}})}function P0(t,e){return w(this,null,function*(){let n=Y(t);try{let r=yield G2(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?De(o.va):i.removedDocuments.size>0&&(De(o.va),o.va=!1))}),yield ac(n,r,e)}catch(r){yield ic(r)}})}function LS(t,e,n){let r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=Y(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&I_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yB(t,e,n){return w(this,null,function*(){let r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Pe($.comparator);o=o.insert(s,en.newNoDocument(s,X.min()));let a=ue().add(s),u=new Ld(X.min(),new Map,new Pe(pe),o,a);yield P0(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),w_(r)}else yield Rv(r.localStore,e,!1).then(()=>Wv(r,e,n)).catch(ic)})}function vB(t,e){return w(this,null,function*(){let n=Y(t),r=e.batch.batchId;try{let i=yield q2(n.localStore,e);k0(n,r,null),O0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ac(n,i)}catch(i){yield ic(i)}})}function _B(t,e,n){return w(this,null,function*(){let r=Y(t);try{let i=yield function(o,a){let u=Y(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(De(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);k0(r,e,n),O0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ac(r,i)}catch(i){yield ic(i)}})}function O0(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function k0(t,e,n){let r=Y(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Wv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||L0(t,r)})}function L0(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(g_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),w_(t))}function FS(t,e,n){for(let r of n)r instanceof Yd?(t.La.addReference(r.key,e),IB(t,r)):r instanceof Zd?(V("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||L0(t,r.key)):G()}function IB(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(V("SyncEngine","New document in limbo: "+n),t.xa.add(r),w_(t))}function w_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new $(Ae.fromString(e)),r=t.qa.next();t.Na.set(r,new qv(n)),t.Oa=t.Oa.insert(n,r),T0(t.remoteStore,new Qa(In(h_(n.path)),r,"TargetPurposeLimboResolution",qS.oe))}}function ac(t,e,n){return w(this,null,function*(){let r=Y(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=bv.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=Y(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>x.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!sc(p))throw p;V("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),S=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,M)}}})}(r.localStore,s))})}function wB(t,e){return w(this,null,function*(){let n=Y(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield E0(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new L(N.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ac(n,r.hs)}})}function EB(t,e){let n=Y(t),r=n.Na.get(e);if(r&&r.va)return ue().add(r.key);{let i=ue(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function F0(t){let e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=P0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yB.bind(null,e),e.Ca.d_=uB.bind(null,e.eventManager),e.Ca.$a=lB.bind(null,e.eventManager),e}function DB(t){let e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_B.bind(null,e),e}var Jd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=hh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return z2(this.persistence,new Sv,e.initialUser,this.serializer)}createPersistence(e){return new Ev(Tv.Zr,this.serializer)}createSharedClientState(e){return new Nv}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Kv=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>LS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wB.bind(null,this.syncEngine),yield cB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Bv}()}createDatastore(e){let n=hh(e.databaseInfo.databaseId),r=function(s){return new Pv(s)}(e.databaseInfo);return function(s,o,a,u){return new Lv(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Vv(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>LS(this.syncEngine,n,0),function(){return Hd.D()?new Hd:new Mv}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){let p=new Gv(i,s,o,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=Y(i);V("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield oc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Xd=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Qn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Qv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ke.UNAUTHENTICATED,this.clientId=Rd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){V("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=__(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function by(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield E0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function VS(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield bB(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>PS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>PS(e.remoteStore,i)),t._onlineComponents=e})}function TB(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function bB(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield by(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!TB(n))throw n;Qs("Error using user provided cache. Falling back to memory cache: "+n),yield by(t,new Jd)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield by(t,new Jd);return t._offlineComponents})}function V0(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield VS(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield VS(t,new Kv))),t._onlineComponents})}function CB(t){return V0(t).then(e=>e.syncEngine)}function Yv(t){return w(this,null,function*(){let e=yield V0(t),n=e.eventManager;return n.onListen=dB.bind(null,e.syncEngine),n.onUnlisten=pB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gB.bind(null,e.syncEngine),n})}function SB(t,e,n={}){let r=new vn;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(s,o,a,u,l){let h=new Xd({next:m=>{o.enqueueAndForget(()=>M0(s,p)),m.fromCache&&u.source==="server"?l.reject(new L(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Qd(a,h,{includeMetadataChanges:!0,_a:!0});return N0(s,p)}(yield Yv(t),t.asyncQueue,e,n,r)})),r.promise}function U0(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var US=new Map;function j0(t,e,n){if(!n)throw new L(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AB(t,e,n,r){if(e===!0&&r===!0)throw new L(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jS(t){if(!$.isDocumentKey(t))throw new L(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function BS(t){if($.isDocumentKey(t))throw new L(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G()}function Kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=gh(t);throw new L(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var eh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},so=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Cy;switch(r.type){case"firstParty":return new Ny(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=US.get(n);r&&(V("ComponentProvider","Removing Datastore"),US.delete(n),r.terminate())}(this),Promise.resolve()}};function B0(t,e,n,r={}){var i;let s=(t=Kn(t,so))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ke.MOCK_USER;else{a=zb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ke(l)}t._authCredentials=new Sy(new Ad(a,u))}}var Vr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Et=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Pr=class t extends Vr{constructor(e,n,r){super(e,n,h_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new $(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function $0(t,e,...n){if(t=ze(t),j0("collection","path",e),t instanceof so){let r=Ae.fromString(e,...n);return BS(r),new Pr(t,null,r)}{if(!(t instanceof Et||t instanceof Pr))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ae.fromString(e,...n));return BS(r),new Pr(t.firestore,null,r)}}function E_(t,e,...n){if(t=ze(t),arguments.length===1&&(e=Rd.newId()),j0("doc","path",e),t instanceof so){let r=Ae.fromString(e,...n);return jS(r),new Et(t,null,new $(r))}{if(!(t instanceof Et||t instanceof Pr))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ae.fromString(e,...n));return jS(r),new Et(t.firestore,t instanceof Pr?t.converter:null,new $(r))}}var Zv=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new zd(this,"async_queue_retry"),this.Eu=()=>{let n=Ty();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Ty();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Ty();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new vn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!sc(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Qn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=Uv.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&G()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function $S(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Ur=class extends so{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Zv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||z0(this),this._firestoreClient.terminate()}};function H0(t,e){let n=typeof t=="object"?t:Ls(),r=typeof t=="string"?t:e||"(default)",i=Ca(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Hb("firestore");s&&B0(i,...s)}return i}function D_(t){return t._firestoreClient||z0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function z0(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new ky(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,U0(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Qv(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Ja=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ct.fromBase64String(e))}catch(n){throw new L(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var oo=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Xa=class{constructor(e){this._methodName=e}};var ec=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}};var tc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var RB=/^__.*__$/,Jv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Dn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ai(e,this.data,n,this.fieldTransforms)}},th=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Dn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function q0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}var Xv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return rh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(q0(this.wu)&&RB.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},e_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hh(e)}Nu(e,n,r,i=!1){return new Xv({wu:e,methodName:n,Ou:r,path:Pt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function T_(t){let e=t._freezeSettings(),n=hh(t._databaseId);return new e_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NB(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);b_("Data must be an object, but it was:",o,r);let a=G0(r,o),u,l;if(s.merge)u=new zt(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=t_(e,p,n);if(!o.contains(m))throw new L(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);K0(h,m)||h.push(m)}u=new zt(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new Jv(new xt(a),u,l)}var nh=class t extends Xa{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function MB(t,e,n,r){let i=t.Nu(1,e,n);b_("Data must be an object, but it was:",i,r);let s=[],o=xt.empty();Ri(r,(u,l)=>{let h=C_(e,u,n);l=ze(l);let p=i.Cu(h);if(l instanceof nh)s.push(h);else{let m=cc(l,p);m!=null&&(s.push(h),o.set(h,m))}});let a=new zt(s);return new th(o,a,i.fieldTransforms)}function xB(t,e,n,r,i,s){let o=t.Nu(1,e,n),a=[t_(e,r,n)],u=[i];if(s.length%2!=0)throw new L(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(t_(e,s[m])),u.push(s[m+1]);let l=[],h=xt.empty();for(let m=a.length-1;m>=0;--m)if(!K0(l,a[m])){let v=a[m],S=u[m];S=ze(S);let M=o.Cu(v);if(S instanceof nh)l.push(v);else{let R=cc(S,M);R!=null&&(l.push(v),h.set(v,R))}}let p=new zt(l);return new th(h,p,o.fieldTransforms)}function PB(t,e,n,r=!1){return cc(n,t.Nu(r?4:3,e))}function cc(t,e){if(W0(t=ze(t)))return b_("Unsupported field value:",e,t),G0(t,e);if(t instanceof Xa)return function(r,i){if(!q0(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=cc(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return v2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Xe.fromDate(r);return{timestampValue:jd(i.serializer,s)}}if(r instanceof Xe){let s=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jd(i.serializer,s)}}if(r instanceof ec)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ja)return{bytesValue:g0(i.serializer,r._byteString)};if(r instanceof Et){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:p_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof tc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return f_(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${gh(r)}`)}(t,e)}function G0(t,e){let n={};return GS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ri(t,(r,i)=>{let s=cc(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function W0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof ec||t instanceof Ja||t instanceof Et||t instanceof Xa||t instanceof tc)}function b_(t,e,n){if(!W0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=gh(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function t_(t,e,n){if((e=ze(e))instanceof oo)return e._internalPath;if(typeof e=="string")return C_(t,e);throw rh("Field path arguments must be of type string or ",t,!1,void 0,n)}var OB=new RegExp("[~\\*/\\[\\]]");function C_(t,e,n){if(e.search(OB)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oo(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new L(N.INVALID_ARGUMENT,a+t+u)}function K0(t,e){return t.some(n=>n.isEqual(e))}var ih=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new n_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(mh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},n_=class extends ih{data(){return super.data()}};function mh(t,e){return typeof e=="string"?C_(t,e):e instanceof oo?e._internalPath:e._delegate._internalPath}function Q0(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nc=class{},sh=class extends nc{};function Y0(t,e,...n){let r=[];e instanceof nc&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof r_).length,a=s.filter(u=>u instanceof oh).length;if(o>1||o>0&&a>0)throw new L(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var oh=class t extends sh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return X0(e._query,n),new Vr(e.firestore,e.converter,Ky(e._query,n))}_parse(e){let n=T_(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){zS(p,h);let v=[];for(let S of p)v.push(HS(u,s,S));m={arrayValue:{values:v}}}else m=HS(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||zS(p,h),m=PB(a,o,p,h==="in"||h==="not-in");return Be.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function Z0(t,e,n){let r=e,i=mh("where",t);return oh._create(i,r,n)}var r_=class t extends nc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:tn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)X0(o,u),o=Ky(o,u)}(e._query,n),new Vr(e.firestore,e.converter,Ky(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var i_=class t extends sh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new L(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bi(s,o)}(e._query,this._field,this._direction);return new Vr(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new kr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function J0(t,e="asc"){let n=e,r=mh("orderBy",t);return i_._create(r,n)}function HS(t,e,n){if(typeof(n=ze(n))=="string"){if(n==="")throw new L(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t0(e)&&n.indexOf("/")!==-1)throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ae.fromString(n));if(!$.isDocumentKey(r))throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gS(t,new $(r))}if(n instanceof Et)return gS(t,n._key);throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gh(n)}.`)}function zS(t,e){if(!Array.isArray(t)||t.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function X0(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var s_=class{convertValue(e,n="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw G()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ri(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Se(o.doubleValue));return new tc(s)}convertGeoPoint(e){return new ec(Se(e.latitude),Se(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=c_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ga(e));default:return null}}convertTimestamp(e){let n=Yn(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ae.fromString(e);De(w0(r));let i=new Pd(r.get(1),r.get(3)),s=new $(r.popFirst(5));return i.isEqual(n)||Qn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function kB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var wi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ah=class extends ih{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ks(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(mh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ks=class extends ah{data(e={}){return super.data(e)}},ch=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new wi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ks(this._firestore,this._userDataWriter,r.key,r,new wi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new Ks(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new Ks(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:LB(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function LB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}var rc=class extends s_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ja(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}};function eA(t){t=Kn(t,Vr);let e=Kn(t.firestore,Ur),n=D_(e),r=new rc(e);return Q0(t._query),SB(n,t._query).then(i=>new ch(e,r,t,i))}function tA(t,e,n,...r){t=Kn(t,Et);let i=Kn(t.firestore,Ur),s=T_(i),o;return o=typeof(e=ze(e))=="string"||e instanceof oo?xB(s,"updateDoc",t._key,e,n,r):MB(s,"updateDoc",t._key,e),rA(i,[o.toMutation(t._key,xr.exists(!0))])}function nA(t,e){let n=Kn(t.firestore,Ur),r=E_(t),i=kB(t.converter,e);return rA(n,[NB(T_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,xr.exists(!1))]).then(()=>r)}function S_(t,...e){var n,r,i;t=ze(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||$S(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if($S(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Et)l=Kn(t.firestore,Ur),h=h_(t._key.path),u={next:p=>{e[o]&&e[o](FB(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=Kn(t,Vr);l=Kn(p.firestore,Ur),h=p._query;let m=new rc(l);u={next:v=>{e[o]&&e[o](new ch(l,m,p,v))},error:e[o+1],complete:e[o+2]},Q0(t._query)}return function(m,v,S,M){let R=new Xd(M),k=new Qd(v,R,S);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return N0(yield Yv(m),k)})),()=>{R.za(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return M0(yield Yv(m),k)}))}}(D_(l),h,a,u)}function rA(t,e){return function(r,i){let s=new vn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return mB(yield CB(r),i,s)})),s.promise}(D_(t),e)}function FB(t,e,n){let r=n.docs.get(e._key),i=new rc(t);return new ah(t,i,e._key,r,new wi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ao=i})(Cr),br(new Ht("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Ur(new Ay(r.getProvider("auth-internal")),new xy(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pd(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),qe(dS,"4.7.2",e),qe(dS,"4.7.2","esm2017")})();var yh=function(){return yh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yh.apply(this,arguments)};var jB={includeMetadataChanges:!1};function iA(t,e){return e===void 0&&(e=jB),new oe(function(n){var r=S_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function sA(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:yh(yh({},r),(n={},n[e.idField]=t.id,n))}function oA(t){return iA(t,{includeMetadataChanges:!0}).pipe(ne(function(e){return e.docs}))}function aA(t,e){return e===void 0&&(e={}),oA(t).pipe(ne(function(n){return n.map(function(r){return sA(r,e)})}))}var uc=class{constructor(e){return e}},cA="firestore",A_=class{constructor(){return Sa(cA)}};var R_=new U("angularfire2.firestore-instances");function BB(t,e){let n=nd(cA,t,e);return n&&new uc(n)}function $B(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new uc(r)}}var HB={provide:A_,deps:[[new st,R_]]},zB={provide:uc,useFactory:BB,deps:[[new st,R_],Hn]};function C5(t,...e){return qe("angularfire",fi.full,"fst"),ln([zB,HB,{provide:R_,useFactory:$B(t),multi:!0,deps:[ve,it,Us,pi,[new st,Fa],[new st,Vs],...e]}])}var S5=Je(aA,!0);var A5=Je(nA,!0);var R5=Je($0,!0);var N5=Je(E_,!0);var M5=Je(eA,!0);var x5=Je(H0,!0);var P5=Je(J0,!0);var O5=Je(Y0,!0);var k5=Je(tA,!0);var L5=Je(Z0,!0);export{F as a,Te as b,w as c,dt as d,xe as e,W as f,ne as g,ER as h,j as i,iE as j,B as k,qo as l,U as m,K as n,O as o,vE as p,Wo as q,Ko as r,uN as s,Wu as t,c9 as u,u9 as v,Np as w,it as x,ft as y,nl as z,l9 as A,d9 as B,yt as C,Zp as D,g9 as E,_P as F,xP as G,nT as H,zP as I,qP as J,iT as K,sT as L,eg as M,sO as N,oO as O,m9 as P,oT as Q,y9 as R,gO as S,v9 as T,vO as U,uT as V,_O as W,_9 as X,IO as Y,I9 as Z,dT as _,w9 as $,E9 as aa,D9 as ba,T9 as ca,_s as da,b9 as ea,Is as fa,ET as ga,C9 as ha,rg as ia,ws as ja,Y9 as ka,Z9 as la,J9 as ma,X9 as na,Tk as oa,bW as pa,T1 as qa,wr as ra,WW as sa,KW as ta,Xe as ua,F3 as va,V3 as wa,La as xa,M6 as ya,x6 as za,P6 as Aa,O6 as Ba,uc as Ca,C5 as Da,S5 as Ea,A5 as Fa,R5 as Ga,N5 as Ha,M5 as Ia,x5 as Ja,P5 as Ka,O5 as La,k5 as Ma,L5 as Na};
