var UR=Object.defineProperty,jR=Object.defineProperties;var BR=Object.getOwnPropertyDescriptors;var cw=Object.getOwnPropertySymbols,$R=Object.getPrototypeOf,zR=Object.prototype.hasOwnProperty,HR=Object.prototype.propertyIsEnumerable,qR=Reflect.get;var uw=(t,e,n)=>e in t?UR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V=(t,e)=>{for(var n in e||={})zR.call(e,n)&&uw(t,n,e[n]);if(cw)for(var n of cw(e))HR.call(e,n)&&uw(t,n,e[n]);return t},be=(t,e)=>jR(t,BR(e));var or=(t,e,n)=>qR($R(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function lw(t,e){return Object.is(t,e)}var ze=null,zc=!1,Hc=1,Sn=Symbol("SIGNAL");function fe(t){let e=ze;return ze=t,e}function dw(){return ze}var zo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function lf(t){if(zc)throw new Error("");if(ze===null)return;ze.consumerOnSignalRead(t);let e=ze.nextProducerIndex++;if(Kc(ze),e<ze.producerNode.length&&ze.producerNode[e]!==t&&$o(ze)){let n=ze.producerNode[e];Wc(n,ze.producerIndexOfThis[e])}ze.producerNode[e]!==t&&(ze.producerNode[e]=t,ze.producerIndexOfThis[e]=$o(ze)?gw(t,ze,e):0),ze.producerLastReadVersion[e]=t.version}function GR(){Hc++}function hw(t){if(!($o(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Hc)){if(!t.producerMustRecompute(t)&&!hf(t)){t.dirty=!1,t.lastCleanEpoch=Hc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Hc}}function fw(t){if(t.liveConsumerNode===void 0)return;let e=zc;zc=!0;try{for(let n of t.liveConsumerNode)n.dirty||WR(n)}finally{zc=e}}function pw(){return ze?.consumerAllowSignalWrites!==!1}function WR(t){t.dirty=!0,fw(t),t.consumerMarkedDirty?.(t)}function Gc(t){return t&&(t.nextProducerIndex=0),fe(t)}function df(t,e){if(fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if($o(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Wc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function hf(t){Kc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(hw(n),r!==n.version))return!0}return!1}function ff(t){if(Kc(t),$o(t))for(let e=0;e<t.producerNode.length;e++)Wc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function gw(t,e,n){if(mw(t),t.liveConsumerNode.length===0&&yw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=gw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Wc(t,e){if(mw(t),t.liveConsumerNode.length===1&&yw(t))for(let r=0;r<t.producerNode.length;r++)Wc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Kc(i),i.producerIndexOfThis[r]=e}}function $o(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Kc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function mw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function yw(t){return t.producerNode!==void 0}function vw(t){let e=Object.create(KR);e.computation=t;let n=()=>{if(hw(e),lf(e),e.value===qc)throw e.error;return e.value};return n[Sn]=e,n}var cf=Symbol("UNSET"),uf=Symbol("COMPUTING"),qc=Symbol("ERRORED"),KR=be(V({},zo),{value:cf,dirty:!0,error:null,equal:lw,producerMustRecompute(t){return t.value===cf||t.value===uf},producerRecomputeValue(t){if(t.value===uf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=uf;let n=Gc(t),r;try{r=t.computation()}catch(i){r=qc,t.error=i}finally{df(t,n)}if(e!==cf&&e!==qc&&r!==qc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function QR(){throw new Error}var _w=QR;function Iw(){_w()}function ww(t){_w=t}var YR=null;function Ew(t){let e=Object.create(Dw);e.value=t;let n=()=>(lf(e),e.value);return n[Sn]=e,n}function pf(t,e){pw()||Iw(),t.equal(t.value,e)||(t.value=e,JR(t))}function Tw(t,e){pw()||Iw(),pf(t,e(t.value))}var Dw=be(V({},zo),{equal:lw,value:void 0});function JR(t){t.version++,GR(),fw(t),YR?.()}function X(t){return typeof t=="function"}function Yi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Qc=Yi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ti(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var xe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(s){e=s instanceof Qc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{bw(s)}catch(o){e=e??[],o instanceof Qc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Qc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)bw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ti(n,e)}remove(e){let{_finalizers:n}=this;n&&ti(n,e),e instanceof t&&e._removeParent(this)}};xe.EMPTY=(()=>{let t=new xe;return t.closed=!0,t})();var gf=xe.EMPTY;function Yc(t){return t instanceof xe||t&&"closed"in t&&X(t.remove)&&X(t.add)&&X(t.unsubscribe)}function bw(t){X(t)?t():t.unsubscribe()}var Qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ji={setTimeout(t,e,...n){let{delegate:r}=Ji;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ji;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Jc(t){Ji.setTimeout(()=>{let{onUnhandledError:e}=Qt;if(e)e(t);else throw t})}function Ho(){}var Cw=mf("C",void 0,void 0);function Sw(t){return mf("E",void 0,t)}function Aw(t){return mf("N",t,void 0)}function mf(t,e,n){return{kind:t,value:e,error:n}}var ni=null;function Zi(t){if(Qt.useDeprecatedSynchronousErrorHandling){let e=!ni;if(e&&(ni={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ni;if(ni=null,n)throw r}}else t()}function Rw(t){Qt.useDeprecatedSynchronousErrorHandling&&ni&&(ni.errorThrown=!0,ni.error=t)}var ri=class extends xe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Yc(e)&&e.add(this)):this.destination=eN}static create(e,n,r){return new Xi(e,n,r)}next(e){this.isStopped?vf(Aw(e),this):this._next(e)}error(e){this.isStopped?vf(Sw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?vf(Cw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ZR=Function.prototype.bind;function yf(t,e){return ZR.call(t,e)}var _f=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Zc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Zc(r)}else Zc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Zc(n)}}},Xi=class extends ri{constructor(e,n,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Qt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&yf(e.next,s),error:e.error&&yf(e.error,s),complete:e.complete&&yf(e.complete,s)}):i=e}this.destination=new _f(i)}};function Zc(t){Qt.useDeprecatedSynchronousErrorHandling?Rw(t):Jc(t)}function XR(t){throw t}function vf(t,e){let{onStoppedNotification:n}=Qt;n&&Ji.setTimeout(()=>n(t,e))}var eN={closed:!0,next:Ho,error:XR,complete:Ho};var es=typeof Symbol=="function"&&Symbol.observable||"@@observable";function St(t){return t}function Xc(...t){return If(t)}function If(t){return t.length===0?St:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=nN(n)?n:new Xi(n,r,i);return Zi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Nw(r),new r((i,s)=>{let o=new Xi({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[es](){return this}pipe(...n){return If(n)(this)}toPromise(n){return n=Nw(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Nw(t){var e;return(e=t??Qt.Promise)!==null&&e!==void 0?e:Promise}function tN(t){return t&&X(t.next)&&X(t.error)&&X(t.complete)}function nN(t){return t&&t instanceof ri||tN(t)&&Yc(t)}function wf(t){return X(t?.lift)}function de(t){return e=>{if(wf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(t,e,n,r,i){return new Ef(t,e,n,r,i)}var Ef=class extends ri{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ts(){return de((t,e)=>{let n=null;t._refCount++;let r=ae(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ns=class extends ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,wf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xe;let n=this.getSubject();e.add(this.source.subscribe(ae(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xe.EMPTY)}return e}refCount(){return ts()(this)}};var Mw=Yi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var gt=(()=>{class t extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new eu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Mw}next(n){Zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?gf:(this.currentObservers=null,s.push(n),new xe(()=>{this.currentObservers=null,ti(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ie;return n.source=this,n}}return t.create=(e,n)=>new eu(e,n),t})(),eu=class extends gt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:gf}};var Je=class extends gt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Tf={now(){return(Tf.delegate||Date).now()},delegate:void 0};var tu=class extends xe{constructor(e,n){super()}schedule(e,n=0){return this}};var qo={setInterval(t,e,...n){let{delegate:r}=qo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=qo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var rs=class extends tu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return qo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&qo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ti(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var is=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};is.now=Tf.now;var ss=class extends is{constructor(e,n=is.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Df=new ss(rs);var nu=class extends rs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ru=class extends ss{};var bf=new ru(nu);var At=new ie(t=>t.complete());function xw(t){return t&&X(t.schedule)}function Pw(t){return t[t.length-1]}function iu(t){return X(Pw(t))?t.pop():void 0}function ar(t){return xw(Pw(t))?t.pop():void 0}function Cf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kw(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Ow(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ii(t){return this instanceof ii?(this.v=t,this):new ii(t)}function Lw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(N){return new Promise(function(A,k){s.push([y,N,A,k])>1||u(y,N)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(N){m(s[0][3],N)}}function l(y){y.value instanceof ii?Promise.resolve(y.value.v).then(h,p):m(s[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Fw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ow=="function"?Ow(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var su=t=>t&&typeof t.length=="number"&&typeof t!="function";function ou(t){return X(t?.then)}function au(t){return X(t[es])}function cu(t){return Symbol.asyncIterator&&X(t?.[Symbol.asyncIterator])}function uu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function rN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var lu=rN();function du(t){return X(t?.[lu])}function hu(t){return Lw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ii(n.read());if(i)return yield ii(void 0);yield yield ii(r)}}finally{n.releaseLock()}})}function fu(t){return X(t?.getReader)}function Le(t){if(t instanceof ie)return t;if(t!=null){if(au(t))return iN(t);if(su(t))return sN(t);if(ou(t))return oN(t);if(cu(t))return Vw(t);if(du(t))return aN(t);if(fu(t))return cN(t)}throw uu(t)}function iN(t){return new ie(e=>{let n=t[es]();if(X(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function sN(t){return new ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function oN(t){return new ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Jc)})}function aN(t){return new ie(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Vw(t){return new ie(e=>{uN(t,e).catch(n=>e.error(n))})}function cN(t){return Vw(hu(t))}function uN(t,e){var n,r,i,s;return kw(this,void 0,void 0,function*(){try{for(n=Fw(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Et(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function cr(t,e=0){return de((n,r)=>{n.subscribe(ae(r,i=>Et(r,t,()=>r.next(i),e),()=>Et(r,t,()=>r.complete(),e),i=>Et(r,t,()=>r.error(i),e)))})}function ur(t,e=0){return de((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Uw(t,e){return Le(t).pipe(ur(e),cr(e))}function jw(t,e){return Le(t).pipe(ur(e),cr(e))}function Bw(t,e){return new ie(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function $w(t,e){return new ie(n=>{let r;return Et(n,e,()=>{r=t[lu](),Et(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function pu(t,e){if(!t)throw new Error("Iterable cannot be null");return new ie(n=>{Et(n,e,()=>{let r=t[Symbol.asyncIterator]();Et(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function zw(t,e){return pu(hu(t),e)}function Hw(t,e){if(t!=null){if(au(t))return Uw(t,e);if(su(t))return Bw(t,e);if(ou(t))return jw(t,e);if(cu(t))return pu(t,e);if(du(t))return $w(t,e);if(fu(t))return zw(t,e)}throw uu(t)}function Ae(t,e){return e?Hw(t,e):Le(t)}function W(...t){let e=ar(t);return Ae(t,e)}function os(t,e){let n=X(t)?t:()=>t,r=i=>i.error(n());return new ie(e?i=>e.schedule(r,0,i):r)}function Sf(t){return!!t&&(t instanceof ie||X(t.lift)&&X(t.subscribe))}var An=Yi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(t,e){return de((n,r)=>{let i=0;n.subscribe(ae(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:lN}=Array;function dN(t,e){return lN(e)?t(...e):t(e)}function gu(t){return ee(e=>dN(t,e))}var{isArray:hN}=Array,{getPrototypeOf:fN,prototype:pN,keys:gN}=Object;function mu(t){if(t.length===1){let e=t[0];if(hN(e))return{args:e,keys:null};if(mN(e)){let n=gN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function mN(t){return t&&typeof t=="object"&&fN(t)===pN}function yu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Go(...t){let e=ar(t),n=iu(t),{args:r,keys:i}=mu(t);if(r.length===0)return Ae([],e);let s=new ie(yN(r,e,i?o=>yu(i,o):St));return n?s.pipe(gu(n)):s}function yN(t,e,n=St){return r=>{qw(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)qw(e,()=>{let l=Ae(t[u],e),h=!1;l.subscribe(ae(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function qw(t,e,n){t?Et(n,t,e):e()}function Gw(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?C(N):u.push(N),C=N=>{s&&e.next(N),l++;let A=!1;Le(n(N,h++)).subscribe(ae(e,k=>{i?.(k),s?y(k):e.next(k)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;u.length&&l<r;){let k=u.shift();o?Et(e,o,()=>C(k)):C(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(ae(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Fe(t,e,n=1/0){return X(e)?Fe((r,i)=>ee((s,o)=>e(r,s,i,o))(Le(t(r,i))),n):(typeof e=="number"&&(n=e),de((r,i)=>Gw(r,i,t,n)))}function as(t=1/0){return Fe(St,t)}function Ww(){return as(1)}function cs(...t){return Ww()(Ae(t,ar(t)))}function vu(t){return new ie(e=>{Le(t()).subscribe(e)})}function vN(...t){let e=iu(t),{args:n,keys:r}=mu(t),i=new ie(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Le(n[h]).subscribe(ae(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?yu(r,a):a),s.complete())}))}});return e?i.pipe(gu(e)):i}function mt(t,e){return de((n,r)=>{let i=0;n.subscribe(ae(r,s=>t.call(e,s,i++)&&r.next(s)))})}function lr(t){return de((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ae(n,void 0,void 0,o=>{s=Le(t(o,lr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Kw(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ae(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Rn(t,e){return X(e)?Fe(t,e,1):Fe(t,1)}function dr(t){return de((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Nn(t){return t<=0?()=>At:de((e,n)=>{let r=0;e.subscribe(ae(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Af(t){return ee(()=>t)}function _u(t=_N){return de((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function _N(){return new An}function hr(t){return de((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function on(t,e){let n=arguments.length>=2;return r=>r.pipe(t?mt((i,s)=>t(i,s,r)):St,Nn(1),n?dr(e):_u(()=>new An))}function us(t){return t<=0?()=>At:de((e,n)=>{let r=[];e.subscribe(ae(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Rf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?mt((i,s)=>t(i,s,r)):St,us(1),n?dr(e):_u(()=>new An))}function Iu(t,e){return de(Kw(t,e,arguments.length>=2,!0))}function wu(...t){let e=ar(t);return de((n,r)=>{(e?cs(t,n,e):cs(t,n)).subscribe(r)})}function Tt(t,e){return de((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ae(r,u=>{i?.unsubscribe();let l=0,h=s++;Le(t(u,h)).subscribe(i=ae(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Nf(t){return de((e,n)=>{Le(t).subscribe(ae(n,()=>n.complete(),Ho)),!n.closed&&e.subscribe(n)})}function Ve(t,e,n){let r=X(t)||e||n?{next:t,error:e,complete:n}:t;return r?de((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ae(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):St}var PE="https://g.co/ng/security#xss",z=class extends Error{constructor(e,n){super(nl(e,n)),this.code=e}};function nl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function na(t){return{toString:t}.toString()}var Eu="__parameters__";function IN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function OE(t,e,n){return na(()=>{let r=IN(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(Eu)?u[Eu]:Object.defineProperty(u,Eu,{value:[]})[Eu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Wo=globalThis;function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function wN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function vt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(vt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Qw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var EN=Ee({__forward_ref__:Ee});function kE(t){return t.__forward_ref__=kE,t.toString=function(){return vt(this())},t}function yt(t){return LE(t)?t():t}function LE(t){return typeof t=="function"&&t.hasOwnProperty(EN)&&t.__forward_ref__===kE}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function yi(t){return{providers:t.providers||[],imports:t.imports||[]}}function rl(t){return Yw(t,VE)||Yw(t,UE)}function FE(t){return rl(t)!==null}function Yw(t,e){return t.hasOwnProperty(e)?t[e]:null}function TN(t){let e=t&&(t[VE]||t[UE]);return e||null}function Jw(t){return t&&(t.hasOwnProperty(Zw)||t.hasOwnProperty(DN))?t[Zw]:null}var VE=Ee({\u0275prov:Ee}),Zw=Ee({\u0275inj:Ee}),UE=Ee({ngInjectableDef:Ee}),DN=Ee({ngInjectorDef:Ee}),U=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function jE(t){return t&&!!t.\u0275providers}var bN=Ee({\u0275cmp:Ee}),CN=Ee({\u0275dir:Ee}),SN=Ee({\u0275pipe:Ee}),AN=Ee({\u0275mod:Ee}),xu=Ee({\u0275fac:Ee}),Qo=Ee({__NG_ELEMENT_ID__:Ee}),Xw=Ee({__NG_ENV_ID__:Ee});function il(t){return typeof t=="string"?t:t==null?"":String(t)}function RN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():il(t)}function NN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new z(-200,t)}function jp(t,e){throw new z(-201,!1)}var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{}),qf;function BE(){return qf}function Dt(t){let e=qf;return qf=t,e}function $E(t,e,n){let r=rl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&se.Optional)return null;if(e!==void 0)return e;jp(t,"Injector")}var MN={},Yo=MN,Gf="__NG_DI_FLAG__",Pu="ngTempTokenPath",xN="ngTokenPath",PN=/\n/gm,ON="\u0275",eE="__source",ps;function kN(){return ps}function fr(t){let e=ps;return ps=t,e}function LN(t,e=se.Default){if(ps===void 0)throw new z(-203,!1);return ps===null?$E(t,void 0,e):ps.get(t,e&se.Optional?null:void 0,e)}function H(t,e=se.Default){return(BE()||LN)(yt(t),e)}function x(t,e=se.Default){return H(t,sl(e))}function sl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Wf(t){let e=[];for(let n=0;n<t.length;n++){let r=yt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,s=se.Default;for(let o=0;o<r.length;o++){let a=r[o],u=FN(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(H(i,s))}else e.push(H(r))}return e}function zE(t,e){return t[Gf]=e,t.prototype[Gf]=e,t}function FN(t){return t[Gf]}function VN(t,e,n,r){let i=t[Pu];throw e[eE]&&i.unshift(e[eE]),t.message=UN(`
`+t.message,i,n,r),t[xN]=i,t[Pu]=null,t}function UN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ON?t.slice(2):t;let i=vt(e);if(Array.isArray(e))i=e.map(vt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):vt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(PN,`
  `)}`}var ut=zE(OE("Optional"),8);var Bp=zE(OE("SkipSelf"),4);function ai(t,e){let n=t.hasOwnProperty(xu);return n?t[xu]:null}function jN(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function BN(t){return t.flat(Number.POSITIVE_INFINITY)}function $p(t,e){t.forEach(n=>Array.isArray(n)?$p(n,e):e(n))}function HE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ou(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function $N(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function zN(t,e,n){let r=ra(t,e);return r>=0?t[r|1]=n:(r=~r,$N(t,r,e,n)),r}function Mf(t,e){let n=ra(t,e);if(n>=0)return t[n|1]}function ra(t,e){return HN(t,e,1)}function HN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ms={},Lt=[],ys=new U(""),qE=new U("",-1),GE=new U(""),ku=class{get(e,n=Yo){if(n===Yo){let r=new Error(`NullInjectorError: No provider for ${vt(e)}!`);throw r.name="NullInjectorError",r}return n}},WE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(WE||{}),un=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(un||{}),mr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(mr||{});function qN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Kf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];WN(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function GN(t){return t===3||t===4||t===6}function WN(t){return t.charCodeAt(0)===64}function Jo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?tE(t,n,i,null,e[++r]):tE(t,n,i,null,null))}}return t}function tE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var KE="ng-template";function KN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&qN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(zp(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function zp(t){return t.type===4&&t.value!==KE}function QN(t,e,n){let r=t.type===4&&!n?KE:t.value;return e===r}function YN(t,e,n){let r=4,i=t.attrs,s=i!==null?XN(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Yt(r)&&!Yt(u))return!1;if(o&&Yt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!QN(t,u,n)||u===""&&e.length===1){if(Yt(r))return!1;o=!0}}else if(r&8){if(i===null||!KN(t,i,u,n)){if(Yt(r))return!1;o=!0}}else{let l=e[++a],h=JN(u,i,zp(t),n);if(h===-1){if(Yt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Yt(r))return!1;o=!0}}}}return Yt(r)||o}function Yt(t){return(t&1)===0}function JN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return eM(e,t)}function ZN(t,e,n=!1){for(let r=0;r<e.length;r++)if(YN(t,e[r],n))return!0;return!1}function XN(t){for(let e=0;e<t.length;e++){let n=t[e];if(GN(n))return e}return t.length}function eM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function nE(t,e){return t?":not("+e.trim()+")":e}function tM(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Yt(o)&&(e+=nE(s,i),i=""),r=o,s=s||!Yt(r);n++}return i!==""&&(e+=nE(s,i)),e}function nM(t){return t.map(tM).join(",")}function rM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Yt(i))break;i=s}r++}return{attrs:e,classes:n}}function QE(t){return na(()=>{let e=eT(t),n=be(V({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===WE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||un.Emulated,styles:t.styles||Lt,_:null,schemas:t.schemas||null,tView:null,id:""});tT(n);let r=t.dependencies;return n.directiveDefs=iE(r,!1),n.pipeDefs=iE(r,!0),n.id=oM(n),n})}function iM(t){return yr(t)||YE(t)}function sM(t){return t!==null}function vi(t){return na(()=>({type:t.type,bootstrap:t.bootstrap||Lt,declarations:t.declarations||Lt,imports:t.imports||Lt,exports:t.exports||Lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function rE(t,e){if(t==null)return ms;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=mr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==mr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ss(t){return na(()=>{let e=eT(t);return tT(e),e})}function Hp(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function yr(t){return t[bN]||null}function YE(t){return t[CN]||null}function JE(t){return t[SN]||null}function ZE(t){let e=yr(t)||YE(t)||JE(t);return e!==null?e.standalone:!1}function XE(t,e){let n=t[AN]||null;if(!n&&e===!0)throw new Error(`Type ${vt(t)} does not have '\u0275mod' property.`);return n}function eT(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ms,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Lt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rE(t.inputs,e),outputs:rE(t.outputs),debugInfo:null}}function tT(t){t.features?.forEach(e=>e(t))}function iE(t,e){if(!t)return null;let n=e?JE:iM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(sM)}function oM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ut(t){return{\u0275providers:t}}function aM(...t){return{\u0275providers:nT(!0,t),\u0275fromNgModule:!0}}function nT(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return $p(e,o=>{let a=o;Qf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&rT(i,s),n}function rT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];qp(i,s=>{e(s,r)})}}function Qf(t,e,n,r){if(t=yt(t),!t)return!1;let i=null,s=Jw(t),o=!s&&yr(t);if(!s&&!o){let u=t.ngModule;if(s=Jw(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Qf(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{$p(s.imports,h=>{Qf(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&rT(l,e)}if(!a){let l=ai(i)||(()=>new i);e({provide:i,useFactory:l,deps:Lt},i),e({provide:GE,useValue:i,multi:!0},i),e({provide:ys,useValue:()=>H(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;qp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function qp(t,e){for(let n of t)jE(n)&&(n=n.\u0275providers),Array.isArray(n)?qp(n,e):e(n)}var cM=Ee({provide:String,useValue:Ee});function iT(t){return t!==null&&typeof t=="object"&&cM in t}function uM(t){return!!(t&&t.useExisting)}function lM(t){return!!(t&&t.useFactory)}function vs(t){return typeof t=="function"}function dM(t){return!!t.useClass}var ol=new U(""),Cu={},hM={},xf;function Gp(){return xf===void 0&&(xf=new ku),xf}var _t=class{},Zo=class extends _t{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jf(e,o=>this.processProvider(o)),this.records.set(qE,ls(void 0,this)),i.has("environment")&&this.records.set(_t,ls(void 0,this));let s=this.records.get(ol);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(GE,Lt,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=fr(this),r=Dt(void 0),i;try{return e()}finally{fr(n),Dt(r)}}get(e,n=Yo,r=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Xw))return e[Xw](this);r=sl(r);let i,s=fr(this),o=Dt(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=yM(e)&&rl(e);l&&this.injectableDefInScope(l)?u=ls(Yf(e),Cu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&se.Self?Gp():this.parent;return n=r&se.Optional&&n===Yo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Pu]=a[Pu]||[]).unshift(vt(e)),s)throw a;return VN(a,e,"R3InjectorError",this.source)}else throw a}finally{Dt(o),fr(s)}}resolveInjectorInitializers(){let e=fe(null),n=fr(this),r=Dt(void 0),i;try{let s=this.get(ys,Lt,se.Self);for(let o of s)o()}finally{fr(n),Dt(r),fe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(vt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){e=yt(e);let n=vs(e)?e:yt(e&&e.provide),r=pM(e);if(!vs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ls(void 0,Cu,!0),i.factory=()=>Wf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=fe(null);try{return n.value===Cu&&(n.value=hM,n.value=n.factory()),typeof n.value=="object"&&n.value&&mM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{fe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=yt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Yf(t){let e=rl(t),n=e!==null?e.factory:ai(t);if(n!==null)return n;if(t instanceof U)throw new z(204,!1);if(t instanceof Function)return fM(t);throw new z(204,!1)}function fM(t){if(t.length>0)throw new z(204,!1);let n=TN(t);return n!==null?()=>n.factory(t):()=>new t}function pM(t){if(iT(t))return ls(void 0,t.useValue);{let e=sT(t);return ls(e,Cu)}}function sT(t,e,n){let r;if(vs(t)){let i=yt(t);return ai(i)||Yf(i)}else if(iT(t))r=()=>yt(t.useValue);else if(lM(t))r=()=>t.useFactory(...Wf(t.deps||[]));else if(uM(t))r=()=>H(yt(t.useExisting));else{let i=yt(t&&(t.useClass||t.provide));if(gM(t))r=()=>new i(...Wf(t.deps));else return ai(i)||Yf(i)}return r}function ls(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function gM(t){return!!t.deps}function mM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function yM(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function Jf(t,e){for(let n of t)Array.isArray(n)?Jf(n,e):n&&jE(n)?Jf(n.\u0275providers,e):e(n)}function jt(t,e){t instanceof Zo&&t.assertNotDestroyed();let n,r=fr(t),i=Dt(void 0);try{return e()}finally{fr(r),Dt(i)}}function oT(){return BE()!==void 0||kN()!=null}function vM(t){if(!oT())throw new z(-203,!1)}function _M(t){return typeof t=="function"}var On=0,ne=1,Y=2,at=3,Jt=4,Xt=5,Lu=6,Fu=7,Zt=8,_s=9,ln=10,Oe=11,Xo=12,sE=13,As=14,dn=15,ci=16,ds=17,Mn=18,al=19,aT=20,pr=21,Pf=22,Ft=23,Vt=25,cT=1;var ui=7,Vu=8,Is=9,Rt=10,Uu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Uu||{});function gr(t){return Array.isArray(t)&&typeof t[cT]=="object"}function kn(t){return Array.isArray(t)&&t[cT]===!0}function Wp(t){return(t.flags&4)!==0}function cl(t){return t.componentOffset>-1}function ul(t){return(t.flags&1)===1}function vr(t){return!!t.template}function Zf(t){return(t[Y]&512)!==0}var Xf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function uT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ll(){return lT}function lT(t){return t.type.prototype.ngOnChanges&&(t.setInput=wM),IM}ll.ngInherit=!0;function IM(){let t=hT(this),e=t?.current;if(e){let n=t.previous;if(n===ms)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function wM(t,e,n,r,i){let s=this.declaredInputs[r],o=hT(t)||EM(t,{previous:ms,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Xf(l&&l.currentValue,n,u===ms),uT(t,e,i,n)}var dT="__ngSimpleChanges__";function hT(t){return t[dT]||null}function EM(t,e){return t[dT]=e}var oE=null;var an=function(t,e,n){oE?.(t,e,n)},TM="svg",DM="math";function hn(t){for(;Array.isArray(t);)t=t[On];return t}function fT(t,e){return hn(e[t])}function Bt(t,e){return hn(e[t.index])}function pT(t,e){return t.data[e]}function gT(t,e){return t[e]}function Tr(t,e){let n=e[t];return gr(n)?n:n[On]}function bM(t){return(t[Y]&4)===4}function Kp(t){return(t[Y]&128)===128}function CM(t){return kn(t[at])}function ws(t,e){return e==null?null:t[e]}function mT(t){t[ds]=0}function yT(t){t[Y]&1024||(t[Y]|=1024,Kp(t)&&hl(t))}function SM(t,e){for(;t>0;)e=e[As],t--;return e}function dl(t){return!!(t[Y]&9216||t[Ft]?.dirty)}function ep(t){t[ln].changeDetectionScheduler?.notify(8),t[Y]&64&&(t[Y]|=1024),dl(t)&&hl(t)}function hl(t){t[ln].changeDetectionScheduler?.notify(0);let e=li(t);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!Kp(e)));)e=li(e)}function vT(t,e){if((t[Y]&256)===256)throw new z(911,!1);t[pr]===null&&(t[pr]=[]),t[pr].push(e)}function AM(t,e){if(t[pr]===null)return;let n=t[pr].indexOf(e);n!==-1&&t[pr].splice(n,1)}function li(t){let e=t[at];return kn(e)?e[at]:e}var oe={lFrame:ST(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var _T=!1;function RM(){return oe.lFrame.elementDepthCount}function NM(){oe.lFrame.elementDepthCount++}function MM(){oe.lFrame.elementDepthCount--}function IT(){return oe.bindingsEnabled}function xM(){return oe.skipHydrationRootTNode!==null}function PM(t){return oe.skipHydrationRootTNode===t}function OM(){oe.skipHydrationRootTNode=null}function ce(){return oe.lFrame.lView}function He(){return oe.lFrame.tView}function HW(t){return oe.lFrame.contextLView=t,t[Zt]}function qW(t){return oe.lFrame.contextLView=null,t}function It(){let t=wT();for(;t!==null&&t.type===64;)t=t.parent;return t}function wT(){return oe.lFrame.currentTNode}function kM(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function _i(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function Qp(){return oe.lFrame.isParent}function ET(){oe.lFrame.isParent=!1}function TT(){return _T}function aE(t){_T=t}function ia(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function LM(t){return oe.lFrame.bindingIndex=t}function fl(){return oe.lFrame.bindingIndex++}function FM(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function VM(){return oe.lFrame.inI18n}function UM(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,tp(e)}function jM(){return oe.lFrame.currentDirectiveIndex}function tp(t){oe.lFrame.currentDirectiveIndex=t}function BM(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function DT(){return oe.lFrame.currentQueryIndex}function Yp(t){oe.lFrame.currentQueryIndex=t}function $M(t){let e=t[ne];return e.type===2?e.declTNode:e.type===1?t[Xt]:null}function bT(t,e,n){if(n&se.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&se.Host);)if(i=$M(s),i===null||(s=s[As],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=oe.lFrame=CT();return r.currentTNode=e,r.lView=t,!0}function Jp(t){let e=CT(),n=t[ne];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function CT(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?ST(t):e}function ST(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function AT(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var RT=AT;function Zp(){let t=AT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function zM(t){return(oe.lFrame.contextLView=SM(t,oe.lFrame.contextLView))[Zt]}function Rs(){return oe.lFrame.selectedIndex}function di(t){oe.lFrame.selectedIndex=t}function pl(){let t=oe.lFrame;return pT(t.tView,t.selectedIndex)}function HM(){return oe.lFrame.currentNamespace}var NT=!0;function gl(){return NT}function ml(t){NT=t}function qM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=lT(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function yl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Su(t,e,n){MT(t,e,3,n)}function Au(t,e,n,r){(t[Y]&3)===n&&MT(t,e,n,r)}function Of(t,e){let n=t[Y];(n&3)===e&&(n&=16383,n+=1,t[Y]=n)}function MT(t,e,n,r){let i=r!==void 0?t[ds]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[ds]+=65536),(a<s||s==-1)&&(GM(t,n,e,u),t[ds]=(t[ds]&4294901760)+u+2),u++}function cE(t,e){an(4,t,e);let n=fe(null);try{e.call(t)}finally{fe(n),an(5,t,e)}}function GM(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[Y]>>14<t[ds]>>16&&(t[Y]&3)===e&&(t[Y]+=16384,cE(a,s)):cE(a,s)}var gs=-1,hi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function WM(t){return t instanceof hi}function KM(t){return(t.flags&8)!==0}function QM(t){return(t.flags&16)!==0}var kf={},np=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=sl(r);let i=this.injector.get(e,kf,r);return i!==kf||n===kf?i:this.parentInjector.get(e,n,r)}};function xT(t){return t!==gs}function ju(t){return t&32767}function YM(t){return t>>16}function Bu(t,e){let n=YM(t),r=e;for(;n>0;)r=r[As],n--;return r}var rp=!0;function $u(t){let e=rp;return rp=t,e}var JM=256,PT=JM-1,OT=5,ZM=0,cn={};function XM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Qo)&&(r=n[Qo]),r==null&&(r=n[Qo]=ZM++);let i=r&PT,s=1<<i;e.data[t+(i>>OT)]|=s}function zu(t,e){let n=kT(t,e);if(n!==-1)return n;let r=e[ne];r.firstCreatePass&&(t.injectorIndex=e.length,Lf(r.data,t),Lf(e,null),Lf(r.blueprint,null));let i=Xp(t,e),s=t.injectorIndex;if(xT(i)){let o=ju(i),a=Bu(i,e),u=a[ne].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Lf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function kT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Xp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=jT(i),r===null)return gs;if(n++,i=i[As],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return gs}function ip(t,e,n){XM(t,e,n)}function LT(t,e,n){if(n&se.Optional||t!==void 0)return t;jp(e,"NodeInjector")}function FT(t,e,n,r){if(n&se.Optional&&r===void 0&&(r=null),!(n&(se.Self|se.Host))){let i=t[_s],s=Dt(void 0);try{return i?i.get(e,r,n&se.Optional):$E(e,r,n&se.Optional)}finally{Dt(s)}}return LT(r,e,n)}function VT(t,e,n,r=se.Default,i){if(t!==null){if(e[Y]&2048&&!(r&se.Self)){let o=rx(t,e,n,r,cn);if(o!==cn)return o}let s=UT(t,e,n,r,cn);if(s!==cn)return s}return FT(e,n,r,i)}function UT(t,e,n,r,i){let s=tx(n);if(typeof s=="function"){if(!bT(e,t,r))return r&se.Host?LT(i,n,r):FT(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&se.Optional))jp(n);else return o}finally{RT()}}else if(typeof s=="number"){let o=null,a=kT(t,e),u=gs,l=r&se.Host?e[dn][Xt]:null;for((a===-1||r&se.SkipSelf)&&(u=a===-1?Xp(t,e):e[a+8],u===gs||!lE(r,!1)?a=-1:(o=e[ne],a=ju(u),e=Bu(u,e)));a!==-1;){let h=e[ne];if(uE(s,a,h.data)){let p=ex(a,e,n,o,r,l);if(p!==cn)return p}u=e[a+8],u!==gs&&lE(r,e[ne].data[a+8]===l)&&uE(s,a,e)?(o=h,a=ju(u),e=Bu(u,e)):a=-1}}return i}function ex(t,e,n,r,i,s){let o=e[ne],a=o.data[t+8],u=r==null?cl(a)&&rp:r!=o&&(a.type&3)!==0,l=i&se.Host&&s===a,h=Ru(a,o,n,u,l);return h!==null?fi(e,o,h,a):cn}function Ru(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=o[y];if(y<u&&n===C||y>=u&&C.type===n)return y}if(i){let y=o[u];if(y&&vr(y)&&y.type===n)return u}return null}function fi(t,e,n,r){let i=t[n],s=e.data;if(WM(i)){let o=i;o.resolving&&NN(RN(s[n]));let a=$u(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Dt(o.injectImpl):null,h=bT(t,r,se.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&qM(n,s[n],e)}finally{l!==null&&Dt(l),$u(a),o.resolving=!1,RT()}}return i}function tx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Qo)?t[Qo]:void 0;return typeof e=="number"?e>=0?e&PT:nx:e}function uE(t,e,n){let r=1<<t;return!!(n[e+(t>>OT)]&r)}function lE(t,e){return!(t&se.Self)&&!(t&se.Host&&e)}var oi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return VT(this._tNode,this._lView,e,sl(r),n)}};function nx(){return new oi(It(),ce())}function eg(t){return na(()=>{let e=t.prototype.constructor,n=e[xu]||sp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[xu]||sp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function sp(t){return LE(t)?()=>{let e=sp(yt(t));return e&&e()}:ai(t)}function rx(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Y]&2048&&!(o[Y]&512);){let a=UT(s,o,n,r|se.Self,cn);if(a!==cn)return a;let u=s.parent;if(!u){let l=o[aT];if(l){let h=l.get(n,cn,r);if(h!==cn)return h}u=jT(o),o=o[As]}s=u}return i}function jT(t){let e=t[ne],n=e.type;return n===2?e.declTNode:n===1?t[Xt]:null}function dE(t,e=null,n=null,r){let i=BT(t,e,n,r);return i.resolveInjectorInitializers(),i}function BT(t,e=null,n=null,r,i=new Set){let s=[n||Lt,aM(t)];return r=r||(typeof t=="object"?void 0:vt(t)),new Zo(s,e||Gp(),r||null,i)}var ct=class t{static{this.THROW_IF_NOT_FOUND=Yo}static{this.NULL=new ku}static create(e,n){if(Array.isArray(e))return dE({name:""},n,e,"");{let r=e.name??"";return dE({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=B({token:t,providedIn:"any",factory:()=>H(qE)})}static{this.__NG_ELEMENT_ID__=-1}};var ix=new U("");ix.__NG_ELEMENT_ID__=t=>{let e=It();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(t&se.Optional)return null;throw new z(204,!1)};var sx="ngOriginalError";function Ff(t){return t[sx]}var $T=!0,tg=(()=>{class t{static{this.__NG_ELEMENT_ID__=ox}static{this.__NG_ENV_ID__=n=>n}}return t})(),op=class extends tg{constructor(e){super(),this._lView=e}onDestroy(e){return vT(this._lView,e),()=>AM(this._lView,e)}};function ox(){return new op(ce())}var Ln=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Je(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}}return t})();var ap=class extends gt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,oT()&&(this.destroyRef=x(tg,{optional:!0})??void 0,this.pendingTasks=x(Ln,{optional:!0})??void 0)}emit(e){let n=fe(null);try{super.next(e)}finally{fe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof xe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ot=ap;function Hu(...t){}function zT(t){let e,n;function r(){t=Hu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function hE(t){return queueMicrotask(()=>t()),()=>{t=Hu}}var ng="isAngularZone",qu=ng+"_ID",ax=0,ge=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ot(!1),this.onMicrotaskEmpty=new ot(!1),this.onStable=new ot(!1),this.onError=new ot(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=$T}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,lx(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ng)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new z(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,cx,Hu,Hu);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},cx={};function rg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ux(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){zT(()=>{t.callbackScheduled=!1,cp(t),t.isCheckStableRunning=!0,rg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),cp(t)}function lx(t){let e=()=>{ux(t)},n=ax++;t._inner=t._inner.fork({name:"angular",properties:{[ng]:!0,[qu]:n,[qu+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(dx(u))return r.invokeTask(s,o,a,u);try{return fE(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),pE(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return fE(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!hx(u)&&e(),pE(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,cp(t),rg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function cp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function fE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pE(t){t._nesting--,rg(t)}var up=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ot,this.onMicrotaskEmpty=new ot,this.onStable=new ot,this.onError=new ot}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function dx(t){return HT(t,"__ignore_ng_zone__")}function hx(t){return HT(t,"__scheduler_tick__")}function HT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var xn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ff(e);for(;n&&Ff(n);)n=Ff(n);return n||null}},fx=new U("",{providedIn:"root",factory:()=>{let t=x(ge),e=x(xn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function px(){return Ns(It(),ce())}function Ns(t,e){return new Dr(Bt(t,e))}var Dr=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=px}}return t})();function gx(t){return t instanceof Dr?t.nativeElement:t}function mx(){return this._results[Symbol.iterator]()}var lp=class t{get changes(){return this._changes??=new ot}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=mx)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=BN(e);(this._changesDetected=!jN(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function qT(t){return(t.flags&128)===128}var GT=new Map,yx=0;function vx(){return yx++}function _x(t){GT.set(t[al],t)}function dp(t){GT.delete(t[al])}var gE="__ngContext__";function _r(t,e){gr(e)?(t[gE]=e[al],_x(e)):t[gE]=e}function WT(t){return QT(t[Xo])}function KT(t){return QT(t[Jt])}function QT(t){for(;t!==null&&!kn(t);)t=t[Jt];return t}var hp;function YT(t){hp=t}function Ix(){if(hp!==void 0)return hp;if(typeof document<"u")return document;throw new z(210,!1)}var ig=new U("",{providedIn:"root",factory:()=>wx}),wx="ng",sg=new U(""),$t=new U("",{providedIn:"platform",factory:()=>"unknown"});var og=new U("",{providedIn:"root",factory:()=>Ix().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Ex="h",Tx="b";var Dx=()=>null;function ag(t,e,n=!1){return Dx(t,e,n)}var JT=!1,bx=new U("",{providedIn:"root",factory:()=>JT});var Gu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${PE})`}};function vl(t){return t instanceof Gu?t.changingThisBreaksApplicationSecurity:t}function ZT(t,e){let n=Cx(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${PE})`)}return n===e}function Cx(t){return t instanceof Gu&&t.getTypeName()||null}var Sx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function XT(t){return t=String(t),t.match(Sx)?t:"unsafe:"+t}var cg=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(cg||{});function GW(t){let e=Ax();return e?e.sanitize(cg.URL,t)||"":ZT(t,"URL")?vl(t):XT(il(t))}function Ax(){let t=ce();return t&&t[ln].sanitizer}var Rx=/^>|^->|<!--|-->|--!>|<!-$/g,Nx=/(<|>)/g,Mx="\u200B$1\u200B";function xx(t){return t.replace(Rx,e=>e.replace(Nx,Mx))}function eD(t){return t instanceof Function?t():t}function Px(t){return(t??x(ct)).get($t)==="browser"}var Pn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Pn||{}),Ox;function ug(t,e){return Ox(t,e)}function hs(t,e,n,r,i){if(r!=null){let s,o=!1;kn(r)?s=r:gr(r)&&(o=!0,r=r[On]);let a=hn(r);t===0&&n!==null?i==null?sD(e,n,a):Wu(e,n,a,i||null,!0):t===1&&n!==null?Wu(e,n,a,i||null,!0):t===2?Yx(e,a,o):t===3&&e.destroyNode(a),s!=null&&Zx(e,t,s,n,i)}}function kx(t,e){return t.createText(e)}function Lx(t,e,n){t.setValue(e,n)}function Fx(t,e){return t.createComment(xx(e))}function tD(t,e,n){return t.createElement(e,n)}function Vx(t,e){nD(t,e),e[On]=null,e[Xt]=null}function Ux(t,e,n,r,i,s){r[On]=i,r[Xt]=e,Il(t,r,n,1,i,s)}function nD(t,e){e[ln].changeDetectionScheduler?.notify(9),Il(t,e,e[Oe],2,null,null)}function jx(t){let e=t[Xo];if(!e)return Vf(t[ne],t);for(;e;){let n=null;if(gr(e))n=e[Xo];else{let r=e[Rt];r&&(n=r)}if(!n){for(;e&&!e[Jt]&&e!==t;)gr(e)&&Vf(e[ne],e),e=e[at];e===null&&(e=t),gr(e)&&Vf(e[ne],e),n=e&&e[Jt]}e=n}}function Bx(t,e,n,r){let i=Rt+r,s=n.length;r>0&&(n[i-1][Jt]=e),r<s-Rt?(e[Jt]=n[i],HE(n,Rt+r,e)):(n.push(e),e[Jt]=null),e[at]=n;let o=e[ci];o!==null&&n!==o&&rD(o,e);let a=e[Mn];a!==null&&a.insertView(t),ep(e),e[Y]|=128}function rD(t,e){let n=t[Is],r=e[at];if(gr(r))t[Y]|=Uu.HasTransplantedViews;else{let i=r[at][dn];e[dn]!==i&&(t[Y]|=Uu.HasTransplantedViews)}n===null?t[Is]=[e]:n.push(e)}function lg(t,e){let n=t[Is],r=n.indexOf(e);n.splice(r,1)}function fp(t,e){if(t.length<=Rt)return;let n=Rt+e,r=t[n];if(r){let i=r[ci];i!==null&&i!==t&&lg(i,r),e>0&&(t[n-1][Jt]=r[Jt]);let s=Ou(t,Rt+e);Vx(r[ne],r);let o=s[Mn];o!==null&&o.detachView(s[ne]),r[at]=null,r[Jt]=null,r[Y]&=-129}return r}function iD(t,e){if(!(e[Y]&256)){let n=e[Oe];n.destroyNode&&Il(t,e,n,3,null,null),jx(e)}}function Vf(t,e){if(e[Y]&256)return;let n=fe(null);try{e[Y]&=-129,e[Y]|=256,e[Ft]&&ff(e[Ft]),zx(t,e),$x(t,e),e[ne].type===1&&e[Oe].destroy();let r=e[ci];if(r!==null&&kn(e[at])){r!==e[at]&&lg(r,e);let i=e[Mn];i!==null&&i.detachView(t)}dp(e)}finally{fe(n)}}function $x(t,e){let n=t.cleanup,r=e[Fu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Fu]=null);let i=e[pr];if(i!==null){e[pr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function zx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof hi)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];an(4,a,u);try{u.call(a)}finally{an(5,a,u)}}else{an(4,i,s);try{s.call(i)}finally{an(5,i,s)}}}}}function Hx(t,e,n){return qx(t,e.parent,n)}function qx(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[On];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===un.None||s===un.Emulated)return null}return Bt(r,n)}}function Wu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function sD(t,e,n){t.appendChild(e,n)}function mE(t,e,n,r,i){r!==null?Wu(t,e,n,r,i):sD(t,e,n)}function oD(t,e){return t.parentNode(e)}function Gx(t,e){return t.nextSibling(e)}function Wx(t,e,n){return Qx(t,e,n)}function Kx(t,e,n){return t.type&40?Bt(t,n):null}var Qx=Kx,yE;function _l(t,e,n,r){let i=Hx(t,r,e),s=e[Oe],o=r.parent||e[Xt],a=Wx(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)mE(s,i,n[u],a,!1);else mE(s,i,n,a,!1);yE!==void 0&&yE(s,r,e,n,i)}function Ko(t,e){if(e!==null){let n=e.type;if(n&3)return Bt(e,t);if(n&4)return pp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ko(t,r);{let i=t[e.index];return kn(i)?pp(-1,i):hn(i)}}else{if(n&128)return Ko(t,e.next);if(n&32)return ug(e,t)()||hn(t[e.index]);{let r=aD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=li(t[dn]);return Ko(i,r)}else return Ko(t,e.next)}}}return null}function aD(t,e){if(e!==null){let r=t[dn][Xt],i=e.projection;return r.projection[i]}return null}function pp(t,e){let n=Rt+t+1;if(n<e.length){let r=e[n],i=r[ne].firstChild;if(i!==null)return Ko(r,i)}return e[ui]}function Yx(t,e,n){t.removeChild(null,e,n)}function dg(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&_r(hn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)dg(t,e,n.child,r,i,s,!1),hs(e,t,i,a,s);else if(u&32){let l=ug(n,r),h;for(;h=l();)hs(e,t,i,h,s);hs(e,t,i,a,s)}else u&16?Jx(t,e,r,n,i,s):hs(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Il(t,e,n,r,i,s){dg(n,r,t.firstChild,e,i,s,!1)}function Jx(t,e,n,r,i,s){let o=n[dn],u=o[Xt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];hs(e,t,i,h,s)}else{let l=u,h=o[at];qT(r)&&(l.flags|=128),dg(t,e,l,h,i,s,!0)}}function Zx(t,e,n,r,i){let s=n[ui],o=hn(n);s!==o&&hs(e,t,r,s,i);for(let a=Rt;a<n.length;a++){let u=n[a];Il(u[ne],u,t,e,r,s)}}function Xx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Pn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Pn.Important),t.setStyle(n,r,i,s))}}function eP(t,e,n){t.setAttribute(e,"style",n)}function cD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function uD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Kf(t,e,r),i!==null&&cD(t,e,i),s!==null&&eP(t,e,s)}var Fn={};function WW(t=1){lD(He(),ce(),Rs()+t,!1)}function lD(t,e,n,r){if(!r)if((e[Y]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Su(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Au(e,s,0,n)}di(n)}function Ze(t,e=se.Default){let n=ce();if(n===null)return H(t,e);let r=It();return VT(r,n,yt(t),e)}function dD(){let t="invalid";throw new Error(t)}function hD(t,e,n,r,i,s){let o=fe(null);try{let a=null;i&mr.SignalBased&&(a=e[r][Sn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&mr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):uT(e,a,r,s)}finally{fe(o)}}function tP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)di(~i);else{let s=i,o=n[++r],a=n[++r];UM(o,s);let u=e[s];a(2,u)}}}finally{di(-1)}}function wl(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[On]=i,p[Y]=r|4|128|8|64,(l!==null||t&&t[Y]&2048)&&(p[Y]|=2048),mT(p),p[at]=p[As]=t,p[Zt]=n,p[ln]=o||t&&t[ln],p[Oe]=a||t&&t[Oe],p[_s]=u||t&&t[_s]||null,p[Xt]=s,p[al]=vx(),p[Lu]=h,p[aT]=l,p[dn]=e.type==2?t[dn]:p,p}function sa(t,e,n,r,i){let s=t.data[e];if(s===null)s=nP(t,e,n,r,i),VM()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=kM();s.injectorIndex=o===null?-1:o.injectorIndex}return _i(s,!0),s}function nP(t,e,n,r,i){let s=wT(),o=Qp(),a=o?s:s&&s.parent,u=t.data[e]=cP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function fD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function pD(t,e,n,r,i){let s=Rs(),o=r&2;try{di(-1),o&&e.length>Vt&&lD(t,e,Vt,!1),an(o?2:0,i),n(r,i)}finally{di(s),an(o?3:1,i)}}function hg(t,e,n){if(Wp(e)){let r=fe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{fe(r)}}}function fg(t,e,n){IT()&&(pP(t,e,n,Bt(n,e)),(n.flags&64)===64&&yD(t,e,n))}function pg(t,e,n=Bt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function gD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=gg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function gg(t,e,n,r,i,s,o,a,u,l,h){let p=Vt+r,m=p+i,y=rP(p,m),C=typeof l=="function"?l():l;return y[ne]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function rP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Fn);return n}function iP(t,e,n,r){let s=r.get(bx,JT)||n===un.ShadowDom,o=t.selectRootElement(e,s);return sP(o),o}function sP(t){oP(t)}var oP=()=>null;function aP(t,e,n,r){let i=ID(e);i.push(n),t.firstCreatePass&&wD(t).push(r,i.length-1)}function cP(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return xM()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function vE(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=mr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?_E(r,n,l,a,u):_E(r,n,l,a)}return r}function _E(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function uP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,y=m?m.inputs:null,C=m?m.outputs:null;u=vE(0,p.inputs,h,u,y),l=vE(1,p.outputs,h,l,C);let N=u!==null&&o!==null&&!zp(e)?bP(u,h,o):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function lP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function mg(t,e,n,r,i,s,o,a){let u=Bt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(vg(t,n,h,r,i),cl(e)&&dP(n,e.index)):e.type&3?(r=lP(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function dP(t,e){let n=Tr(e,t);n[Y]&16||(n[Y]|=64)}function yg(t,e,n,r){if(IT()){let i=r===null?null:{"":-1},s=mP(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&mD(t,e,n,o,i,a),i&&yP(n,r,i)}n.mergedAttrs=Jo(n.mergedAttrs,n.attrs)}function mD(t,e,n,r,i,s){for(let l=0;l<r.length;l++)ip(zu(n,e),t,r[l].type);_P(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=fD(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Jo(n.mergedAttrs,h.hostAttrs),IP(t,n,e,u,h),vP(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}uP(t,n,s)}function hP(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;fP(o)!=a&&o.push(a),o.push(n,r,s)}}function fP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function pP(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;cl(n)&&wP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||zu(n,e),_r(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=fi(e,t,a,n);if(_r(l,e),o!==null&&DP(e,a-i,l,u,n,o),vr(u)){let h=Tr(n.index,e);h[Zt]=fi(e,t,a,n)}}}function yD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=jM();try{di(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];tp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&gP(u,l)}}finally{di(-1),tp(o)}}function gP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function mP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(ZN(e,o.selectors,!1))if(r||(r=[]),vr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;gp(t,e,u)}else r.unshift(o),gp(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function gp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function yP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new z(-301,!1);r.push(e[i],s)}}}function vP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vr(e)&&(n[""]=t)}}function _P(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function IP(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=ai(i.type,!0)),o=new hi(s,vr(i),Ze);t.blueprint[r]=o,n[r]=o,hP(t,e,r,fD(t,n,i.hostVars,Fn),i)}function wP(t,e,n){let r=Bt(e,t),i=gD(n),s=t[ln].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=El(t,wl(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function EP(t,e,n,r,i,s){let o=Bt(t,e);TP(e[Oe],o,s,t.value,n,r,i)}function TP(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?il(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function DP(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];hD(r,n,u,l,h,p)}}function bP(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function vD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function _D(t,e){let n=t.contentQueries;if(n!==null){let r=fe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Yp(s),a.contentQueries(2,e[o],o)}}}finally{fe(r)}}}function El(t,e){return t[Xo]?t[sE][Jt]=e:t[Xo]=e,t[sE]=e,e}function mp(t,e,n){Yp(0);let r=fe(null);try{e(t,n)}finally{fe(r)}}function ID(t){return t[Fu]??=[]}function wD(t){return t.cleanup??=[]}function ED(t,e){let n=t[_s],r=n?n.get(xn,null):null;r&&r.handleError(e)}function vg(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];hD(h,l,r,a,u,i)}}function CP(t,e,n){let r=fT(e,t);Lx(t[Oe],r,n)}function SP(t,e){let n=Tr(e,t),r=n[ne];AP(r,n);let i=n[On];i!==null&&n[Lu]===null&&(n[Lu]=ag(i,n[_s])),_g(r,n,n[Zt])}function AP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function _g(t,e,n){Jp(e);try{let r=t.viewQuery;r!==null&&mp(1,r,n);let i=t.template;i!==null&&pD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Mn]?.finishViewCreation(t),t.staticContentQueries&&_D(t,e),t.staticViewQueries&&mp(2,t.viewQuery,n);let s=t.components;s!==null&&RP(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y]&=-5,Zp()}}function RP(t,e){for(let n=0;n<e.length;n++)SP(t,e[n])}function NP(t,e,n,r){let i=fe(null);try{let s=e.tView,a=t[Y]&4096?4096:16,u=wl(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[ci]=l;let h=t[Mn];return h!==null&&(u[Mn]=h.createEmbeddedView(s)),_g(s,u,n),u}finally{fe(i)}}function IE(t,e){return!e||e.firstChild===null||qT(t)}function MP(t,e,n,r=!0){let i=e[ne];if(Bx(i,e,t,n),r){let o=pp(n,t),a=e[Oe],u=oD(a,t[ui]);u!==null&&Ux(i,t[Xt],a,e,u,o)}let s=e[Lu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Ku(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(hn(s)),kn(s)&&xP(s,r);let o=n.type;if(o&8)Ku(t,e,n.child,r);else if(o&32){let a=ug(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=aD(e,n);if(Array.isArray(a))r.push(...a);else{let u=li(e[dn]);Ku(u[ne],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function xP(t,e){for(let n=Rt;n<t.length;n++){let r=t[n],i=r[ne].firstChild;i!==null&&Ku(r[ne],r,i,e)}t[ui]!==t[On]&&e.push(t[ui])}var TD=[];function PP(t){return t[Ft]??OP(t)}function OP(t){let e=TD.pop()??Object.create(LP);return e.lView=t,e}function kP(t){t.lView[Ft]!==t&&(t.lView=null,TD.push(t))}var LP=be(V({},zo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{hl(t.lView)},consumerOnSignalRead(){this.lView[Ft]=this}});function FP(t){let e=t[Ft]??Object.create(VP);return e.lView=t,e}var VP=be(V({},zo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=li(t.lView);for(;e&&!DD(e[ne]);)e=li(e);e&&yT(e)},consumerOnSignalRead(){this.lView[Ft]=this}});function DD(t){return t.type!==2}var UP=100;function bD(t,e=!0,n=0){let r=t[ln],i=r.rendererFactory,s=!1;s||i.begin?.();try{jP(t,n)}catch(o){throw e&&ED(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function jP(t,e){let n=TT();try{aE(!0),yp(t,e);let r=0;for(;dl(t);){if(r===UP)throw new z(103,!1);r++,yp(t,1)}}finally{aE(n)}}function BP(t,e,n,r){let i=e[Y];if((i&256)===256)return;let s=!1,o=!1;!s&&e[ln].inlineEffectRunner?.flush(),Jp(e);let a=!0,u=null,l=null;s||(DD(t)?(l=PP(e),u=Gc(l)):dw()===null?(a=!1,l=FP(e),u=Gc(l)):e[Ft]&&(ff(e[Ft]),e[Ft]=null));try{mT(e),LM(t.bindingStartIndex),n!==null&&pD(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let y=t.preOrderCheckHooks;y!==null&&Su(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Au(e,y,0,null),Of(e,0)}if(o||$P(e),CD(e,0),t.contentQueries!==null&&_D(t,e),!s)if(h){let y=t.contentCheckHooks;y!==null&&Su(e,y)}else{let y=t.contentHooks;y!==null&&Au(e,y,1),Of(e,1)}tP(t,e);let p=t.components;p!==null&&AD(e,p,0);let m=t.viewQuery;if(m!==null&&mp(2,m,r),!s)if(h){let y=t.viewCheckHooks;y!==null&&Su(e,y)}else{let y=t.viewHooks;y!==null&&Au(e,y,2),Of(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Pf]){for(let y of e[Pf])y();e[Pf]=null}s||(e[Y]&=-73)}catch(h){throw s||hl(e),h}finally{l!==null&&(df(l,u),a&&kP(l)),Zp()}}function CD(t,e){for(let n=WT(t);n!==null;n=KT(n))for(let r=Rt;r<n.length;r++){let i=n[r];SD(i,e)}}function $P(t){for(let e=WT(t);e!==null;e=KT(e)){if(!(e[Y]&Uu.HasTransplantedViews))continue;let n=e[Is];for(let r=0;r<n.length;r++){let i=n[r];yT(i)}}}function zP(t,e,n){let r=Tr(e,t);SD(r,n)}function SD(t,e){Kp(t)&&yp(t,e)}function yp(t,e){let r=t[ne],i=t[Y],s=t[Ft],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&hf(s)),o||=!1,s&&(s.dirty=!1),t[Y]&=-9217,o)BP(r,t,r.template,t[Zt]);else if(i&8192){CD(t,1);let a=r.components;a!==null&&AD(t,a,1)}}function AD(t,e,n){for(let r=0;r<e.length;r++)zP(t,e[r],n)}function Ig(t,e){let n=TT()?64:1088;for(t[ln].changeDetectionScheduler?.notify(e);t;){t[Y]|=n;let r=li(t);if(Zf(t)&&!r)return t;t=r}return null}var pi=class{get rootNodes(){let e=this._lView,n=e[ne];return Ku(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zt]}set context(e){this._lView[Zt]=e}get destroyed(){return(this._lView[Y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[at];if(kn(e)){let n=e[Vu],r=n?n.indexOf(this):-1;r>-1&&(fp(e,r),Ou(n,r))}this._attachedToViewContainer=!1}iD(this._lView[ne],this._lView)}onDestroy(e){vT(this._lView,e)}markForCheck(){Ig(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){ep(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,bD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Zf(this._lView),n=this._lView[ci];n!==null&&!e&&lg(n,this._lView),nD(this._lView[ne],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let n=Zf(this._lView),r=this._lView[ci];r!==null&&!n&&rD(r,this._lView),ep(this._lView)}},gi=(()=>{class t{static{this.__NG_ELEMENT_ID__=GP}}return t})(),HP=gi,qP=class extends HP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=NP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new pi(i)}};function GP(){return wg(It(),ce())}function wg(t,e){return t.type&4?new qP(e,t,Ns(t,e)):null}var QW=new RegExp(`^(\\d+)*(${Tx}|${Ex})*(.*)`);var WP=()=>null;function wE(t,e){return WP(t,e)}var Es=class{},Tl=new U("",{providedIn:"root",factory:()=>!1});var RD=new U(""),ND=new U(""),vp=class{},Qu=class{};function KP(t){let e=Error(`No component factory found for ${vt(t)}.`);return e[QP]=t,e}var QP="ngComponent";var _p=class{resolveComponentFactory(e){throw KP(e)}},Ts=class{static{this.NULL=new _p}},Ds=class{},Dl=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>YP()}}return t})();function YP(){let t=ce(),e=It(),n=Tr(e.index,t);return(gr(n)?n:t)[Oe]}var JP=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>null})}}return t})();function Yu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Qw(i,a);else if(s==2){let u=a,l=e[++o];r=Qw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ju=class extends Ts{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=yr(e);return new bs(n,this.ngModule)}};function EE(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:mr.None;e?n.push({propName:o,templateName:r,isSignal:(a&mr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function ZP(t){let e=t.toLowerCase();return e==="svg"?TM:e==="math"?DM:null}var bs=class extends Qu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=EE(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return EE(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=nM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=fe(null);try{i=i||this.ngModule;let o=i instanceof _t?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new np(e,o):e,u=a.get(Ds,null);if(u===null)throw new z(407,!1);let l=a.get(JP,null),h=a.get(Es,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",C=r?iP(m,r,this.componentDef.encapsulation,a):tD(m,y,ZP(y)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let A=null;C!==null&&(A=ag(C,a,!0));let k=gg(0,null,null,1,0,null,null,null,null,null,null),$=wl(null,k,null,N,null,null,p,m,a,null,A);Jp($);let F,Z,_e=null;try{let G=this.componentDef,E,v=null;G.findHostDirectiveDefs?(E=[],v=new Map,G.findHostDirectiveDefs(G,E,v),E.push(G)):E=[G];let _=XP($,C);_e=eO(_,C,G,E,$,p,m),Z=pT(k,Vt),C&&rO(m,G,C,r),n!==void 0&&iO(Z,this.ngContentSelectors,n),F=nO(_e,G,E,v,$,[sO]),_g(k,$,null)}catch(G){throw _e!==null&&dp(_e),dp($),G}finally{Zp()}return new Ip(this.componentType,F,Ns(Z,$),$,Z)}finally{fe(s)}}},Ip=class extends vp{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new pi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;vg(s[ne],s,i,e,n),this.previousInputValues.set(e,n);let o=Tr(this._tNode.index,s);Ig(o,1)}}get injector(){return new oi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function XP(t,e){let n=t[ne],r=Vt;return t[r]=e,sa(n,r,2,"#host",null)}function eO(t,e,n,r,i,s,o){let a=i[ne];tO(r,t,e,o);let u=null;e!==null&&(u=ag(e,i[_s]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=wl(i,gD(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&gp(a,t,r.length-1),El(i,p),i[t.index]=p}function tO(t,e,n,r){for(let i of t)e.mergedAttrs=Jo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Yu(e,e.mergedAttrs,!0),n!==null&&uD(r,n,e))}function nO(t,e,n,r,i,s){let o=It(),a=i[ne],u=Bt(o,i);mD(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=fi(i,a,p,o);_r(m,i)}yD(a,i,o),u&&_r(u,i);let l=fi(i,a,o.directiveStart+o.componentOffset,o);if(t[Zt]=i[Zt]=l,s!==null)for(let h of s)h(l,e);return hg(a,o,i),l}function rO(t,e,n,r){if(r)Kf(t,n,["ng-version","18.2.6"]);else{let{attrs:i,classes:s}=rM(e.selectors[0]);i&&Kf(t,n,i),s&&s.length>0&&cD(t,n,s.join(" "))}}function iO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function sO(){let t=It();yl(ce()[ne],t)}var br=(()=>{class t{static{this.__NG_ELEMENT_ID__=oO}}return t})();function oO(){let t=It();return xD(t,ce())}var aO=br,MD=class extends aO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ns(this._hostTNode,this._hostLView)}get injector(){return new oi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Xp(this._hostTNode,this._hostLView);if(xT(e)){let n=Bu(e,this._hostLView),r=ju(e),i=n[ne].data[r+8];return new oi(i,n)}else return new oi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=TE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Rt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=wE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,IE(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!_M(e),a;if(o)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}let u=o?e:new bs(yr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?l:this.parentInjector).get(_t,null);N&&(s=N)}let h=yr(u.componentType??{}),p=wE(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,s);return this.insertImpl(y.hostView,a,IE(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(CM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[at],l=new MD(u,u[Xt],u[at]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return MP(o,i,s,r),e.attachToViewContainerRef(),HE(Uf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=TE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=fp(this._lContainer,n);r&&(Ou(Uf(this._lContainer),n),iD(r[ne],r))}detach(e){let n=this._adjustIndex(e,-1),r=fp(this._lContainer,n);return r&&Ou(Uf(this._lContainer),n)!=null?new pi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function TE(t){return t[Vu]}function Uf(t){return t[Vu]||(t[Vu]=[])}function xD(t,e){let n,r=e[t.index];return kn(r)?n=r:(n=vD(r,e,null,t),e[t.index]=n,El(e,n)),uO(n,e,t,r),new MD(n,t,e)}function cO(t,e){let n=t[Oe],r=n.createComment(""),i=Bt(e,t),s=oD(n,i);return Wu(n,s,r,Gx(n,i),!1),r}var uO=hO,lO=()=>!1;function dO(t,e,n){return lO(t,e,n)}function hO(t,e,n,r){if(t[ui])return;let i;n.type&8?i=hn(r):i=cO(e,n),t[ui]=i}var wp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Ep=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Eg(e,n).matches!==null&&this.queries[n].setDirty()}},Tp=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=IO(e):this.predicate=e}},Dp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},bp=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,fO(n,s)),this.matchTNodeWithReadOption(e,n,Ru(n,e,s,!1,!1))}else r===gi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ru(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Dr||i===br||i===gi&&n.type&4)this.addMatch(n.index,-2);else{let s=Ru(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function fO(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function pO(t,e){return t.type&11?Ns(t,e):t.type&4?wg(t,e):null}function gO(t,e,n,r){return n===-1?pO(e,t):n===-2?mO(t,e,r):fi(t,t[ne],n,e)}function mO(t,e,n){if(n===Dr)return Ns(e,t);if(n===gi)return wg(e,t);if(n===br)return xD(e,t)}function PD(t,e,n,r){let i=e[Mn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let h=s[l];a.push(gO(e,h,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Cp(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=PD(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],h=e[-u];for(let p=Rt;p<h.length;p++){let m=h[p];m[ci]===m[at]&&Cp(m[ne],m,l,r)}if(h[Is]!==null){let p=h[Is];for(let m=0;m<p.length;m++){let y=p[m];Cp(y[ne],y,l,r)}}}}}return r}function yO(t,e){return t[Mn].queries[e].queryList}function vO(t,e,n){let r=new lp((n&4)===4);return aP(t,e,r,r.destroy),(e[Mn]??=new Ep).queries.push(new wp(r))-1}function _O(t,e,n){let r=He();return r.firstCreatePass&&(wO(r,new Tp(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),vO(r,ce(),e)}function IO(t){return t.split(",").map(e=>e.trim())}function wO(t,e,n){t.queries===null&&(t.queries=new Dp),t.queries.track(new bp(e,n))}function Eg(t,e){return t.queries.getByIndex(e)}function EO(t,e){let n=t[ne],r=Eg(n,e);return r.crossesNgTemplate?Cp(n,t,e,[]):PD(n,t,r,e)}var DE=new Set;function Ii(t){DE.has(t)||(DE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function TO(t){return typeof t=="function"&&t[Sn]!==void 0}function JW(t,e){Ii("NgSignals");let n=Ew(t),r=n[Sn];return e?.equal&&(r.equal=e.equal),n.set=i=>pf(r,i),n.update=i=>Tw(r,i),n.asReadonly=DO.bind(n),n}function DO(){let t=this[Sn];if(t.readonlyFn===void 0){let e=()=>this();e[Sn]=t,t.readonlyFn=e}return t.readonlyFn}function OD(t){return TO(t)&&typeof t.set=="function"}function bO(t){return Object.getPrototypeOf(t.prototype).constructor}function CO(t){let e=bO(t.type),n=!0,r=[t];for(;e;){let i;if(vr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Tu(t.inputs),o.inputTransforms=Tu(t.inputTransforms),o.declaredInputs=Tu(t.declaredInputs),o.outputs=Tu(t.outputs);let a=i.hostBindings;a&&MO(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&RO(t,u),l&&NO(t,l),SO(t,i),wN(t.outputs,i.outputs),vr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===CO&&(n=!1)}}e=Object.getPrototypeOf(e)}AO(r)}function SO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function AO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Jo(i.hostAttrs,n=Jo(n,i.hostAttrs))}}function Tu(t){return t===ms?{}:t===Lt?[]:t}function RO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function NO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function MO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var Ir=class{},ea=class{};var Sp=class extends Ir{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ju(this);let s=XE(e);this._bootstrapComponents=eD(s.bootstrap),this._r3Injector=BT(e,n,[{provide:Ir,useValue:this},{provide:Ts,useValue:this.componentFactoryResolver},...r],vt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ap=class extends ea{constructor(e){super(),this.moduleType=e}create(e){return new Sp(this.moduleType,e,[])}};var Zu=class extends Ir{constructor(e){super(),this.componentFactoryResolver=new Ju(this),this.instance=null;let n=new Zo([...e.providers,{provide:Ir,useValue:this},{provide:Ts,useValue:this.componentFactoryResolver}],e.parent||Gp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function bl(t,e,n=null){return new Zu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function kD(t){return PO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function xO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function PO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Tg(t,e,n){return t[e]=n}function OO(t,e){return t[e]}function wr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function kO(t,e,n,r){let i=wr(t,e,n);return wr(t,e+1,r)||i}function LO(t){return(t.flags&32)===32}function FO(t,e,n,r,i,s,o,a,u){let l=e.consts,h=sa(e,t,4,o||null,a||null);yg(e,n,h,ws(l,u)),yl(e,h);let p=h.tView=gg(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function VO(t,e,n,r,i,s,o,a,u,l){let h=n+Vt,p=e.firstCreatePass?FO(h,e,t,r,i,s,o,a,u):e.data[h];_i(p,!1);let m=jO(e,t,p,n);gl()&&_l(e,t,m,p),_r(m,t);let y=vD(m,t,m,p);return t[h]=y,El(t,y),dO(y,p,t),ul(p)&&fg(e,t,p),u!=null&&pg(t,p,l),p}function UO(t,e,n,r,i,s,o,a){let u=ce(),l=He(),h=ws(l.consts,s);return VO(u,l,t,e,n,r,i,h,o,a),UO}var jO=BO;function BO(t,e,n,r){return ml(!0),e[Oe].createComment("")}var fs=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(fs||{}),LD=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}}return t})(),Rp=class t{constructor(){this.ngZone=x(ge),this.scheduler=x(Es),this.errorHandler=x(xn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[fs.EarlyRead,fs.Write,fs.MixedReadWrite,fs.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}},Np=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Dg(t,e){!e?.injector&&vM(Dg);let n=e?.injector??x(ct);return Px(n)?(Ii("NgAfterNextRender"),zO(t,n,e,!0)):HO}function $O(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function zO(t,e,n,r){let i=e.get(LD);i.impl??=e.get(Rp);let s=n?.phase??fs.MixedReadWrite,o=new Np(i.impl,$O(t,s),r,e.get(tg));return i.impl.register(o),o}var HO={destroy(){}};function FD(t,e,n,r){let i=ce(),s=fl();if(wr(i,s,e)){let o=He(),a=pl();EP(a,i,t,e,n,r)}return FD}function VD(t,e,n,r){return wr(t,fl(),n)?e+il(n)+r:Fn}function Du(t,e){return t<<17|e<<2}function mi(t){return t>>17&32767}function qO(t){return(t&2)==2}function GO(t,e){return t&131071|e<<17}function Mp(t){return t|2}function Cs(t){return(t&131068)>>2}function jf(t,e){return t&-131069|e<<2}function WO(t){return(t&1)===1}function xp(t){return t|1}function KO(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=mi(o),u=Cs(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ra(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=mi(t[a+1]);t[r+1]=Du(m,a),m!==0&&(t[m+1]=jf(t[m+1],r)),t[a+1]=GO(t[a+1],r)}else t[r+1]=Du(a,0),a!==0&&(t[a+1]=jf(t[a+1],r)),a=r;else t[r+1]=Du(u,0),a===0?a=r:t[u+1]=jf(t[u+1],r),u=r;l&&(t[r+1]=Mp(t[r+1])),bE(t,h,r,!0),bE(t,h,r,!1),QO(e,h,t,r,s),o=Du(a,u),s?e.classBindings=o:e.styleBindings=o}function QO(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ra(s,e)>=0&&(n[r+1]=xp(n[r+1]))}function bE(t,e,n,r){let i=t[n+1],s=e===null,o=r?mi(i):Cs(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];YO(u,e)&&(a=!0,t[o+1]=r?xp(l):Mp(l)),o=r?mi(l):Cs(l)}a&&(t[n+1]=r?Mp(i):xp(i))}function YO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ra(t,e)>=0:!1}function JO(t,e,n){let r=ce(),i=fl();if(wr(r,i,e)){let s=He(),o=pl();mg(s,o,r,t,e,r[Oe],n,!1)}return JO}function CE(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";vg(t,n,s[o],o,r)}function ZO(t,e){return XO(t,e,null,!0),ZO}function XO(t,e,n,r){let i=ce(),s=He(),o=FM(2);if(s.firstUpdatePass&&tk(s,t,o,r),e!==Fn&&wr(i,o,e)){let a=s.data[Rs()];ok(s,a,i,i[Oe],t,i[o+1]=ak(e,n),r,o)}}function ek(t,e){return e>=t.expandoStartIndex}function tk(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Rs()],o=ek(t,n);ck(s,r)&&e===null&&!o&&(e=!1),e=nk(i,s,e,r),KO(i,s,e,n,o,r)}}function nk(t,e,n,r){let i=BM(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Bf(null,t,e,n,r),n=ta(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Bf(i,t,e,n,r),s===null){let u=rk(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Bf(null,t,e,u[1],r),u=ta(u,e.attrs,r),ik(t,e,r,u))}else s=sk(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function rk(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Cs(r)!==0)return t[mi(r)]}function ik(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[mi(i)]=r}function sk(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ta(r,o,n)}return ta(r,e.attrs,n)}function Bf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ta(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ta(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),zN(t,o,n?!0:e[++s]))}return t===void 0?null:t}function ok(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=WO(l)?SE(u,e,n,i,Cs(l),o):void 0;if(!Xu(h)){Xu(s)||qO(l)&&(s=SE(u,null,n,i,a,o));let p=fT(Rs(),n);Xx(r,o,p,i,s)}}function SE(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Fn&&(m=p?Lt:void 0);let y=p?Mf(m,r):h===r?m:void 0;if(l&&!Xu(y)&&(y=Mf(u,r)),Xu(y)&&(a=y,o))return a;let C=t[i+1];i=o?mi(C):Cs(C)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Mf(u,r))}return a}function Xu(t){return t!==void 0}function ak(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=vt(vl(t)))),t}function ck(t,e){return(t.flags&(e?8:16))!==0}function uk(t,e,n,r,i,s){let o=e.consts,a=ws(o,i),u=sa(e,t,2,r,a);return yg(e,n,u,ws(o,s)),u.attrs!==null&&Yu(u,u.attrs,!1),u.mergedAttrs!==null&&Yu(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function UD(t,e,n,r){let i=ce(),s=He(),o=Vt+t,a=i[Oe],u=s.firstCreatePass?uk(o,s,i,e,n,r):s.data[o],l=lk(s,i,u,a,e,t);i[o]=l;let h=ul(u);return _i(u,!0),uD(a,l,u),!LO(u)&&gl()&&_l(s,i,l,u),RM()===0&&_r(l,i),NM(),h&&(fg(s,i,u),hg(s,u,i)),r!==null&&pg(i,u),UD}function jD(){let t=It();Qp()?ET():(t=t.parent,_i(t,!1));let e=t;PM(e)&&OM(),MM();let n=He();return n.firstCreatePass&&(yl(n,t),Wp(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&KM(e)&&CE(n,e,ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&QM(e)&&CE(n,e,ce(),e.stylesWithoutHost,!1),jD}function bg(t,e,n,r){return UD(t,e,n,r),jD(),bg}var lk=(t,e,n,r,i,s)=>(ml(!0),tD(r,i,HM()));function dk(t,e,n,r,i){let s=e.consts,o=ws(s,r),a=sa(e,t,8,"ng-container",o);o!==null&&Yu(a,o,!0);let u=ws(s,i);return yg(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function hk(t,e,n){let r=ce(),i=He(),s=t+Vt,o=i.firstCreatePass?dk(s,i,r,e,n):i.data[s];_i(o,!0);let a=pk(i,r,o,t);return r[s]=a,gl()&&_l(i,r,a,o),_r(a,r),ul(o)&&(fg(i,r,o),hg(i,o,r)),n!=null&&pg(r,o),hk}function fk(){let t=It(),e=He();return Qp()?ET():(t=t.parent,_i(t,!1)),e.firstCreatePass&&(yl(e,t),Wp(t)&&e.queries.elementEnd(t)),fk}var pk=(t,e,n,r)=>(ml(!0),Fx(e[Oe],""));function ZW(){return ce()}var si=void 0;function gk(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var mk=["en",[["a","p"],["AM","PM"],si],[["AM","PM"],si,si],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],si,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],si,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",si,"{1} 'at' {0}",si],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",gk],$f={};function zt(t){let e=yk(t),n=AE(e);if(n)return n;let r=e.split("-")[0];if(n=AE(r),n)return n;if(r==="en")return mk;throw new z(701,!1)}function AE(t){return t in $f||($f[t]=Wo.ng&&Wo.ng.common&&Wo.ng.common.locales&&Wo.ng.common.locales[t]),$f[t]}var ke=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ke||{});function yk(t){return t.toLowerCase().replace(/_/g,"-")}var el="en-US";var vk=el;function _k(t){typeof t=="string"&&(vk=t.toLowerCase().replace(/_/g,"-"))}var Ik=(t,e,n)=>{};function BD(t,e,n,r){let i=ce(),s=He(),o=It();return $D(s,i,i[Oe],o,t,e,r),BD}function wk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Fu],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function $D(t,e,n,r,i,s,o){let a=ul(r),l=t.firstCreatePass&&wD(t),h=e[Zt],p=ID(e),m=!0;if(r.type&3||o){let N=Bt(r,e),A=o?o(N):N,k=p.length,$=o?Z=>o(hn(Z[r.index])):r.index,F=null;if(!o&&a&&(F=wk(t,e,i,r.index)),F!==null){let Z=F.__ngLastListenerFn__||F;Z.__ngNextListenerFn__=s,F.__ngLastListenerFn__=s,m=!1}else{s=NE(r,e,h,s),Ik(N,i,s);let Z=n.listen(A,i,s);p.push(s,Z),l&&l.push(i,$,k,k+1)}}else s=NE(r,e,h,s);let y=r.outputs,C;if(m&&y!==null&&(C=y[i])){let N=C.length;if(N)for(let A=0;A<N;A+=2){let k=C[A],$=C[A+1],_e=e[k][$].subscribe(s),G=p.length;p.push(s,_e),l&&l.push(i,r.index,G,-(G+1))}}}function RE(t,e,n,r){let i=fe(null);try{return an(6,e,n),n(r)!==!1}catch(s){return ED(t,s),!1}finally{an(7,e,n),fe(i)}}function NE(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Tr(t.index,e):e;Ig(o,5);let a=RE(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=RE(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function XW(t=1){return zM(t)}function Ek(t,e,n){return zD(t,"",e,"",n),Ek}function zD(t,e,n,r,i){let s=ce(),o=VD(s,e,n,r);if(o!==Fn){let a=He(),u=pl();mg(a,u,s,t,o,s[Oe],i,!1)}return zD}function e3(t,e,n){_O(t,e,n)}function Tk(t){let e=ce(),n=He(),r=DT();Yp(r+1);let i=Eg(n,r);if(t.dirty&&bM(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=EO(e,r);t.reset(s,gx),t.notifyOnChanges()}return!0}return!1}function Dk(){return yO(ce(),DT())}function bk(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function t3(t,e=""){let n=ce(),r=He(),i=t+Vt,s=r.firstCreatePass?sa(r,i,1,e,null):r.data[i],o=Ck(r,n,s,e,t);n[i]=o,gl()&&_l(r,n,o,s),_i(s,!1)}var Ck=(t,e,n,r,i)=>(ml(!0),kx(e[Oe],r));function Sk(t){return HD("",t,""),Sk}function HD(t,e,n){let r=ce(),i=VD(r,t,e,n);return i!==Fn&&CP(r,Rs(),i),HD}function Ak(t,e,n){OD(e)&&(e=e());let r=ce(),i=fl();if(wr(r,i,e)){let s=He(),o=pl();mg(s,o,r,t,e,r[Oe],n,!1)}return Ak}function n3(t,e){let n=OD(t);return n&&t.set(e),n}function Rk(t,e){let n=ce(),r=He(),i=It();return $D(r,n,n[Oe],i,t,e),Rk}function Nk(t,e,n){let r=He();if(r.firstCreatePass){let i=vr(t);Pp(n,r.data,r.blueprint,i,!0),Pp(e,r.data,r.blueprint,i,!1)}}function Pp(t,e,n,r,i){if(t=yt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Pp(t[s],e,n,r,i);else{let s=He(),o=ce(),a=It(),u=vs(t)?t:yt(t.provide),l=sT(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(vs(t)||!t.multi){let y=new hi(l,i,Ze),C=Hf(u,e,i?h:h+m,p);C===-1?(ip(zu(a,o),s,u),zf(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[C]=y,o[C]=y)}else{let y=Hf(u,e,h+m,p),C=Hf(u,e,h,h+m),N=y>=0&&n[y],A=C>=0&&n[C];if(i&&!A||!i&&!N){ip(zu(a,o),s,u);let k=Pk(i?xk:Mk,n.length,i,r,l);!i&&A&&(n[C].providerFactory=k),zf(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),o.push(k)}else{let k=qD(n[i?C:y],l,!i&&r);zf(s,t,y>-1?y:C,k)}!i&&r&&A&&n[C].componentProviders++}}}function zf(t,e,n,r){let i=vs(e),s=dM(e);if(i||s){let u=(s?yt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function qD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Hf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Mk(t,e,n,r){return Op(this.multi,[])}function xk(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=fi(n,n[ne],this.providerFactory.index,r);s=a.slice(0,o),Op(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Op(i,s);return s}function Op(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Pk(t,e,n,r,i){let s=new hi(t,n,Ze);return s.multi=[],s.index=e,s.componentProviders=0,qD(s,i,r&&!n),s}function r3(t,e=[]){return n=>{n.providersResolver=(r,i)=>Nk(r,i?i(t):t,e)}}var Ok=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=nT(!1,n.type),i=r.length>0?bl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(H(_t))})}}return t})();function GD(t){Ii("NgStandalone"),t.getStandaloneInjector=e=>e.get(Ok).getOrCreateStandaloneInjector(t)}function i3(t,e,n){let r=ia()+t,i=ce();return i[r]===Fn?Tg(i,r,n?e.call(n):e()):OO(i,r)}function s3(t,e,n,r){return KD(ce(),ia(),t,e,n,r)}function o3(t,e,n,r,i){return QD(ce(),ia(),t,e,n,r,i)}function WD(t,e){let n=t[e];return n===Fn?void 0:n}function KD(t,e,n,r,i,s){let o=e+n;return wr(t,o,i)?Tg(t,o+1,s?r.call(s,i):r(i)):WD(t,o+1)}function QD(t,e,n,r,i,s,o){let a=e+n;return kO(t,a,i,s)?Tg(t,a+2,o?r.call(o,i,s):r(i,s)):WD(t,a+2)}function a3(t,e){let n=He(),r,i=t+Vt;n.firstCreatePass?(r=kk(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=ai(r.type,!0)),o,a=Dt(Ze);try{let u=$u(!1),l=s();return $u(u),bk(n,ce(),i,l),l}finally{Dt(a)}}function kk(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function c3(t,e,n){let r=t+Vt,i=ce(),s=gT(i,r);return YD(i,r)?KD(i,ia(),e,s.transform,n,s):s.transform(n)}function u3(t,e,n,r){let i=t+Vt,s=ce(),o=gT(s,i);return YD(s,i)?QD(s,ia(),e,o.transform,n,r,o):o.transform(n,r)}function YD(t,e){return t[ne].data[e].pure}var Er=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},JD=new Er("18.2.6");var Cl=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var ZD=new U("");function Ms(t){return!!t&&typeof t.then=="function"}function Cg(t){return!!t&&typeof t.subscribe=="function"}var Sl=new U(""),XD=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=x(Sl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(Ms(s))n.push(s);else if(Cg(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),oa=new U("");function Lk(){ww(()=>{throw new z(600,!1)})}function Fk(t){return t.isBoundToModule}var Vk=10;function Uk(t,e,n){try{let r=n();return Ms(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Cr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(fx),this.afterRenderManager=x(LD),this.zonelessEnabled=x(Tl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new gt,this.afterTick=new gt,this.componentTypes=[],this.components=[],this.isStable=x(Ln).hasPendingTasks.pipe(ee(n=>!n)),this._injector=x(_t)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Qu;if(!this._injector.get(XD).done){let m=!i&&ZE(n),y=!1;throw new z(405,y)}let o;i?o=n:o=this._injector.get(Ts).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=Fk(o)?void 0:this._injector.get(Ir),u=r||o.selector,l=o.create(ct.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(ZD,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Nu(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new z(101,!1);let n=fe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,fe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Ds,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<Vk;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)jk(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>dl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Nu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(oa,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Nu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new z(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Nu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function jk(t,e,n,r){if(!n&&!dl(t))return;bD(t,e,n&&!r?0:1)}var kp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Al=(()=>{class t{compileModuleSync(n){return new Ap(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=XE(n),s=eD(i.declarations).reduce((o,a)=>{let u=yr(a);return u&&o.push(new bs(u)),o},[]);return new kp(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Bk=(()=>{class t{constructor(){this.zone=x(ge),this.changeDetectionScheduler=x(Es),this.applicationRef=x(Cr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$k=new U("",{factory:()=>!1});function eb({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ge(be(V({},tb()),{scheduleInRootZone:n})),[{provide:ge,useFactory:t},{provide:ys,multi:!0,useFactory:()=>{let r=x(Bk,{optional:!0});return()=>r.initialize()}},{provide:ys,multi:!0,useFactory:()=>{let r=x(zk);return()=>{r.initialize()}}},e===!0?{provide:RD,useValue:!0}:[],{provide:ND,useValue:n??$T}]}function l3(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=eb({ngZoneFactory:()=>{let i=tb(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Ii("NgZone_CoalesceEvent"),new ge(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Ut([{provide:$k,useValue:!0},{provide:Tl,useValue:!1},r])}function tb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var zk=(()=>{class t{constructor(){this.subscription=new xe,this.initialized=!1,this.zone=x(ge),this.pendingTasks=x(Ln)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ge.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Hk=(()=>{class t{constructor(){this.appRef=x(Cr),this.taskService=x(Ln),this.ngZone=x(ge),this.zonelessEnabled=x(Tl),this.disableScheduling=x(RD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new xe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(qu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(ND,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof up||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?hE:zT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(qu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,hE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function qk(){return typeof $localize<"u"&&$localize.locale||el}var Rl=new U("",{providedIn:"root",factory:()=>x(Rl,se.Optional|se.SkipSelf)||qk()});var nb=new U("");function bu(t){return!!t.platformInjector}function Gk(t){let e=bu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ge);return n.run(()=>{bu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(xn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),bu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(nb);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{Nu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return Uk(r,n,()=>{let s=e.get(XD);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Rl,el);if(_k(o||el),bu(t)){let a=e.get(Cr);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return Wk(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Wk(t,e){let n=t.injector.get(Cr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new z(-403,!1);e.push(t)}var Mu=null;function Kk(t=[],e){return ct.create({name:e,providers:[{provide:ol,useValue:"platform"},{provide:nb,useValue:new Set([()=>Mu=null])},...t]})}function Qk(t=[]){if(Mu)return Mu;let e=Kk(t);return Mu=e,Lk(),Yk(e),e}function Yk(t){t.get(sg,null)?.forEach(n=>n())}var xs=(()=>{class t{static{this.__NG_ELEMENT_ID__=Jk}}return t})();function Jk(t){return Zk(It(),ce(),(t&16)===16)}function Zk(t,e,n){if(cl(t)&&!n){let r=Tr(t.index,e);return new pi(r,r)}else if(t.type&175){let r=e[dn];return new pi(r,e)}return null}var Lp=class{constructor(){}supports(e){return kD(e)}create(e){return new Fp(e)}},Xk=(t,e)=>e,Fp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Xk}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<ME(r,i,s)?n:r,a=ME(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<s.length?s[m]:s[m]=0,C=y+m;h<=C&&C<l&&(s[m]=y+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!kD(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,xO(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Vp(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new tl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new tl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Vp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Up=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},tl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Up,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ME(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function xE(){return new Sg([new Lp])}var Sg=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:xE})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||xE()),deps:[[t,new Bp,new ut]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new z(901,!1)}}return t})();function rb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Qk(r),s=[eb({}),{provide:Es,useExisting:Hk},...n||[]],o=new Zu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return Gk({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var ib=new U("");function sb(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function d3(t,e){Ii("NgSignals");let n=vw(t);return e?.equal&&(n[Sn].equal=e.equal),n}function Ag(t){let e=fe(null);try{return t()}finally{fe(e)}}function ob(t){let e=yr(t);if(!e)return null;let n=new bs(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var fb=null;function Ps(){return fb}function pb(t){fb??=t}var Vl=class{};var Xe=new U(""),Ug=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(r1),providedIn:"platform"})}}return t})(),gb=new U(""),r1=(()=>{class t extends Ug{constructor(){super(),this._doc=x(Xe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ps().getBaseHref(this._doc)}onPopState(n){let r=Ps().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ps().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function jg(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function ab(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Un(t){return t&&t[0]!=="?"?"?"+t:t}var wi=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(Bg),providedIn:"root"})}}return t})(),mb=new U(""),Bg=(()=>{class t extends wi{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(Xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return jg(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Un(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Un(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Un(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(H(Ug),H(mb,8))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),yb=(()=>{class t extends wi{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=jg(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Un(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Un(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(H(Ug),H(mb,8))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),ks=(()=>{class t{constructor(n){this._subject=new ot,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=o1(ab(cb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Un(r))}normalize(n){return t.stripTrailingSlash(s1(this._basePath,cb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Un(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Un(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Un}static{this.joinWithSlash=jg}static{this.stripTrailingSlash=ab}static{this.\u0275fac=function(r){return new(r||t)(H(wi))}}static{this.\u0275prov=B({token:t,factory:()=>i1(),providedIn:"root"})}}return t})();function i1(){return new ks(H(wi))}function s1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function cb(t){return t.replace(/\/index.html$/,"")}function o1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var wt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(wt||{}),Te=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Te||{}),Nt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Nt||{}),Sr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function a1(t){return zt(t)[ke.LocaleId]}function c1(t,e,n){let r=zt(t),i=[r[ke.DayPeriodsFormat],r[ke.DayPeriodsStandalone]],s=Ht(i,e);return Ht(s,n)}function u1(t,e,n){let r=zt(t),i=[r[ke.DaysFormat],r[ke.DaysStandalone]],s=Ht(i,e);return Ht(s,n)}function l1(t,e,n){let r=zt(t),i=[r[ke.MonthsFormat],r[ke.MonthsStandalone]],s=Ht(i,e);return Ht(s,n)}function d1(t,e){let r=zt(t)[ke.Eras];return Ht(r,e)}function Nl(t,e){let n=zt(t);return Ht(n[ke.DateFormat],e)}function Ml(t,e){let n=zt(t);return Ht(n[ke.TimeFormat],e)}function xl(t,e){let r=zt(t)[ke.DateTimeFormat];return Ht(r,e)}function jl(t,e){let n=zt(t),r=n[ke.NumberSymbols][e];if(typeof r>"u"){if(e===Sr.CurrencyDecimal)return n[ke.NumberSymbols][Sr.Decimal];if(e===Sr.CurrencyGroup)return n[ke.NumberSymbols][Sr.Group]}return r}function vb(t){if(!t[ke.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ke.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function h1(t){let e=zt(t);return vb(e),(e[ke.ExtraData][2]||[]).map(r=>typeof r=="string"?Rg(r):[Rg(r[0]),Rg(r[1])])}function f1(t,e,n){let r=zt(t);vb(r);let i=[r[ke.ExtraData][0],r[ke.ExtraData][1]],s=Ht(i,e)||[];return Ht(s,n)||[]}function Ht(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Rg(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var p1=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Pl={},g1=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,jn=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(jn||{}),ve=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ve||{}),ye=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ye||{});function m1(t,e,n,r){let i=b1(t);e=Vn(n,e)||e;let o=[],a;for(;e;)if(a=g1.exec(e),a){o=o.concat(a.slice(1));let h=o.pop();if(!h)break;e=h}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=Ib(r,u),i=D1(i,r,!0));let l="";return o.forEach(h=>{let p=E1(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Ul(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Vn(t,e){let n=a1(t);if(Pl[n]??={},Pl[n][e])return Pl[n][e];let r="";switch(e){case"shortDate":r=Nl(t,Nt.Short);break;case"mediumDate":r=Nl(t,Nt.Medium);break;case"longDate":r=Nl(t,Nt.Long);break;case"fullDate":r=Nl(t,Nt.Full);break;case"shortTime":r=Ml(t,Nt.Short);break;case"mediumTime":r=Ml(t,Nt.Medium);break;case"longTime":r=Ml(t,Nt.Long);break;case"fullTime":r=Ml(t,Nt.Full);break;case"short":let i=Vn(t,"shortTime"),s=Vn(t,"shortDate");r=Ol(xl(t,Nt.Short),[i,s]);break;case"medium":let o=Vn(t,"mediumTime"),a=Vn(t,"mediumDate");r=Ol(xl(t,Nt.Medium),[o,a]);break;case"long":let u=Vn(t,"longTime"),l=Vn(t,"longDate");r=Ol(xl(t,Nt.Long),[u,l]);break;case"full":let h=Vn(t,"fullTime"),p=Vn(t,"fullDate");r=Ol(xl(t,Nt.Full),[h,p]);break}return r&&(Pl[n][e]=r),r}function Ol(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function en(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function y1(t,e){return en(t,3).substring(0,e)}function Ue(t,e,n=0,r=!1,i=!1){return function(s,o){let a=v1(t,s);if((n>0||a>-n)&&(a+=n),t===ve.Hours)a===0&&n===-12&&(a=12);else if(t===ve.FractionalSeconds)return y1(a,e);let u=jl(o,Sr.MinusSign);return en(a,e,u,r,i)}}function v1(t,e){switch(t){case ve.FullYear:return e.getFullYear();case ve.Month:return e.getMonth();case ve.Date:return e.getDate();case ve.Hours:return e.getHours();case ve.Minutes:return e.getMinutes();case ve.Seconds:return e.getSeconds();case ve.FractionalSeconds:return e.getMilliseconds();case ve.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ce(t,e,n=wt.Format,r=!1){return function(i,s){return _1(i,s,t,e,n,r)}}function _1(t,e,n,r,i,s){switch(n){case ye.Months:return l1(e,i,r)[t.getMonth()];case ye.Days:return u1(e,i,r)[t.getDay()];case ye.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let l=h1(e),h=f1(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,C]=m,N=o>=y.hours&&a>=y.minutes,A=o<C.hours||o===C.hours&&a<C.minutes;if(y.hours<C.hours){if(N&&A)return!0}else if(N||A)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return c1(e,i,r)[o<12?0:1];case ye.Eras:return d1(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function kl(t){return function(e,n,r){let i=-1*r,s=jl(n,Sr.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case jn.Short:return(i>=0?"+":"")+en(o,2,s)+en(Math.abs(i%60),2,s);case jn.ShortGMT:return"GMT"+(i>=0?"+":"")+en(o,1,s);case jn.Long:return"GMT"+(i>=0?"+":"")+en(o,2,s)+":"+en(Math.abs(i%60),2,s);case jn.Extended:return r===0?"Z":(i>=0?"+":"")+en(o,2,s)+":"+en(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var I1=0,Fl=4;function w1(t){let e=Ul(t,I1,1).getDay();return Ul(t,0,1+(e<=Fl?Fl:Fl+7)-e)}function _b(t){let e=t.getDay(),n=e===0?-3:Fl-e;return Ul(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Ng(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=_b(n),o=w1(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return en(i,t,jl(r,Sr.MinusSign))}}function Ll(t,e=!1){return function(n,r){let s=_b(n).getFullYear();return en(s,t,jl(r,Sr.MinusSign),e)}}var Mg={};function E1(t){if(Mg[t])return Mg[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ce(ye.Eras,Te.Abbreviated);break;case"GGGG":e=Ce(ye.Eras,Te.Wide);break;case"GGGGG":e=Ce(ye.Eras,Te.Narrow);break;case"y":e=Ue(ve.FullYear,1,0,!1,!0);break;case"yy":e=Ue(ve.FullYear,2,0,!0,!0);break;case"yyy":e=Ue(ve.FullYear,3,0,!1,!0);break;case"yyyy":e=Ue(ve.FullYear,4,0,!1,!0);break;case"Y":e=Ll(1);break;case"YY":e=Ll(2,!0);break;case"YYY":e=Ll(3);break;case"YYYY":e=Ll(4);break;case"M":case"L":e=Ue(ve.Month,1,1);break;case"MM":case"LL":e=Ue(ve.Month,2,1);break;case"MMM":e=Ce(ye.Months,Te.Abbreviated);break;case"MMMM":e=Ce(ye.Months,Te.Wide);break;case"MMMMM":e=Ce(ye.Months,Te.Narrow);break;case"LLL":e=Ce(ye.Months,Te.Abbreviated,wt.Standalone);break;case"LLLL":e=Ce(ye.Months,Te.Wide,wt.Standalone);break;case"LLLLL":e=Ce(ye.Months,Te.Narrow,wt.Standalone);break;case"w":e=Ng(1);break;case"ww":e=Ng(2);break;case"W":e=Ng(1,!0);break;case"d":e=Ue(ve.Date,1);break;case"dd":e=Ue(ve.Date,2);break;case"c":case"cc":e=Ue(ve.Day,1);break;case"ccc":e=Ce(ye.Days,Te.Abbreviated,wt.Standalone);break;case"cccc":e=Ce(ye.Days,Te.Wide,wt.Standalone);break;case"ccccc":e=Ce(ye.Days,Te.Narrow,wt.Standalone);break;case"cccccc":e=Ce(ye.Days,Te.Short,wt.Standalone);break;case"E":case"EE":case"EEE":e=Ce(ye.Days,Te.Abbreviated);break;case"EEEE":e=Ce(ye.Days,Te.Wide);break;case"EEEEE":e=Ce(ye.Days,Te.Narrow);break;case"EEEEEE":e=Ce(ye.Days,Te.Short);break;case"a":case"aa":case"aaa":e=Ce(ye.DayPeriods,Te.Abbreviated);break;case"aaaa":e=Ce(ye.DayPeriods,Te.Wide);break;case"aaaaa":e=Ce(ye.DayPeriods,Te.Narrow);break;case"b":case"bb":case"bbb":e=Ce(ye.DayPeriods,Te.Abbreviated,wt.Standalone,!0);break;case"bbbb":e=Ce(ye.DayPeriods,Te.Wide,wt.Standalone,!0);break;case"bbbbb":e=Ce(ye.DayPeriods,Te.Narrow,wt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ce(ye.DayPeriods,Te.Abbreviated,wt.Format,!0);break;case"BBBB":e=Ce(ye.DayPeriods,Te.Wide,wt.Format,!0);break;case"BBBBB":e=Ce(ye.DayPeriods,Te.Narrow,wt.Format,!0);break;case"h":e=Ue(ve.Hours,1,-12);break;case"hh":e=Ue(ve.Hours,2,-12);break;case"H":e=Ue(ve.Hours,1);break;case"HH":e=Ue(ve.Hours,2);break;case"m":e=Ue(ve.Minutes,1);break;case"mm":e=Ue(ve.Minutes,2);break;case"s":e=Ue(ve.Seconds,1);break;case"ss":e=Ue(ve.Seconds,2);break;case"S":e=Ue(ve.FractionalSeconds,1);break;case"SS":e=Ue(ve.FractionalSeconds,2);break;case"SSS":e=Ue(ve.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=kl(jn.Short);break;case"ZZZZZ":e=kl(jn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=kl(jn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=kl(jn.Long);break;default:return null}return Mg[t]=e,e}function Ib(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function T1(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function D1(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=Ib(e,i);return T1(t,r*(s-i))}function b1(t){if(ub(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return Ul(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(p1))return C1(r)}let e=new Date(t);if(!ub(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function C1(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,u,l),e}function ub(t){return t instanceof Date&&!isNaN(t.valueOf())}function Bl(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var xg=/\s+/,lb=[],O3=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=lb,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(xg):lb}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(xg):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(xg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(Ze(Dr),Ze(Dl))}}static{this.\u0275dir=Ss({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var Pg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},k3=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Pg(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),db(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);db(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Ze(br),Ze(gi),Ze(Sg))}}static{this.\u0275dir=Ss({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function db(t,e){t.context.$implicit=e.item}var L3=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Og,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){hb("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){hb("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Ze(br),Ze(gi))}}static{this.\u0275dir=Ss({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Og=class{constructor(){this.$implicit=null,this.ngIf=null}};function hb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${vt(e)}'.`)}function wb(t,e){return new z(2100,!1)}var kg=class{createSubscription(e,n){return Ag(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Ag(()=>e.unsubscribe())}},Lg=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},S1=new Lg,A1=new kg,F3=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Ms(n))return S1;if(Cg(n))return A1;throw wb(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||t)(Ze(xs,16))}}static{this.\u0275pipe=Hp({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var R1="mediumDate",N1=new U(""),M1=new U(""),V3=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(n==null||n===""||n!==n)return null;try{let o=r??this.defaultOptions?.dateFormat??R1,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return m1(n,o,s||this.locale,a)}catch(o){throw wb(t,o.message)}}static{this.\u0275fac=function(r){return new(r||t)(Ze(Rl,16),Ze(N1,24),Ze(M1,24))}}static{this.\u0275pipe=Hp({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var x1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=vi({type:t})}static{this.\u0275inj=yi({})}}return t})(),$g="browser",P1="server";function O1(t){return t===$g}function $l(t){return t===P1}var Eb=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>O1(x($t))?new Fg(x(Xe),window):new Vg})}}return t})(),Fg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=k1(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function k1(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Vg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Os=class{};var ua=class{},Hl=class{},Bn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Hg=class{encodeKey(e){return Tb(e)}encodeValue(e){return Tb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function F1(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var V1=/%(\d[a-f0-9])/gi,U1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Tb(t){return encodeURIComponent(t).replace(V1,(e,n)=>U1[n]??e)}function zl(t){return`${t}`}var Rr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Hg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=F1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(zl):[zl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(zl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(zl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var qg=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function j1(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Db(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function bb(t){return typeof Blob<"u"&&t instanceof Blob}function Cb(t){return typeof FormData<"u"&&t instanceof FormData}function B1(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ca=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(j1(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Bn,this.context??=new qg,!this.params)this.params=new Rr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Db(this.body)||bb(this.body)||Cb(this.body)||B1(this.body)?this.body:this.body instanceof Rr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Cb(this.body)?null:bb(this.body)?this.body.type||null:Db(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Rr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,o,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},Nr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Nr||{}),la=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Bn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ql=class t extends la{constructor(e={}){super(e),this.type=Nr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},da=class t extends la{constructor(e={}){super(e),this.type=Nr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ar=class extends la{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Mb=200,$1=204;function zg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var z1=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof ca)s=n;else{let u;i.headers instanceof Bn?u=i.headers:u=new Bn(i.headers);let l;i.params&&(i.params instanceof Rr?l=i.params:l=new Rr({fromObject:i.params})),s=new ca(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=W(s).pipe(Rn(u=>this.handler.handle(u)));if(n instanceof ca||i.observe==="events")return o;let a=o.pipe(mt(u=>u instanceof da));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ee(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(ee(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Rr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,zg(i,r))}post(n,r,i={}){return this.request("POST",n,zg(i,r))}put(n,r,i={}){return this.request("PUT",n,zg(i,r))}static{this.\u0275fac=function(r){return new(r||t)(H(ua))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),H1=/^\)\]\}',?\n/,q1="X-Request-URL";function Sb(t){if(t.url)return t.url;let e=q1.toLocaleLowerCase();return t.headers.get(e)}var G1=(()=>{class t{constructor(){this.fetchImpl=x(Gg,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=x(ge)}handle(n){return new ie(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(Wg,s=>r.error(new Ar({error:s}))),()=>i.abort()})}doRequest(n,r,i){return w(this,null,function*(){let s=this.createRequestInit(n),o;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,V({signal:r},s)));W1(y),i.next({type:Nr.Sent}),o=yield y}catch(y){i.error(new Ar({error:y,status:y.status??0,statusText:y.statusText,url:n.urlWithParams,headers:y.headers}));return}let a=new Bn(o.headers),u=o.statusText,l=Sb(o)??n.urlWithParams,h=o.status,p=null;if(n.reportProgress&&i.next(new ql({headers:a,status:h,statusText:u,url:l})),o.body){let y=o.headers.get("content-length"),C=[],N=o.body.getReader(),A=0,k,$,F=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>w(this,null,function*(){for(;;){let{done:_e,value:G}=yield N.read();if(_e)break;if(C.push(G),A+=G.length,n.reportProgress){$=n.responseType==="text"?($??"")+(k??=new TextDecoder).decode(G,{stream:!0}):void 0;let E=()=>i.next({type:Nr.DownloadProgress,total:y?+y:void 0,loaded:A,partialText:$});F?F.run(E):E()}}}));let Z=this.concatChunks(C,A);try{let _e=o.headers.get("Content-Type")??"";p=this.parseBody(n,Z,_e)}catch(_e){i.error(new Ar({error:_e,headers:new Bn(o.headers),status:o.status,statusText:o.statusText,url:Sb(o)??n.urlWithParams}));return}}h===0&&(h=p?Mb:0),h>=200&&h<300?(i.next(new da({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Ar({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let s=new TextDecoder().decode(r).replace(H1,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((s,o)=>r[s]=o.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let s=n.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),s=0;for(let o of n)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Gg=class{};function Wg(){}function W1(t){t.then(Wg,Wg)}function xb(t,e){return e(t)}function K1(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function Q1(t,e,n){return(r,i)=>jt(n,()=>e(r,s=>t(s,i)))}var Y1=new U(""),Kg=new U(""),J1=new U(""),Pb=new U("",{providedIn:"root",factory:()=>!0});function Z1(){let t=null;return(e,n)=>{t===null&&(t=(x(Y1,{optional:!0})??[]).reduceRight(K1,xb));let r=x(Ln);if(x(Pb)){let s=r.add();return t(e,n).pipe(hr(()=>r.remove(s)))}else return t(e,n)}}var Ab=(()=>{class t extends ua{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=x(Ln),this.contributeToStability=x(Pb)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Kg),...this.injector.get(J1,[])]));this.chain=r.reduceRight((i,s)=>Q1(i,s,this.injector),xb)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(hr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(H(Hl),H(_t))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();var X1=/^\)\]\}',?\n/;function eL(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Rb=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new z(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ae(r.\u0275loadImpl()):W(null)).pipe(Tt(()=>new ie(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((N,A)=>o.setRequestHeader(N,A.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let N=n.detectContentTypeHeader();N!==null&&o.setRequestHeader("Content-Type",N)}if(n.responseType){let N=n.responseType.toLowerCase();o.responseType=N!=="json"?N:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=o.statusText||"OK",A=new Bn(o.getAllResponseHeaders()),k=eL(o)||n.url;return u=new ql({headers:A,status:o.status,statusText:N,url:k}),u},h=()=>{let{headers:N,status:A,statusText:k,url:$}=l(),F=null;A!==$1&&(F=typeof o.response>"u"?o.responseText:o.response),A===0&&(A=F?Mb:0);let Z=A>=200&&A<300;if(n.responseType==="json"&&typeof F=="string"){let _e=F;F=F.replace(X1,"");try{F=F!==""?JSON.parse(F):null}catch(G){F=_e,Z&&(Z=!1,F={error:G,text:F})}}Z?(s.next(new da({body:F,headers:N,status:A,statusText:k,url:$||void 0})),s.complete()):s.error(new Ar({error:F,headers:N,status:A,statusText:k,url:$||void 0}))},p=N=>{let{url:A}=l(),k=new Ar({error:N,status:o.status||0,statusText:o.statusText||"Unknown Error",url:A||void 0});s.error(k)},m=!1,y=N=>{m||(s.next(l()),m=!0);let A={type:Nr.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(A.total=N.total),n.responseType==="text"&&o.responseText&&(A.partialText=o.responseText),s.next(A)},C=N=>{let A={type:Nr.UploadProgress,loaded:N.loaded};N.lengthComputable&&(A.total=N.total),s.next(A)};return o.addEventListener("load",h),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),n.reportProgress&&(o.addEventListener("progress",y),a!==null&&o.upload&&o.upload.addEventListener("progress",C)),o.send(a),s.next({type:Nr.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",h),o.removeEventListener("timeout",p),n.reportProgress&&(o.removeEventListener("progress",y),a!==null&&o.upload&&o.upload.removeEventListener("progress",C)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(H(Os))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Ob=new U(""),tL="XSRF-TOKEN",nL=new U("",{providedIn:"root",factory:()=>tL}),rL="X-XSRF-TOKEN",iL=new U("",{providedIn:"root",factory:()=>rL}),Gl=class{},sL=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Bl(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(H(Xe),H($t),H(nL))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function oL(t,e){let n=t.url.toLowerCase();if(!x(Ob)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=x(Gl).getToken(),i=x(iL);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var kb=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(kb||{});function aL(t,e){return{\u0275kind:t,\u0275providers:e}}function cL(...t){let e=[z1,Rb,Ab,{provide:ua,useExisting:Ab},{provide:Hl,useFactory:()=>x(G1,{optional:!0})??x(Rb)},{provide:Kg,useValue:oL,multi:!0},{provide:Ob,useValue:!0},{provide:Gl,useClass:sL}];for(let n of t)e.push(...n.\u0275providers);return Ut(e)}var Nb=new U("");function uL(){return aL(kb.LegacyInterceptors,[{provide:Nb,useFactory:Z1},{provide:Kg,useExisting:Nb,multi:!0}])}var Z3=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=vi({type:t})}static{this.\u0275inj=yi({providers:[cL(uL())]})}}return t})();var Jg=class extends Vl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Zg=class t extends Jg{static makeCurrent(){pb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=lL();return n==null?null:dL(n)}resetBaseElement(){ha=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Bl(document.cookie,e)}},ha=null;function lL(){return ha=ha||document.querySelector("base"),ha?ha.getAttribute("href"):null}function dL(t){return new URL(t,document.baseURI).pathname}var hL=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Wl=new U(""),Ub=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new z(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(H(Wl),H(ge))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),fa=class{constructor(e){this._doc=e}},Qg="ng-app-id",jb=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$l(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Qg}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Qg),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Qg,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(H(Xe),H(ig),H(og,8),H($t))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Yg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},em=/%COMP%/g,Bb="%COMP%",fL=`_nghost-${Bb}`,pL=`_ngcontent-${Bb}`,gL=!0,mL=new U("",{providedIn:"root",factory:()=>gL});function yL(t){return pL.replace(em,t)}function vL(t){return fL.replace(em,t)}function $b(t,e){return e.map(n=>n.replace(em,t))}var Lb=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=$l(a),this.defaultRenderer=new pa(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===un.ShadowDom&&(r=be(V({},r),{encapsulation:un.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Kl?i.applyToHost(n):i instanceof ga&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case un.Emulated:s=new Kl(u,l,r,this.appId,h,o,a,p);break;case un.ShadowDom:return new Xg(u,l,n,r,o,a,this.nonce,p);default:s=new ga(u,l,r,h,o,a,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(H(Ub),H(jb),H(ig),H(mL),H(Xe),H($t),H(ge),H(og))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),pa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Yg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Fb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Fb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Yg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Yg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Pn.DashCase|Pn.Important)?e.style.setProperty(n,r,i&Pn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Pn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ps().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Fb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Xg=class extends pa{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=$b(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ga=class extends pa{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?$b(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Kl=class extends ga{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=yL(l),this.hostAttr=vL(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},_L=(()=>{class t extends fa{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(H(Xe))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),IL=(()=>{class t extends fa{constructor(n){super(n),this.delegate=x(ib,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,r,i){return this.delegate.addEventListener(n,r,i)}removeEventListener(n,r,i){return this.delegate.removeEventListener(n,r,i)}static{this.\u0275fac=function(r){return new(r||t)(H(Xe))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Vb=["alt","control","meta","shift"],wL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},TL=(()=>{class t extends fa{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ps().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Vb.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=wL[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Vb.forEach(o=>{if(o!==i){let a=EL[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(H(Xe))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function D6(t,e){return rb(V({rootComponent:t},DL(e)))}function DL(t){return{appProviders:[...RL,...t?.providers??[]],platformProviders:AL}}function bL(){Zg.makeCurrent()}function CL(){return new xn}function SL(){return YT(document),document}var AL=[{provide:$t,useValue:$g},{provide:sg,useValue:bL,multi:!0},{provide:Xe,useFactory:SL,deps:[]}];var RL=[{provide:ol,useValue:"root"},{provide:xn,useFactory:CL,deps:[]},{provide:Wl,useClass:_L,multi:!0,deps:[Xe,ge,$t]},{provide:Wl,useClass:TL,multi:!0,deps:[Xe]},{provide:Wl,useClass:IL,multi:!0},Lb,jb,Ub,{provide:Ds,useExisting:Lb},{provide:Os,useClass:hL,deps:[]},[]];var zb=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(H(Xe))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var re="primary",Ma=Symbol("RouteTitle"),sm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Bs(t){return new sm(t)}function ML(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function xL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!fn(t[n],e[n]))return!1;return!0}function fn(t,e){let n=t?om(t):void 0,r=e?om(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!eC(t[i],e[i]))return!1;return!0}function om(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function eC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function tC(t){return t.length>0?t[t.length-1]:null}function Pr(t){return Sf(t)?t:Ms(t)?Ae(Promise.resolve(t)):W(t)}var PL={exact:rC,subset:iC},nC={exact:OL,subset:kL,ignored:()=>!0};function Hb(t,e,n){return PL[n.paths](t.root,e.root,n.matrixParams)&&nC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function OL(t,e){return fn(t,e)}function rC(t,e,n){if(!Ti(t.segments,e.segments)||!Jl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!rC(t.children[r],e.children[r],n))return!1;return!0}function kL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>eC(t[n],e[n]))}function iC(t,e,n){return sC(t,e,e.segments,n)}function sC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ti(i,n)||e.hasChildren()||!Jl(i,n,r))}else if(t.segments.length===n.length){if(!Ti(t.segments,n)||!Jl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!iC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ti(t.segments,i)||!Jl(t.segments,i,r)||!t.children[re]?!1:sC(t.children[re],e,s,r)}}function Jl(t,e,n){return e.every((r,i)=>nC[n](t[i].parameters,r.parameters))}var zn=class{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Bs(this.queryParams),this._queryParamMap}toString(){return VL.serialize(this)}},Ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zl(this)}},Ei=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Bs(this.parameters),this._parameterMap}toString(){return aC(this)}};function LL(t,e){return Ti(t,e)&&t.every((n,r)=>fn(n.parameters,e[r].parameters))}function Ti(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function FL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}var xa=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>new $s,providedIn:"root"})}}return t})(),$s=class{parse(e){let n=new cm(e);return new zn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ma(e.root,!0)}`,r=BL(e.queryParams),i=typeof e.fragment=="string"?`#${UL(e.fragment)}`:"";return`${n}${r}${i}`}},VL=new $s;function Zl(t){return t.segments.map(e=>aC(e)).join("/")}function ma(t,e){if(!t.hasChildren())return Zl(t);if(e){let n=t.children[re]?ma(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==re&&r.push(`${i}:${ma(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=FL(t,(r,i)=>i===re?[ma(t.children[re],!1)]:[`${i}:${ma(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${Zl(t)}/${n[0]}`:`${Zl(t)}/(${n.join("//")})`}}function oC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ql(t){return oC(t).replace(/%3B/gi,";")}function UL(t){return encodeURI(t)}function am(t){return oC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xl(t){return decodeURIComponent(t)}function qb(t){return Xl(t.replace(/\+/g,"%20"))}function aC(t){return`${am(t.path)}${jL(t.parameters)}`}function jL(t){return Object.entries(t).map(([e,n])=>`;${am(e)}=${am(n)}`).join("")}function BL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ql(n)}=${Ql(i)}`).join("&"):`${Ql(n)}=${Ql(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var $L=/^[^\/()?;#]+/;function tm(t){let e=t.match($L);return e?e[0]:""}var zL=/^[^\/()?;=#]+/;function HL(t){let e=t.match(zL);return e?e[0]:""}var qL=/^[^=?&#]+/;function GL(t){let e=t.match(qL);return e?e[0]:""}var WL=/^[^&#]+/;function KL(t){let e=t.match(WL);return e?e[0]:""}var cm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new Ie(e,n)),r}parseSegment(){let e=tm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new Ei(Xl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=HL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=tm(this.remaining);i&&(r=i,this.capture(r))}e[Xl(n)]=Xl(r)}parseQueryParam(e){let n=GL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=KL(this.remaining);o&&(r=o,this.capture(r))}let i=qb(n),s=qb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=tm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new z(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[re]:new Ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function cC(t){return t.segments.length>0?new Ie([],{[re]:t}):t}function uC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=uC(i);if(r===re&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ie(t.segments,e);return QL(n)}function QL(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new Ie(t.segments.concat(e.segments),e.children)}return t}function Ea(t){return t instanceof zn}function YL(t,e,n=null,r=null){let i=lC(t);return dC(i,e,n,r)}function lC(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new Ie(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=cC(r);return e??i}function dC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return nm(i,i,i,n,r);let s=JL(e);if(s.toRoot())return nm(i,i,new Ie([],{}),n,r);let o=ZL(s,i,t),a=o.processChildren?_a(o.segmentGroup,o.index,s.commands):fC(o.segmentGroup,o.index,s.commands);return nm(i,o.segmentGroup,a,n,r)}function ed(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ta(t){return typeof t=="object"&&t!=null&&t.outlets}function nm(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=hC(t,e,n);let a=cC(uC(o));return new zn(a,s,i)}function hC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=hC(s,e,n)}),new Ie(t.segments,r)}var td=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ed(r[0]))throw new z(4003,!1);let i=r.find(Ta);if(i&&i!==tC(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function JL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new td(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new td(n,e,r)}var Vs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function ZL(t,e,n){if(t.isAbsolute)return new Vs(e,!0,0);if(!n)return new Vs(e,!1,NaN);if(n.parent===null)return new Vs(n,!0,0);let r=ed(t.commands[0])?0:1,i=n.segments.length-1+r;return XL(n,i,t.numberOfDoubleDots)}function XL(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new Vs(r,!1,i-s)}function eF(t){return Ta(t[0])?t[0].outlets:{[re]:t}}function fC(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return _a(t,e,n);let r=tF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ie(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new Ie(t.segments.slice(r.pathIndex),t.children),_a(s,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?um(t,e,n):r.match?_a(t,0,i):um(t,e,n)}function _a(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=eF(n),i={};if(Object.keys(r).some(s=>s!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let s=_a(t.children[re],e,n);return new Ie(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=fC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ie(t.segments,i)}}function tF(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Ta(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Wb(u,l,o))return s;r+=2}else{if(!Wb(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function um(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Ta(s)){let u=nF(s.outlets);return new Ie(r,u)}if(i===0&&ed(n[0])){let u=t.segments[e];r.push(new Ei(u.path,Gb(n[0]))),i++;continue}let o=Ta(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ed(a)?(r.push(new Ei(o,Gb(a))),i+=2):(r.push(new Ei(o,{})),i++)}return new Ie(r,{})}function nF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=um(new Ie([],{}),0,r))}),e}function Gb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Wb(t,e,n){return t==n.path&&fn(e,n.parameters)}var Ia="imperative",We=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(We||{}),qt=class{constructor(e,n){this.id=e,this.url=n}},zs=class extends qt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=We.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Hn=class extends qt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=We.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(xt||{}),nd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(nd||{}),$n=class extends qt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Mr=class extends qt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationSkipped}},Da=class extends qt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=We.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},rd=class extends qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lm=class extends qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dm=class extends qt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=We.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},hm=class extends qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fm=class extends qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pm=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},gm=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},mm=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ym=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vm=class{constructor(e){this.snapshot=e,this.type=We.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_m=class{constructor(e){this.snapshot=e,this.type=We.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},id=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=We.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ba=class{},Hs=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function rF(t,e){return t.providers&&!t._injector&&(t._injector=bl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function tn(t){return t.outlet||re}function iF(t,e){let n=t.filter(r=>tn(r)===e);return n.push(...t.filter(r=>tn(r)!==e)),n}function Pa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Im=class{get injector(){return Pa(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Oa(this.rootInjector),this.attachRef=null}},Oa=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Im(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(H(_t))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),sd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=wm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=wm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Em(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Em(e,this._root).map(n=>n.value)}};function wm(t,e){if(t===e.value)return e;for(let n of e.children){let r=wm(t,n);if(r)return r}return null}function Em(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Em(t,n);if(r.length)return r.unshift(e),r}return[]}var Mt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Fs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var od=class extends sd{constructor(e,n){super(e),this.snapshot=n,Mm(this,e)}toString(){return this.snapshot.toString()}};function pC(t){let e=sF(t),n=new Je([new Ei("",{})]),r=new Je({}),i=new Je({}),s=new Je({}),o=new Je(""),a=new Di(n,r,s,o,i,re,t,e.root);return a.snapshot=e.root,new od(new Mt(a,[]),e)}function sF(t){let e={},n={},r={},i="",s=new Us([],e,r,i,n,re,t,null,{});return new cd("",new Mt(s,[]))}var Di=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ee(l=>l[Ma]))??W(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>Bs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>Bs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ad(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),t.params),data:V(V({},e.data),t.data),resolve:V(V(V(V({},t.data),e.data),i?.data),t._resolvedData)}:r={params:V({},t.params),data:V({},t.data),resolve:V(V({},t.data),t._resolvedData??{})},i&&mC(i)&&(r.resolve[Ma]=i.title),r}var Us=class{get title(){return this.data?.[Ma]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Bs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Bs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},cd=class extends sd{constructor(e,n){super(n),this.url=e,Mm(this,n)}toString(){return gC(this._root)}};function Mm(t,e){e.value._routerState=t,e.children.forEach(n=>Mm(t,n))}function gC(t){let e=t.children.length>0?` { ${t.children.map(gC).join(", ")} } `:"";return`${t.value}${e}`}function rm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,fn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),fn(e.params,n.params)||t.paramsSubject.next(n.params),xL(e.url,n.url)||t.urlSubject.next(n.url),fn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Tm(t,e){let n=fn(t.params,e.params)&&LL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Tm(t.parent,e.parent))}function mC(t){return typeof t.title=="string"||t.title===null}var oF=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new ot,this.deactivateEvents=new ot,this.attachEvents=new ot,this.detachEvents=new ot,this.parentContexts=x(Oa),this.location=x(br),this.changeDetector=x(xs),this.inputBinder=x(hd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Dm(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ss({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ll]})}}return t})(),Dm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Di?this.route:e===Oa?this.childContexts:this.parent.get(e,n)}},hd=new U(""),Kb=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Go([r.queryParams,r.params,r.data]).pipe(Tt(([s,o,a],u)=>(a=V(V(V({},s),o),a),u===0?W(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=ob(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function aF(t,e,n){let r=Ca(t,e._root,n?n._root:void 0);return new od(r,e)}function Ca(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=cF(t,e,n);return new Mt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ca(t,a)),o}}let r=uF(e.value),i=e.children.map(s=>Ca(t,s));return new Mt(r,i)}}function cF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ca(t,r,i);return Ca(t,r)})}function uF(t){return new Di(new Je(t.url),new Je(t.params),new Je(t.queryParams),new Je(t.fragment),new Je(t.data),t.outlet,t.component,t)}var Sa=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},yC="ngNavigationCancelingError";function ud(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ea(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=vC(!1,xt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function vC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[yC]=!0,n.cancellationCode=e,n}function lF(t){return _C(t)&&Ea(t.url)}function _C(t){return!!t&&t[yC]}var dF=(t,e,n,r)=>ee(i=>(new bm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),bm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),rm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Fs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Fs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Fs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Fs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new _m(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ym(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(rm(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),rm(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},ld=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},js=class{constructor(e,n){this.component=e,this.route=n}};function hF(t,e,n){let r=t._root,i=e?e._root:null;return ya(r,i,n,[r.value])}function fF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Gs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!FE(t)?t:e.get(t):r}function ya(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Fs(e);return t.children.forEach(o=>{pF(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>wa(a,n.getContext(o),i)),i}function pF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=gF(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ld(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ya(t,e,a?a.children:null,r,i):ya(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new js(a.outlet.component,o))}else o&&wa(e,a,i),i.canActivateChecks.push(new ld(r)),s.component?ya(t,null,a?a.children:null,r,i):ya(t,null,n,r,i);return i}function gF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ti(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ti(t.url,e.url)||!fn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tm(t,e)||!fn(t.queryParams,e.queryParams);case"paramsChange":default:return!Tm(t,e)}}function wa(t,e,n){let r=Fs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?wa(o,e.children.getContext(s),n):wa(o,null,n):wa(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new js(e.outlet.component,i)):n.canDeactivateChecks.push(new js(null,i)):n.canDeactivateChecks.push(new js(null,i))}function ka(t){return typeof t=="function"}function mF(t){return typeof t=="boolean"}function yF(t){return t&&ka(t.canLoad)}function vF(t){return t&&ka(t.canActivate)}function _F(t){return t&&ka(t.canActivateChild)}function IF(t){return t&&ka(t.canDeactivate)}function wF(t){return t&&ka(t.canMatch)}function IC(t){return t instanceof An||t?.name==="EmptyError"}var Yl=Symbol("INITIAL_VALUE");function qs(){return Tt(t=>Go(t.map(e=>e.pipe(Nn(1),wu(Yl)))).pipe(ee(e=>{for(let n of e)if(n!==!0){if(n===Yl)return Yl;if(n===!1||EF(n))return n}return!0}),mt(e=>e!==Yl),Nn(1)))}function EF(t){return Ea(t)||t instanceof Sa}function TF(t,e){return Fe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?W(be(V({},n),{guardsResult:!0})):DF(o,r,i,t).pipe(Fe(a=>a&&mF(a)?bF(r,s,t,e):W(a)),ee(a=>be(V({},n),{guardsResult:a})))})}function DF(t,e,n,r){return Ae(t).pipe(Fe(i=>NF(i.component,i.route,n,e,r)),on(i=>i!==!0,!0))}function bF(t,e,n,r){return Ae(e).pipe(Rn(i=>cs(SF(i.route.parent,r),CF(i.route,r),RF(t,i.path,n),AF(t,i.route,n))),on(i=>i!==!0,!0))}function CF(t,e){return t!==null&&e&&e(new vm(t)),W(!0)}function SF(t,e){return t!==null&&e&&e(new mm(t)),W(!0)}function AF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(s=>vu(()=>{let o=Pa(e)??n,a=Gs(s,o),u=vF(a)?a.canActivate(e,t):jt(o,()=>a(e,t));return Pr(u).pipe(on())}));return W(i).pipe(qs())}function RF(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>fF(o)).filter(o=>o!==null).map(o=>vu(()=>{let a=o.guards.map(u=>{let l=Pa(o.node)??n,h=Gs(u,l),p=_F(h)?h.canActivateChild(r,t):jt(l,()=>h(r,t));return Pr(p).pipe(on())});return W(a).pipe(qs())}));return W(s).pipe(qs())}function NF(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return W(!0);let o=s.map(a=>{let u=Pa(e)??i,l=Gs(a,u),h=IF(l)?l.canDeactivate(t,e,n,r):jt(u,()=>l(t,e,n,r));return Pr(h).pipe(on())});return W(o).pipe(qs())}function MF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let s=i.map(o=>{let a=Gs(o,t),u=yF(a)?a.canLoad(e,n):jt(t,()=>a(e,n));return Pr(u)});return W(s).pipe(qs(),wC(r))}function wC(t){return Xc(Ve(e=>{if(typeof e!="boolean")throw ud(t,e)}),ee(e=>e===!0))}function xF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let s=i.map(o=>{let a=Gs(o,t),u=wF(a)?a.canMatch(e,n):jt(t,()=>a(e,n));return Pr(u)});return W(s).pipe(qs(),wC(r))}var Aa=class{constructor(e){this.segmentGroup=e||null}},Ra=class extends Error{constructor(e){super(),this.urlTree=e}};function Ls(t){return os(new Aa(t))}function PF(t){return os(new z(4e3,!1))}function OF(t){return os(vC(!1,xt.GuardRejected))}var Cm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[re])return PF(`${e.redirectTo}`);i=i.children[re]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:C,title:N}=i,A=jt(s,()=>a({params:y,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(A instanceof zn)throw new Ra(A);n=A}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ra(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new zn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Sm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kF(t,e,n,r,i){let s=EC(t,e,n);return s.matched?(r=rF(e,r),xF(r,e,n,i).pipe(ee(o=>o===!0?s:V({},Sm)))):W(s)}function EC(t,e,n){if(e.path==="**")return LF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?V({},Sm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ML)(n,t,e);if(!i)return V({},Sm);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?V(V({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function LF(t){return{matched:!0,parameters:t.length>0?tC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Qb(t,e,n,r){return n.length>0&&UF(t,n,r)?{segmentGroup:new Ie(e,VF(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&jF(t,n,r)?{segmentGroup:new Ie(t.segments,FF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function FF(t,e,n,r){let i={};for(let s of n)if(fd(t,e,s)&&!r[tn(s)]){let o=new Ie([],{});i[tn(s)]=o}return V(V({},r),i)}function VF(t,e){let n={};n[re]=e;for(let r of t)if(r.path===""&&tn(r)!==re){let i=new Ie([],{});n[tn(r)]=i}return n}function UF(t,e,n){return n.some(r=>fd(t,e,r)&&tn(r)!==re)}function jF(t,e,n){return n.some(r=>fd(t,e,r))}function fd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function BF(t,e,n){return e.length===0&&!t.children[n]}var Am=class{};function $F(t,e,n,r,i,s,o="emptyOnly"){return new Rm(t,e,n,r,i,o,s).recognize()}var zF=31,Rm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Cm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=Qb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:n,rootSnapshot:r})=>{let i=new Mt(r,n),s=new cd("",i),o=YL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Us([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,n).pipe(ee(r=>({children:r,rootSnapshot:n})),lr(r=>{if(r instanceof Ra)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Aa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ee(o=>o instanceof Mt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ae(s).pipe(Rn(o=>{let a=r.children[o],u=iF(n,o);return this.processSegmentGroup(e,u,a,o,i)}),Iu((o,a)=>(o.push(...a),o)),dr(null),Rf(),Fe(o=>{if(o===null)return Ls(r);let a=TC(o);return HF(a),W(a)}))}processSegment(e,n,r,i,s,o,a){return Ae(n).pipe(Rn(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(lr(l=>{if(l instanceof Aa)return W(null);throw l}))),on(u=>!!u),lr(u=>{if(IC(u))return BF(r,i,s)?W(new Am):Ls(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return tn(r)!==o&&(o===re||!fd(i,s,r))?Ls(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Ls(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=EC(n,i,s);if(!u)return Ls(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>zF&&(this.allowRedirects=!1));let y=new Us(s,l,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Yb(i),tn(i),i.component??i._loadedComponent??null,i,Jb(i)),C=ad(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Fe(A=>this.processSegment(e,r,n,A.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=kF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Tt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Tt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new Us(m,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Yb(r),tn(r),r.component??r._loadedComponent??null,r,Jb(r)),N=ad(C,o,this.paramsInheritanceStrategy);C.params=Object.freeze(N.params),C.data=Object.freeze(N.data);let{segmentGroup:A,slicedSegments:k}=Qb(n,m,y,l);if(k.length===0&&A.hasChildren())return this.processChildren(h,l,A,C).pipe(ee(F=>new Mt(C,F)));if(l.length===0&&k.length===0)return W(new Mt(C,[]));let $=tn(r)===s;return this.processSegment(h,l,A,k,$?re:s,!0,C).pipe(ee(F=>new Mt(C,F instanceof Mt?[F]:[])))}))):Ls(n)))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?W({routes:n._loadedRoutes,injector:n._loadedInjector}):MF(e,n,r,this.urlSerializer).pipe(Fe(i=>i?this.configLoader.loadChildren(e,n).pipe(Ve(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):OF(n))):W({routes:[],injector:e})}};function HF(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function qF(t){let e=t.value.routeConfig;return e&&e.path===""}function TC(t){let e=[],n=new Set;for(let r of t){if(!qF(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=TC(r.children);e.push(new Mt(r.value,i))}return e.filter(r=>!n.has(r))}function Yb(t){return t.data||{}}function Jb(t){return t.resolve||{}}function GF(t,e,n,r,i,s){return Fe(o=>$F(t,e,n,r,o.extractedUrl,i,s).pipe(ee(({state:a,tree:u})=>be(V({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function WF(t,e){return Fe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of DC(u))o.add(l);let a=0;return Ae(o).pipe(Rn(u=>s.has(u)?KF(u,r,t,e):(u.data=ad(u,u.parent,t).resolve,W(void 0))),Ve(()=>a++),us(1),Fe(u=>a===o.size?W(n):At))})}function DC(t){let e=t.children.map(n=>DC(n)).flat();return[t,...e]}function KF(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!mC(i)&&(s[Ma]=i.title),QF(s,t,e,r).pipe(ee(o=>(t._resolvedData=o,t.data=ad(t,t.parent,n).resolve,null)))}function QF(t,e,n,r){let i=om(t);if(i.length===0)return W({});let s={};return Ae(i).pipe(Fe(o=>YF(t[o],e,n,r).pipe(on(),Ve(a=>{if(a instanceof Sa)throw ud(new $s,a);s[o]=a}))),us(1),Af(s),lr(o=>IC(o)?At:os(o)))}function YF(t,e,n,r){let i=Pa(e)??r,s=Gs(t,i),o=s.resolve?s.resolve(e,n):jt(i,()=>s(e,n));return Pr(o)}function im(t){return Tt(e=>{let n=t(e);return n?Ae(n).pipe(ee(()=>e)):W(e)})}var bC=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===re);return r}getResolvedTitleForRoute(n){return n.data[Ma]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(JF),providedIn:"root"})}}return t})(),JF=(()=>{class t extends bC{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(H(zb))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),La=new U("",{providedIn:"root",factory:()=>({})}),ZF=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=QE({type:t,selectors:[["ng-component"]],standalone:!0,features:[GD],decls:1,vars:0,template:function(r,i){r&1&&bg(0,"router-outlet")},dependencies:[oF],encapsulation:2})}}return t})();function xm(t){let e=t.children&&t.children.map(xm),n=e?be(V({},t),{children:e}):V({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=ZF),n}var Na=new U(""),Pm=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(Al)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return W(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Pr(n.loadComponent()).pipe(ee(CC),Ve(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),hr(()=>{this.componentLoaders.delete(n)})),i=new ns(r,()=>new gt).pipe(ts());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=XF(r,this.compiler,n,this.onLoadEndListener).pipe(hr(()=>{this.childrenLoaders.delete(r)})),o=new ns(s,()=>new gt).pipe(ts());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function XF(t,e,n,r){return Pr(t.loadChildren()).pipe(ee(CC),Fe(i=>i instanceof ea||Array.isArray(i)?W(i):Ae(e.compileModuleAsync(i))),ee(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Na,[],{optional:!0,self:!0}).flat()),{routes:o.map(xm),injector:s}}))}function eV(t){return t&&typeof t=="object"&&"default"in t}function CC(t){return eV(t)?t.default:t}var Om=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(tV),providedIn:"root"})}}return t})(),tV=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),SC=new U(""),AC=new U("");function nV(t,e,n){let r=t.get(AC),i=t.get(Xe);return t.get(ge).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),rV(t))),{onViewTransitionCreated:u}=r;return u&&jt(t,()=>u({transition:a,from:e,to:n})),o})}function rV(t){return new Promise(e=>{Dg({read:()=>setTimeout(e)},{injector:t})})}var iV=new U(""),km=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new gt,this.transitionAbortSubject=new gt,this.configLoader=x(Pm),this.environmentInjector=x(_t),this.urlSerializer=x(xa),this.rootContexts=x(Oa),this.location=x(ks),this.inputBindingEnabled=x(hd,{optional:!0})!==null,this.titleStrategy=x(bC),this.options=x(La,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(Om),this.createViewTransition=x(SC,{optional:!0}),this.navigationErrorHandler=x(iV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null;let n=i=>this.events.next(new pm(i)),r=i=>this.events.next(new gm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(be(V(V({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Je({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ia,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mt(s=>s.id!==0),ee(s=>be(V({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Tt(s=>{let o=!1,a=!1;return W(s).pipe(Tt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",xt.SupersededByNewNavigation),At;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?be(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Mr(u.id,this.urlSerializer.serialize(u.rawUrl),p,nd.IgnoredSameUrlNavigation)),u.resolve(!1),At}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return W(u).pipe(Tt(p=>{let m=this.transitions?.getValue();return this.events.next(new zs(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?At:Promise.resolve(p)}),GF(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ve(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=be(V({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new rd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:y,restoredState:C,extras:N}=u,A=new zs(p,this.urlSerializer.serialize(m),y,C);this.events.next(A);let k=pC(this.rootComponentType).snapshot;return this.currentTransition=s=be(V({},u),{targetSnapshot:k,urlAfterRedirects:m,extras:be(V({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,W(s)}else{let p="";return this.events.next(new Mr(u.id,this.urlSerializer.serialize(u.extractedUrl),p,nd.IgnoredByUrlHandlingStrategy)),u.resolve(!1),At}}),Ve(u=>{let l=new lm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ee(u=>(this.currentTransition=s=be(V({},u),{guards:hF(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),TF(this.environmentInjector,u=>this.events.next(u)),Ve(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw ud(this.urlSerializer,u.guardsResult);let l=new dm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),mt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",xt.GuardRejected),!1)),im(u=>{if(u.guards.canActivateChecks.length)return W(u).pipe(Ve(l=>{let h=new hm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Tt(l=>{let h=!1;return W(l).pipe(WF(this.paramsInheritanceStrategy,this.environmentInjector),Ve({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",xt.NoDataFromResolver)}}))}),Ve(l=>{let h=new fm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),im(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ve(m=>{h.component=m}),ee(()=>{})));for(let m of h.children)p.push(...l(m));return p};return Go(l(u.targetSnapshot.root)).pipe(dr(null),Nn(1))}),im(()=>this.afterPreactivation()),Tt(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Ae(h).pipe(ee(()=>s)):W(s)}),ee(u=>{let l=aF(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=be(V({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Ve(()=>{this.events.next(new ba)}),dF(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Nn(1),Ve({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Nf(this.transitionAbortSubject.pipe(Ve(u=>{throw u}))),hr(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",xt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),lr(u=>{if(a=!0,_C(u))this.events.next(new $n(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),lF(u)?this.events.next(new Hs(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new Da(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let h=jt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Sa){let{message:p,cancellationCode:m}=ud(this.urlSerializer,h);this.events.next(new $n(s.id,this.urlSerializer.serialize(s.extractedUrl),p,m)),this.events.next(new Hs(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);s.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return At}))}))}cancelNavigationTransition(n,r,i){let s=new $n(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function sV(t){return t!==Ia}var oV=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(aV),providedIn:"root"})}}return t})(),Nm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},aV=(()=>{class t extends Nm{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=eg(t)))(i||t)}})()}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),RC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(cV),providedIn:"root"})}}return t})(),cV=(()=>{class t extends RC{constructor(){super(...arguments),this.location=x(ks),this.urlSerializer=x(xa),this.options=x(La,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(Om),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new zn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=pC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof zs)this.stateMemento=this.createStateMemento();else if(n instanceof Mr)this.rawUrlTree=r.initialUrl;else if(n instanceof rd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof ba?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof $n&&(n.code===xt.GuardRejected||n.code===xt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Da?this.restoreHistory(r,!0):n instanceof Hn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof zn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=V(V({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=V(V({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=eg(t)))(i||t)}})()}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),va=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(va||{});function NC(t,e){t.events.pipe(mt(n=>n instanceof Hn||n instanceof $n||n instanceof Da||n instanceof Mr),ee(n=>n instanceof Hn||n instanceof Mr?va.COMPLETE:(n instanceof $n?n.code===xt.Redirect||n.code===xt.SupersededByNewNavigation:!1)?va.REDIRECTING:va.FAILED),mt(n=>n!==va.REDIRECTING),Nn(1)).subscribe(()=>{e()})}function uV(t){throw t}var lV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=x(Cl),this.stateManager=x(RC),this.options=x(La,{optional:!0})||{},this.pendingTasks=x(Ln),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(km),this.urlSerializer=x(xa),this.location=x(ks),this.urlHandlingStrategy=x(Om),this._events=new gt,this.errorHandler=this.options.errorHandler||uV,this.navigated=!1,this.routeReuseStrategy=x(oV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(Na,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(hd,{optional:!0}),this.eventsSubscription=new xe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof $n&&r.code!==xt.Redirect&&r.code!==xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Hn)this.navigated=!0;else if(r instanceof Hs){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||sV(i.source)},o);this.scheduleNavigation(a,Ia,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}fV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ia,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=V({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(xm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=lC(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return dC(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ea(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ia,null,r)}navigate(n,r={skipLocationChange:!1}){return hV(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=V({},lV):r===!1?i=V({},dV):i=r,Ea(n))return Hb(this.currentUrlTree,n,i);let s=this.parseUrl(n);return Hb(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return NC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function hV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new z(4008,!1)}function fV(t){return!(t instanceof ba)&&!(t instanceof Hs)}var dd=class{};var pV=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(mt(n=>n instanceof Hn),Rn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=bl(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ae(i).pipe(as())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=W(null);let s=i.pipe(Fe(o=>o===null?W(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Ae([s,o]).pipe(as())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(H(xr),H(Al),H(_t),H(dd),H(Pm))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),MC=new U(""),gV=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof zs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Hn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Mr&&n.code===nd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof id&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new id(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){dD()}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function H6(t,...e){return Ut([{provide:Na,multi:!0,useValue:t},[],{provide:Di,useFactory:xC,deps:[xr]},{provide:oa,multi:!0,useFactory:PC},e.map(n=>n.\u0275providers)])}function xC(t){return t.routerState.root}function Fa(t,e){return{\u0275kind:t,\u0275providers:e}}function PC(){let t=x(ct);return e=>{let n=t.get(Cr);if(e!==n.components[0])return;let r=t.get(xr),i=t.get(OC);t.get(Lm)===1&&r.initialNavigation(),t.get(kC,null,se.Optional)?.setUpPreloading(),t.get(MC,null,se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var OC=new U("",{factory:()=>new gt}),Lm=new U("",{providedIn:"root",factory:()=>1});function mV(){return Fa(2,[{provide:Lm,useValue:0},{provide:Sl,multi:!0,deps:[ct],useFactory:e=>{let n=e.get(gb,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(xr),s=e.get(OC);NC(i,()=>{r(!0)}),e.get(km).afterPreactivation=()=>(r(!0),s.closed?W(void 0):s),i.initialNavigation()}))}}])}function yV(){return Fa(3,[{provide:Sl,multi:!0,useFactory:()=>{let e=x(xr);return()=>{e.setUpLocationChangeListener()}}},{provide:Lm,useValue:2}])}var kC=new U("");function vV(t){return Fa(0,[{provide:kC,useExisting:pV},{provide:dd,useExisting:t}])}function _V(){return Fa(8,[Kb,{provide:hd,useExisting:Kb}])}function IV(t){let e=[{provide:SC,useValue:nV},{provide:AC,useValue:V({skipNextTransition:!!t?.skipInitialTransition},t)}];return Fa(9,e)}var Zb=new U("ROUTER_FORROOT_GUARD"),wV=[ks,{provide:xa,useClass:$s},xr,Oa,{provide:Di,useFactory:xC,deps:[xr]},Pm,[]],q6=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[wV,[],{provide:Na,multi:!0,useValue:n},{provide:Zb,useFactory:bV,deps:[[xr,new ut,new Bp]]},{provide:La,useValue:r||{}},r?.useHash?TV():DV(),EV(),r?.preloadingStrategy?vV(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?CV(r):[],r?.bindToComponentInputs?_V().\u0275providers:[],r?.enableViewTransitions?IV().\u0275providers:[],SV()]}}static forChild(n){return{ngModule:t,providers:[{provide:Na,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(H(Zb,8))}}static{this.\u0275mod=vi({type:t})}static{this.\u0275inj=yi({})}}return t})();function EV(){return{provide:MC,useFactory:()=>{let t=x(Eb),e=x(ge),n=x(La),r=x(km),i=x(xa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new gV(i,r,t,e,n)}}}function TV(){return{provide:wi,useClass:yb}}function DV(){return{provide:wi,useClass:Bg}}function bV(t){return"guarded"}function CV(t){return[t.initialNavigation==="disabled"?yV().\u0275providers:[],t.initialNavigation==="enabledBlocking"?mV().\u0275providers:[]]}var Xb=new U("");function SV(){return[{provide:Xb,useFactory:PC},{provide:oa,multi:!0,useExisting:Xb}]}var FC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},AV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},VC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,o||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new Vm;let m=s<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Vm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},RV=function(t){let e=FC(t);return VC.encodeByteArray(e,!0)},Va=function(t){return RV(t).replace(/\./g,"")},jm=function(t){try{return VC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function NV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var MV=()=>NV().__FIREBASE_DEFAULTS__,xV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&jm(t[1]);return e&&JSON.parse(e)},gd=()=>{try{return MV()||xV()||PV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Bm=t=>{var e,n;return(n=(e=gd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},UC=t=>{let e=Bm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$m=()=>{var t;return(t=gd())===null||t===void 0?void 0:t.config},zm=t=>{var e;return(e=gd())===null||e===void 0?void 0:e[`_${t}`]};var pd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function jC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Va(JSON.stringify(n)),Va(JSON.stringify(o)),""].join(".")}function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function OV(){var t;let e=(t=gd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $C(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qC(){let t=Ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GC(){return!OV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hm(){try{return typeof indexedDB=="object"}catch{return!1}}function WC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var kV="FirebaseError",Pt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qn.prototype.create)}},qn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?LV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Pt(i,a,r)}};function LV(t,e){return t.replace(FV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var FV=/\{\$([^}]+)}/g;function KC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(LC(s)&&LC(o)){if(!bi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function LC(t){return t!==null&&typeof t=="object"}function Ua(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ws(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ks(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function QC(t,e){let n=new Um(t,e);return n.subscribe.bind(n)}var Um=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Fm),i.error===void 0&&(i.error=Fm),i.complete===void 0&&(i.complete=Fm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function VV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fm(){}var K6=4*60*60*1e3;function qe(t){return t&&t._delegate?t._delegate:t}var Gt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ci="[DEFAULT]";var qm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new pd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jV(e))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ci){return this.instances.has(e)}getOptions(e=Ci){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ci){return this.component?this.component.multipleInstances?e:Ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function UV(t){return t===Ci?void 0:t}function jV(t){return t.instantiationMode==="EAGER"}var md=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new qm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var BV=[],ue=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ue||{}),$V={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},zV=ue.INFO,HV={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},qV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=HV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Or=class{constructor(e){this.name=e,this._logLevel=zV,this._logHandler=qV,this._userLogHandler=null,BV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$V[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var GV=(t,e)=>e.some(n=>t instanceof n),YC,JC;function WV(){return YC||(YC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KV(){return JC||(JC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ZC=new WeakMap,Wm=new WeakMap,XC=new WeakMap,Gm=new WeakMap,Qm=new WeakMap;function QV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(pn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ZC.set(n,t)}).catch(()=>{}),Qm.set(e,t),e}function YV(t){if(Wm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Wm.set(t,e)}var Km={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eS(t){Km=t(Km)}function JV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(yd(this),e,...n);return XC.set(r,e.sort?e.sort():[e]),pn(r)}:KV().includes(t)?function(...e){return t.apply(yd(this),e),pn(ZC.get(this))}:function(...e){return pn(t.apply(yd(this),e))}}function ZV(t){return typeof t=="function"?JV(t):(t instanceof IDBTransaction&&YV(t),GV(t,WV())?new Proxy(t,Km):t)}function pn(t){if(t instanceof IDBRequest)return QV(t);if(Gm.has(t))return Gm.get(t);let e=ZV(t);return e!==t&&(Gm.set(t,e),Qm.set(e,t)),e}var yd=t=>Qm.get(t);function nS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=pn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(pn(o.result),u.oldVersion,u.newVersion,pn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var XV=["get","getKey","getAll","getAllKeys","count"],eU=["put","add","delete","clear"],Ym=new Map;function tS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ym.get(e))return Ym.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=eU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XV.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Ym.set(e,s),s}eS(t=>be(V({},t),{get:(e,n,r)=>tS(e,n)||t.get(e,n,r),has:(e,n)=>!!tS(e,n)||t.has(e,n)}));var Zm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function tU(t){let e=t.getComponent();return e?.type==="VERSION"}var Xm="@firebase/app",rS="0.10.11";var Gn=new Or("@firebase/app"),nU="@firebase/app-compat",rU="@firebase/analytics-compat",iU="@firebase/analytics",sU="@firebase/app-check-compat",oU="@firebase/app-check",aU="@firebase/auth",cU="@firebase/auth-compat",uU="@firebase/database",lU="@firebase/database-compat",dU="@firebase/functions",hU="@firebase/functions-compat",fU="@firebase/installations",pU="@firebase/installations-compat",gU="@firebase/messaging",mU="@firebase/messaging-compat",yU="@firebase/performance",vU="@firebase/performance-compat",_U="@firebase/remote-config",IU="@firebase/remote-config-compat",wU="@firebase/storage",EU="@firebase/storage-compat",TU="@firebase/firestore",DU="@firebase/vertexai-preview",bU="@firebase/firestore-compat",CU="firebase",SU="10.13.2";var ey="[DEFAULT]",AU={[Xm]:"fire-core",[nU]:"fire-core-compat",[iU]:"fire-analytics",[rU]:"fire-analytics-compat",[oU]:"fire-app-check",[sU]:"fire-app-check-compat",[aU]:"fire-auth",[cU]:"fire-auth-compat",[uU]:"fire-rtdb",[lU]:"fire-rtdb-compat",[dU]:"fire-fn",[hU]:"fire-fn-compat",[fU]:"fire-iid",[pU]:"fire-iid-compat",[gU]:"fire-fcm",[mU]:"fire-fcm-compat",[yU]:"fire-perf",[vU]:"fire-perf-compat",[_U]:"fire-rc",[IU]:"fire-rc-compat",[wU]:"fire-gcs",[EU]:"fire-gcs-compat",[TU]:"fire-fst",[bU]:"fire-fst-compat",[DU]:"fire-vertex","fire-js":"fire-js",[CU]:"fire-js-all"};var ja=new Map,RU=new Map,ty=new Map;function iS(t,e){try{t.container.addComponent(e)}catch(n){Gn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lr(t){let e=t.name;if(ty.has(e))return Gn.debug(`There were multiple attempts to register component ${e}.`),!1;ty.set(e,t);for(let n of ja.values())iS(n,t);for(let n of RU.values())iS(n,t);return!0}function $a(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function nn(t){return t.settings!==void 0}var NU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new qn("app","Firebase",NU);var ny=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}};var Fr=SU;function sy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ey,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw kr.create("bad-app-name",{appName:String(i)});if(n||(n=$m()),!n)throw kr.create("no-options");let s=ja.get(i);if(s){if(bi(n,s.options)&&bi(r,s.config))return s;throw kr.create("duplicate-app",{appName:i})}let o=new md(i);for(let u of ty.values())o.addComponent(u);let a=new ny(n,r,o);return ja.set(i,a),a}function Qs(t=ey){let e=ja.get(t);if(!e&&t===ey&&$m())return sy();if(!e)throw kr.create("no-app",{appName:t});return e}function vd(){return Array.from(ja.values())}function Ge(t,e,n){var r;let i=(r=AU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gn.warn(a.join(" "));return}Lr(new Gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var MU="firebase-heartbeat-database",xU=1,Ba="firebase-heartbeat-store",Jm=null;function cS(){return Jm||(Jm=nS(MU,xU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ba)}catch(n){console.warn(n)}}}}).catch(t=>{throw kr.create("idb-open",{originalErrorMessage:t.message})})),Jm}function PU(t){return w(this,null,function*(){try{let n=(yield cS()).transaction(Ba),r=yield n.objectStore(Ba).get(uS(t));return yield n.done,r}catch(e){if(e instanceof Pt)Gn.warn(e.message);else{let n=kr.create("idb-get",{originalErrorMessage:e?.message});Gn.warn(n.message)}}})}function sS(t,e){return w(this,null,function*(){try{let r=(yield cS()).transaction(Ba,"readwrite");yield r.objectStore(Ba).put(e,uS(t)),yield r.done}catch(n){if(n instanceof Pt)Gn.warn(n.message);else{let r=kr.create("idb-set",{originalErrorMessage:n?.message});Gn.warn(r.message)}}})}function uS(t){return`${t.name}!${t.options.appId}`}var OU=1024,kU=30*24*60*60*1e3,ry=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new iy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=oS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=kU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Gn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=oS(),{heartbeatsToSend:r,unsentEntries:i}=LU(this._heartbeatsCache.heartbeats),s=Va(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Gn.warn(n),""}})}};function oS(){return new Date().toISOString().substring(0,10)}function LU(t,e=OU){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),aS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),aS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var iy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Hm()?WC().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield PU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function aS(t){return Va(JSON.stringify({version:2,heartbeats:t})).length}function FU(t){Lr(new Gt("platform-logger",e=>new Zm(e),"PRIVATE")),Lr(new Gt("heartbeat",e=>new ry(e),"PRIVATE")),Ge(Xm,rS,t),Ge(Xm,rS,"esm2017"),Ge("fire-js","")}FU("");var VU="firebase",UU="10.13.2";Ge(VU,UU,"app");var Ai=new Er("ANGULARFIRE2_VERSION");function Id(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var za=(t,e)=>{let n=e?[e]:vd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Js=class{constructor(){return za(jU)}},jU="app-check";function Ys(){}var _d=class{zone;delegate;constructor(e,n=bf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},oy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ys,{},Ys,Ys)),n.pipe(Ve({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Zs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new _d(Zone.current)),this.insideAngular=n.run(()=>new _d(Zone.current,Df)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(H(ge))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function BU(t){return wd().ngZone.runOutsideAngular(()=>t())}function Si(t){return wd().ngZone.run(()=>t())}function $U(t){return zU(wd())(t)}function zU(t){return function(n){return n=n.lift(new oy(t.ngZone)),n.pipe(ur(t.outsideAngular),cr(t.insideAngular))}}var HU=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Si(()=>t.apply(void 0,r))},et=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Si(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ys,{},Ys,Ys))),r[s]=HU(r[s],n));let i=BU(()=>t.apply(this,r));if(!e)if(i instanceof ie){let s=wd();return i.pipe(ur(s.outsideAngular),cr(s.insideAngular))}else return Si(()=>i);return i instanceof ie?i.pipe($U):i instanceof Promise?Si(()=>new Promise((s,o)=>i.then(a=>Si(()=>s(a)),a=>Si(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Si(()=>i)};var Wn=class{constructor(e){return e}},Ri=class{constructor(){return vd()}};function qU(t){return t&&t.length===1?t[0]:new Wn(Qs())}var ay=new U("angularfire2._apps"),GU={provide:Wn,useFactory:qU,deps:[[new ut,ay]]},WU={provide:Ri,deps:[[new ut,ay]]};function KU(t){return(e,n)=>{let r=n.get($t);Ge("angularfire",Ai.full,"core"),Ge("angularfire",Ai.full,"app"),Ge("angular",JD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Wn(i)}}function O8(t,...e){return Ut([GU,WU,{provide:ay,useFactory:KU(t),multi:!0,deps:[ge,ct,Zs,...e]}])}var k8=et(sy,!0);function CS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var SS=CS,AS=new qn("auth","Firebase",CS());var Sd=new Or("@firebase/auth");function QU(t,...e){Sd.logLevel<=ue.WARN&&Sd.warn(`Auth (${Fr}): ${t}`,...e)}function Td(t,...e){Sd.logLevel<=ue.ERROR&&Sd.error(`Auth (${Fr}): ${t}`,...e)}function mn(t,...e){throw Ny(t,...e)}function Ni(t,...e){return Ny(t,...e)}function RS(t,e,n){let r=Object.assign(Object.assign({},SS()),{[e]:n});return new qn("auth","Firebase",r).create(e,{appName:t.name})}function Yn(t){return RS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ny(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AS.create(t,...e)}function K(t,e,...n){if(!t)throw Ny(e,...n)}function Kn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Td(e),new Error(e)}function Ur(t,e){t||Kn(e)}function dy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YU(){return lS()==="http:"||lS()==="https:"}function lS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function JU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YU()||zC()||"connection"in navigator)?navigator.onLine:!0}function ZU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Mi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ur(n>e,"Short delay should be less than long delay!"),this.isMobile=BC()||HC()}get(){return JU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function My(t,e){Ur(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ad=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var XU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var ej=new Mi(3e4,6e4);function jr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Br(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return NS(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Ua(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return $C()||(y.referrerPolicy="no-referrer"),Ad.fetch()(MS(t,t.config.apiHost,n,p),y)}))})}function NS(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},XU),e);try{let i=new hy(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Ed(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ed(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ed(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ed(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw RS(t,h,l);mn(t,h)}}catch(i){if(i instanceof Pt)throw i;mn(t,"network-request-failed",{message:String(i)})}})}function Ja(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Br(t,e,n,r,i);return"mfaPendingCredential"in l&&mn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function MS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?My(t.config,i):`${t.config.apiScheme}://${i}`}function tj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var hy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ni(this.auth,"network-request-failed")),ej.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ed(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ni(t,e,r);return i.customData._tokenResponse=n,i}function dS(t){return t!==void 0&&t.enterprise!==void 0}var fy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function nj(t,e){return w(this,null,function*(){return Br(t,"GET","/v2/recaptchaConfig",jr(t,e))})}function rj(t,e){return w(this,null,function*(){return Br(t,"POST","/v1/accounts:delete",e)})}function xS(t,e){return w(this,null,function*(){return Br(t,"POST","/v1/accounts:lookup",e)})}function Ha(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function xy(t,e=!1){return w(this,null,function*(){let n=qe(t),r=yield n.getIdToken(e),i=Py(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ha(cy(i.auth_time)),issuedAtTime:Ha(cy(i.iat)),expirationTime:Ha(cy(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function cy(t){return Number(t)*1e3}function Py(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Td("JWT malformed, contained fewer than 3 sections"),null;try{let i=jm(n);return i?JSON.parse(i):(Td("Failed to decode base64 JWT payload"),null)}catch(i){return Td("Caught error parsing JWT payload as JSON",i?.toString()),null}}function hS(t){let e=Py(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ga(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Pt&&ij(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function ij({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var py=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Wa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ha(this.lastLoginAt),this.creationTime=Ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Rd(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ga(t,xS(n,{idToken:r}));K(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?PS(s.providerUserInfo):[],a=sj(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Wa(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Oy(t){return w(this,null,function*(){let e=qe(t);yield Rd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function sj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function PS(t){return t.map(e=>{var{providerId:n}=e,r=Cf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function oj(t,e){return w(this,null,function*(){let n=yield NS(t,{},()=>w(this,null,function*(){let r=Ua({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=MS(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ad.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function aj(t,e){return w(this,null,function*(){return Br(t,"POST","/v2/accounts:revokeToken",jr(t,e))})}var qa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");let n=hS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield oj(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(K(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(K(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Kn("not implemented")}};function Vr(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Xs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Cf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new py(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Ga(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return xy(this,e)}reload(){return Oy(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Rd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(nn(this.auth.app))return Promise.reject(Yn(this.auth));let e=yield this.getIdToken();return yield Ga(this,rj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,$=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:F,emailVerified:Z,isAnonymous:_e,providerData:G,stsTokenManager:E}=n;K(F&&E,e,"internal-error");let v=qa.fromJSON(this.name,E);K(typeof F=="string",e,"internal-error"),Vr(p,e.name),Vr(m,e.name),K(typeof Z=="boolean",e,"internal-error"),K(typeof _e=="boolean",e,"internal-error"),Vr(y,e.name),Vr(C,e.name),Vr(N,e.name),Vr(A,e.name),Vr(k,e.name),Vr($,e.name);let _=new t({uid:F,auth:e,email:m,emailVerified:Z,displayName:p,isAnonymous:_e,photoURL:C,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:k,lastLoginAt:$});return G&&Array.isArray(G)&&(_.providerData=G.map(T=>Object.assign({},T))),A&&(_._redirectEventId=A),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new qa;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rd(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];K(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?PS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new qa;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Wa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var fS=new Map;function Qn(t){Ur(t instanceof Function,"Expected a class definition");let e=fS.get(t);return e?(Ur(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fS.set(t,e),e)}var cj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),gy=cj;function Dd(t,e,n){return`firebase:${t}:${e}:${n}`}var Nd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Dd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Dd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Xs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Qn(gy),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Qn(gy),o=Dd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=Xs._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function pS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(US(e))return"Blackberry";if(jS(e))return"Webos";if(kS(e))return"Safari";if((e.includes("chrome/")||LS(e))&&!e.includes("edge/"))return"Chrome";if(VS(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function OS(t=Ke()){return/firefox\//i.test(t)}function kS(t=Ke()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LS(t=Ke()){return/crios\//i.test(t)}function FS(t=Ke()){return/iemobile/i.test(t)}function VS(t=Ke()){return/android/i.test(t)}function US(t=Ke()){return/blackberry/i.test(t)}function jS(t=Ke()){return/webos/i.test(t)}function ky(t=Ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uj(t=Ke()){var e;return ky(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lj(){return qC()&&document.documentMode===10}function BS(t=Ke()){return ky(t)||VS(t)||jS(t)||US(t)||/windows phone/i.test(t)||FS(t)}function $S(t,e=[]){let n;switch(t){case"Browser":n=pS(Ke());break;case"Worker":n=`${pS(Ke())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fr}/${r}`}var my=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function dj(n){return w(this,arguments,function*(t,e={}){return Br(t,"GET","/v2/passwordPolicy",jr(t,e))})}var hj=6,yy=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:hj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var vy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Md(this),this.idTokenSubscription=new Md(this),this.beforeStateQueue=new my(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Nd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield xS(this,{idToken:e}),r=yield Xs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(nn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Rd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=ZU()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(nn(this.app))return Promise.reject(Yn(this));let n=e?qe(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return nn(this.app)?Promise.reject(Yn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return nn(this.app)?Promise.reject(Yn(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Qn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield dj(this),n=new yy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield aj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Qn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=yield Nd.create(this,[Qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$S(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&QU(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Pi(t){return qe(t)}var Md=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=QC(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Vd={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fj(t){Vd=t}function zS(t){return Vd.loadJS(t)}function pj(){return Vd.recaptchaEnterpriseScript}function gj(){return Vd.gapiScript}function HS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var mj="recaptcha-enterprise",yj="NO_RECAPTCHA",_y=class{constructor(e){this.type=mj,this.auth=Pi(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>w(this,null,function*(){nj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new fy(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;dS(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(yj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&dS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=pj();u.length!==0&&(u+=a),zS(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function gS(t,e,n,r=!1){return w(this,null,function*(){let i=new _y(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Iy(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield gS(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield gS(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Ly(t,e){let n=$a(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(bi(s,e??{}))return i;mn(i,"already-initialized")}return n.initialize({options:e})}function vj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Qn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Fy(t,e,n){let r=Pi(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=qS(e),{host:o,port:a}=_j(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Ij()}function qS(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _j(t){let e=qS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:mS(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:mS(o)}}}function mS(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Ij(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ka=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kn("not implemented")}_getIdTokenResponse(e){return Kn("not implemented")}_linkToIdToken(e,n){return Kn("not implemented")}_getReauthenticationResolver(e){return Kn("not implemented")}};function wj(t,e){return w(this,null,function*(){return Br(t,"POST","/v1/accounts:signUp",e)})}function Ej(t,e){return w(this,null,function*(){return Ja(t,"POST","/v1/accounts:signInWithPassword",jr(t,e))})}function Tj(t,e){return w(this,null,function*(){return Ja(t,"POST","/v1/accounts:signInWithEmailLink",jr(t,e))})}function Dj(t,e){return w(this,null,function*(){return Ja(t,"POST","/v1/accounts:signInWithEmailLink",jr(t,e))})}var Qa=class t extends Ka{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Iy(e,n,"signInWithPassword",Ej);case"emailLink":return Tj(e,{email:this._email,oobCode:this._password});default:mn(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Iy(e,r,"signUpPassword",wj);case"emailLink":return Dj(e,{idToken:n,email:this._email,oobCode:this._password});default:mn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function uy(t,e){return w(this,null,function*(){return Ja(t,"POST","/v1/accounts:signInWithIdp",jr(t,e))})}function bj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Cj(t){let e=Ws(Ks(t)).link,n=e?Ws(Ks(e)).deep_link_id:null,r=Ws(Ks(t)).deep_link_id;return(r?Ws(Ks(r)).link:null)||r||n||e||t}var xd=class t{constructor(e){var n,r,i,s,o,a;let u=Ws(Ks(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=bj((i=u.mode)!==null&&i!==void 0?i:null);K(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Cj(e);try{return new t(n)}catch{return null}}};var GS=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Qa._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=xd.parseLink(r);return K(i,"argument-error"),Qa._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Pd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var wy=class extends Pd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Sj(t,e){return w(this,null,function*(){return Ja(t,"POST","/v1/accounts:signUp",jr(t,e))})}var eo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield Xs._fromIdTokenResponse(e,r,i),o=yS(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=yS(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function yS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Ey=class t extends Pt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function WS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ey._fromErrorAndOperation(t,s,e,r):s})}function Aj(t,e,n=!1){return w(this,null,function*(){let r=yield Ga(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return eo._forOperation(t,"link",r)})}function Rj(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(nn(r.app))return Promise.reject(Yn(r));let i="reauthenticate";try{let s=yield Ga(t,WS(r,i,e,t),n);K(s.idToken,r,"internal-error");let o=Py(s.idToken);K(o,r,"internal-error");let{sub:a}=o;return K(t.uid===a,r,"user-mismatch"),eo._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&mn(r,"user-mismatch"),s}})}function KS(t,e,n=!1){return w(this,null,function*(){if(nn(t.app))return Promise.reject(Yn(t));let r="signIn",i=yield WS(t,r,e),s=yield eo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Vy(t,e){return w(this,null,function*(){return KS(Pi(t),e)})}function QS(t){return w(this,null,function*(){let e=Pi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Uy(t,e,n){return w(this,null,function*(){if(nn(t.app))return Promise.reject(Yn(t));let r=Pi(t),o=yield Iy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Sj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&QS(t),u}),a=yield eo._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function jy(t,e,n){return nn(t.app)?Promise.reject(Yn(t)):Vy(qe(t),GS.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&QS(t),r}))}function By(t,e,n,r){return qe(t).onIdTokenChanged(e,n,r)}function $y(t,e,n){return qe(t).beforeAuthStateChanged(e,n)}var Od="__sak";var kd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Od,"1"),this.storage.removeItem(Od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Nj=1e3,Mj=10,xj=(()=>{class t extends kd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BS(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);lj()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,Mj):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Nj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield or(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield or(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield or(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),YS=xj;var Pj=(()=>{class t extends kd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),zy=Pj;function Oj(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var kj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield Oj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function JS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Ty=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=JS("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function gn(){return window}function Lj(t){gn().location.href=t}function ZS(){return typeof gn().WorkerGlobalScope<"u"&&typeof gn().importScripts=="function"}function Fj(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Vj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Uj(){return ZS()?self:null}var XS="firebaseLocalStorageDb",jj=1,Ld="firebaseLocalStorage",e0="fbase_key",xi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Ud(t,e){return t.transaction([Ld],e?"readwrite":"readonly").objectStore(Ld)}function Bj(){let t=indexedDB.deleteDatabase(XS);return new xi(t).toPromise()}function Dy(){let t=indexedDB.open(XS,jj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Ld,{keyPath:e0})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Ld)?e(r):(r.close(),yield Bj(),e(yield Dy()))}))})}function vS(t,e,n){return w(this,null,function*(){let r=Ud(t,!0).put({[e0]:e,value:n});return new xi(r).toPromise()})}function $j(t,e){return w(this,null,function*(){let n=Ud(t,!1).get(e),r=yield new xi(n).toPromise();return r===void 0?null:r.value})}function _S(t,e){let n=Ud(t,!0).delete(e);return new xi(n).toPromise()}var zj=800,Hj=3,qj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield Dy(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Hj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return ZS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=kj._getInstance(Uj()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Fj(),!this.activeServiceWorker)return;this.sender=new Ty(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Vj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Dy();return yield vS(n,Od,"1"),yield _S(n,Od),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>vS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>$j(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>_S(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=Ud(s,!1).getAll();return new xi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),zj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),t0=qj;var z8=HS("rcb"),H8=new Mi(3e4,6e4);function Gj(t,e){return e?Qn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ya=class extends Ka{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uy(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uy(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uy(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Wj(t){return KS(t.auth,new Ya(t),t.bypassAuthState)}function Kj(t){let{auth:e,user:n}=t;return K(n,e,"internal-error"),Rj(n,new Ya(t),t.bypassAuthState)}function Qj(t){return w(this,null,function*(){let{auth:e,user:n}=t;return K(n,e,"internal-error"),Aj(n,new Ya(t),t.bypassAuthState)})}var by=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wj;case"linkViaPopup":case"linkViaRedirect":return Qj;case"reauthViaPopup":case"reauthViaRedirect":return Kj;default:mn(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var q8=new Mi(2e3,1e4);var Yj="pendingRedirect",bd=new Map,Cy=class t extends by{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=bd.get(this.auth._key());if(!e){try{let r=(yield Jj(this.resolver,this.auth))?yield or(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bd.set(this.auth._key(),e)}return this.bypassAuthState||bd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return or(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,or(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function Jj(t,e){return w(this,null,function*(){let n=e2(e),r=Xj(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Zj(t,e){bd.set(t._key(),e)}function Xj(t){return Qn(t._redirectPersistence)}function e2(t){return Dd(Yj,t.config.apiKey,t.name)}function t2(t,e,n=!1){return w(this,null,function*(){if(nn(t.app))return Promise.reject(Yn(t));let r=Pi(t),i=Gj(r,e),o=yield new Cy(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var n2=10*60*1e3,Sy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!n0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ni(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n2&&this.cachedEventUids.clear(),this.cachedEventUids.has(IS(e))}saveEventToCache(e){this.cachedEventUids.add(IS(e)),this.lastProcessedEventTime=Date.now()}};function IS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function n0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function r2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n0(t);default:return!1}}function i2(n){return w(this,arguments,function*(t,e={}){return Br(t,"GET","/v1/projects",e)})}var s2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o2=/^https?/;function a2(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield i2(t);for(let n of e)try{if(c2(n))return}catch{}mn(t,"unauthorized-domain")})}function c2(t){let e=dy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!o2.test(n))return!1;if(s2.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var u2=new Mi(3e4,6e4);function wS(){let t=gn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function l2(t){return new Promise((e,n)=>{var r,i,s;function o(){wS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wS(),n(Ni(t,"network-request-failed"))},timeout:u2.get()})}if(!((i=(r=gn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=gn().gapi)===null||s===void 0)&&s.load)o();else{let a=HS("iframefcb");return gn()[a]=()=>{gapi.load?o():n(Ni(t,"network-request-failed"))},zS(`${gj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Cd=null,e})}var Cd=null;function d2(t){return Cd=Cd||l2(t),Cd}var h2=new Mi(5e3,15e3),f2="__/auth/iframe",p2="emulator/auth/iframe",g2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y2(t){let e=t.config;K(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?My(e,p2):`https://${t.config.authDomain}/${f2}`,r={apiKey:e.apiKey,appName:t.name,v:Fr},i=m2.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ua(r).slice(1)}`}function v2(t){return w(this,null,function*(){let e=yield d2(t),n=gn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:y2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g2,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ni(t,"network-request-failed"),a=gn().setTimeout(()=>{s(o)},h2.get());function u(){gn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var _2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I2=500,w2=600,E2="_blank",T2="http://localhost",Fd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function D2(t,e,n,r=I2,i=w2){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},_2),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ke().toLowerCase();n&&(a=LS(l)?E2:n),OS(l)&&(e=e||T2,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,C])=>`${m}${y}=${C},`,"");if(uj(l)&&a!=="_self")return b2(e||"",a),new Fd(null);let p=window.open(e||"",a,h);K(p,t,"popup-blocked");try{p.focus()}catch{}return new Fd(p)}function b2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var C2="__/auth/handler",S2="emulator/auth/handler",A2=encodeURIComponent("fac");function ES(t,e,n,r,i,s){return w(this,null,function*(){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fr,eventId:i};if(e instanceof Pd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",KC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof wy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${A2}=${encodeURIComponent(u)}`:"";return`${R2(t)}?${Ua(a).slice(1)}${l}`})}function R2({config:t}){return t.emulator?My(t,S2):`https://${t.authDomain}/${C2}`}var ly="webStorageSupport",Ay=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zy,this._completeRedirectFn=t2,this._overrideRedirectResult=Zj}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Ur((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield ES(e,n,r,dy(),i);return D2(e,o,JS())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield ES(e,n,r,dy(),i);return Lj(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ur(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield v2(e),r=new Sy(e);return n.register("authEvent",i=>(K(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ly,{type:ly},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[ly];o!==void 0&&n(!!o),mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BS()||kS()||ky()}},r0=Ay;var TS="@firebase/auth",DS="1.7.9";var Ry=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function N2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M2(t){Lr(new Gt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$S(t)},l=new vy(r,i,s,u);return vj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Lr(new Gt("auth-internal",e=>{let n=Pi(e.getProvider("auth").getImmediate());return(r=>new Ry(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ge(TS,DS,N2(t)),Ge(TS,DS,"esm2017")}var x2=5*60,P2=zm("authIdTokenMaxAge")||x2,bS=null,O2=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>P2)return;let i=n?.token;bS!==i&&(bS=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Hy(t=Qs()){let e=$a(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Ly(t,{popupRedirectResolver:r0,persistence:[t0,YS,zy]}),r=zm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=O2(s.toString());$y(n,o,()=>o(n.currentUser)),By(n,a=>o(a))}}let i=Bm("auth");return i&&Fy(n,`http://${i}`),n}function k2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}fj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Ni("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",k2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M2("Browser");var i0="auth",Za=class{constructor(e){return e}},Xa=class{constructor(){return za(i0)}};var qy=new U("angularfire2.auth-instances");function CB(t,e){let n=Id(i0,t,e);return n&&new Za(n)}function SB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Za(r)}}var AB={provide:Xa,deps:[[new ut,qy]]},RB={provide:Za,useFactory:CB,deps:[[new ut,qy],Wn]};function A5(t,...e){return Ge("angularfire",Ai.full,"auth"),Ut([RB,AB,{provide:qy,useFactory:SB(t),multi:!0,deps:[ge,ct,Zs,Ri,[new ut,Js],...e]}])}var R5=et(Uy,!0);var N5=et(Hy,!0);var M5=et(jy,!0);var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o0={};var $r,Gy;(function(){var t;function e(E,v){function _(){}_.prototype=v.prototype,E.D=v.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(T,D,S){for(var I=Array(arguments.length-2),Dn=2;Dn<arguments.length;Dn++)I[Dn-2]=arguments[Dn];return v.prototype[D].apply(T,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,_){_||(_=0);var T=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)T[D]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(D=0;16>D;++D)T[D]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=E.g[0],_=E.g[1],D=E.g[2];var S=E.g[3],I=v+(S^_&(D^S))+T[0]+3614090360&4294967295;v=_+(I<<7&4294967295|I>>>25),I=S+(D^v&(_^D))+T[1]+3905402710&4294967295,S=v+(I<<12&4294967295|I>>>20),I=D+(_^S&(v^_))+T[2]+606105819&4294967295,D=S+(I<<17&4294967295|I>>>15),I=_+(v^D&(S^v))+T[3]+3250441966&4294967295,_=D+(I<<22&4294967295|I>>>10),I=v+(S^_&(D^S))+T[4]+4118548399&4294967295,v=_+(I<<7&4294967295|I>>>25),I=S+(D^v&(_^D))+T[5]+1200080426&4294967295,S=v+(I<<12&4294967295|I>>>20),I=D+(_^S&(v^_))+T[6]+2821735955&4294967295,D=S+(I<<17&4294967295|I>>>15),I=_+(v^D&(S^v))+T[7]+4249261313&4294967295,_=D+(I<<22&4294967295|I>>>10),I=v+(S^_&(D^S))+T[8]+1770035416&4294967295,v=_+(I<<7&4294967295|I>>>25),I=S+(D^v&(_^D))+T[9]+2336552879&4294967295,S=v+(I<<12&4294967295|I>>>20),I=D+(_^S&(v^_))+T[10]+4294925233&4294967295,D=S+(I<<17&4294967295|I>>>15),I=_+(v^D&(S^v))+T[11]+2304563134&4294967295,_=D+(I<<22&4294967295|I>>>10),I=v+(S^_&(D^S))+T[12]+1804603682&4294967295,v=_+(I<<7&4294967295|I>>>25),I=S+(D^v&(_^D))+T[13]+4254626195&4294967295,S=v+(I<<12&4294967295|I>>>20),I=D+(_^S&(v^_))+T[14]+2792965006&4294967295,D=S+(I<<17&4294967295|I>>>15),I=_+(v^D&(S^v))+T[15]+1236535329&4294967295,_=D+(I<<22&4294967295|I>>>10),I=v+(D^S&(_^D))+T[1]+4129170786&4294967295,v=_+(I<<5&4294967295|I>>>27),I=S+(_^D&(v^_))+T[6]+3225465664&4294967295,S=v+(I<<9&4294967295|I>>>23),I=D+(v^_&(S^v))+T[11]+643717713&4294967295,D=S+(I<<14&4294967295|I>>>18),I=_+(S^v&(D^S))+T[0]+3921069994&4294967295,_=D+(I<<20&4294967295|I>>>12),I=v+(D^S&(_^D))+T[5]+3593408605&4294967295,v=_+(I<<5&4294967295|I>>>27),I=S+(_^D&(v^_))+T[10]+38016083&4294967295,S=v+(I<<9&4294967295|I>>>23),I=D+(v^_&(S^v))+T[15]+3634488961&4294967295,D=S+(I<<14&4294967295|I>>>18),I=_+(S^v&(D^S))+T[4]+3889429448&4294967295,_=D+(I<<20&4294967295|I>>>12),I=v+(D^S&(_^D))+T[9]+568446438&4294967295,v=_+(I<<5&4294967295|I>>>27),I=S+(_^D&(v^_))+T[14]+3275163606&4294967295,S=v+(I<<9&4294967295|I>>>23),I=D+(v^_&(S^v))+T[3]+4107603335&4294967295,D=S+(I<<14&4294967295|I>>>18),I=_+(S^v&(D^S))+T[8]+1163531501&4294967295,_=D+(I<<20&4294967295|I>>>12),I=v+(D^S&(_^D))+T[13]+2850285829&4294967295,v=_+(I<<5&4294967295|I>>>27),I=S+(_^D&(v^_))+T[2]+4243563512&4294967295,S=v+(I<<9&4294967295|I>>>23),I=D+(v^_&(S^v))+T[7]+1735328473&4294967295,D=S+(I<<14&4294967295|I>>>18),I=_+(S^v&(D^S))+T[12]+2368359562&4294967295,_=D+(I<<20&4294967295|I>>>12),I=v+(_^D^S)+T[5]+4294588738&4294967295,v=_+(I<<4&4294967295|I>>>28),I=S+(v^_^D)+T[8]+2272392833&4294967295,S=v+(I<<11&4294967295|I>>>21),I=D+(S^v^_)+T[11]+1839030562&4294967295,D=S+(I<<16&4294967295|I>>>16),I=_+(D^S^v)+T[14]+4259657740&4294967295,_=D+(I<<23&4294967295|I>>>9),I=v+(_^D^S)+T[1]+2763975236&4294967295,v=_+(I<<4&4294967295|I>>>28),I=S+(v^_^D)+T[4]+1272893353&4294967295,S=v+(I<<11&4294967295|I>>>21),I=D+(S^v^_)+T[7]+4139469664&4294967295,D=S+(I<<16&4294967295|I>>>16),I=_+(D^S^v)+T[10]+3200236656&4294967295,_=D+(I<<23&4294967295|I>>>9),I=v+(_^D^S)+T[13]+681279174&4294967295,v=_+(I<<4&4294967295|I>>>28),I=S+(v^_^D)+T[0]+3936430074&4294967295,S=v+(I<<11&4294967295|I>>>21),I=D+(S^v^_)+T[3]+3572445317&4294967295,D=S+(I<<16&4294967295|I>>>16),I=_+(D^S^v)+T[6]+76029189&4294967295,_=D+(I<<23&4294967295|I>>>9),I=v+(_^D^S)+T[9]+3654602809&4294967295,v=_+(I<<4&4294967295|I>>>28),I=S+(v^_^D)+T[12]+3873151461&4294967295,S=v+(I<<11&4294967295|I>>>21),I=D+(S^v^_)+T[15]+530742520&4294967295,D=S+(I<<16&4294967295|I>>>16),I=_+(D^S^v)+T[2]+3299628645&4294967295,_=D+(I<<23&4294967295|I>>>9),I=v+(D^(_|~S))+T[0]+4096336452&4294967295,v=_+(I<<6&4294967295|I>>>26),I=S+(_^(v|~D))+T[7]+1126891415&4294967295,S=v+(I<<10&4294967295|I>>>22),I=D+(v^(S|~_))+T[14]+2878612391&4294967295,D=S+(I<<15&4294967295|I>>>17),I=_+(S^(D|~v))+T[5]+4237533241&4294967295,_=D+(I<<21&4294967295|I>>>11),I=v+(D^(_|~S))+T[12]+1700485571&4294967295,v=_+(I<<6&4294967295|I>>>26),I=S+(_^(v|~D))+T[3]+2399980690&4294967295,S=v+(I<<10&4294967295|I>>>22),I=D+(v^(S|~_))+T[10]+4293915773&4294967295,D=S+(I<<15&4294967295|I>>>17),I=_+(S^(D|~v))+T[1]+2240044497&4294967295,_=D+(I<<21&4294967295|I>>>11),I=v+(D^(_|~S))+T[8]+1873313359&4294967295,v=_+(I<<6&4294967295|I>>>26),I=S+(_^(v|~D))+T[15]+4264355552&4294967295,S=v+(I<<10&4294967295|I>>>22),I=D+(v^(S|~_))+T[6]+2734768916&4294967295,D=S+(I<<15&4294967295|I>>>17),I=_+(S^(D|~v))+T[13]+1309151649&4294967295,_=D+(I<<21&4294967295|I>>>11),I=v+(D^(_|~S))+T[4]+4149444226&4294967295,v=_+(I<<6&4294967295|I>>>26),I=S+(_^(v|~D))+T[11]+3174756917&4294967295,S=v+(I<<10&4294967295|I>>>22),I=D+(v^(S|~_))+T[2]+718787259&4294967295,D=S+(I<<15&4294967295|I>>>17),I=_+(S^(D|~v))+T[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+S&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var _=v-this.blockSize,T=this.B,D=this.h,S=0;S<v;){if(D==0)for(;S<=_;)i(this,E,S),S+=this.blockSize;if(typeof E=="string"){for(;S<v;)if(T[D++]=E.charCodeAt(S++),D==this.blockSize){i(this,T),D=0;break}}else for(;S<v;)if(T[D++]=E[S++],D==this.blockSize){i(this,T),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var _=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=_&255,_/=256;for(this.u(E),E=Array(16),v=_=0;4>v;++v)for(var T=0;32>T;T+=8)E[_++]=this.g[v]>>>T&255;return E};function s(E,v){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=v(E)}function o(E,v){this.h=v;for(var _=[],T=!0,D=E.length-1;0<=D;D--){var S=E[D]|0;T&&S==v||(_[D]=S,T=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?s(E,function(v){return new o([v|0],0>v?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return A(l(-E));for(var v=[],_=1,T=0;E>=_;T++)v[T]=E/_|0,_*=4294967296;return new o(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return A(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),T=p,D=0;D<E.length;D+=8){var S=Math.min(8,E.length-D),I=parseInt(E.substring(D,D+S),v);8>S?(S=l(Math.pow(v,S)),T=T.j(S).add(l(I))):(T=T.j(_),T=T.add(l(I)))}return T}var p=u(0),m=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-A(this).m();for(var E=0,v=1,_=0;_<this.g.length;_++){var T=this.i(_);E+=(0<=T?T:4294967296+T)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C(this))return"0";if(N(this))return"-"+A(this).toString(E);for(var v=l(Math.pow(E,6)),_=this,T="";;){var D=Z(_,v).g;_=k(_,D.j(v));var S=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=D,C(_))return S+T;for(;6>S.length;)S="0"+S;T=S+T}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function C(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function N(E){return E.h==-1}t.l=function(E){return E=k(this,E),N(E)?-1:C(E)?0:1};function A(E){for(var v=E.g.length,_=[],T=0;T<v;T++)_[T]=~E.g[T];return new o(_,~E.h).add(m)}t.abs=function(){return N(this)?A(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],T=0,D=0;D<=v;D++){var S=T+(this.i(D)&65535)+(E.i(D)&65535),I=(S>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);T=I>>>16,S&=65535,I&=65535,_[D]=I<<16|S}return new o(_,_[_.length-1]&-2147483648?-1:0)};function k(E,v){return E.add(A(v))}t.j=function(E){if(C(this)||C(E))return p;if(N(this))return N(E)?A(this).j(A(E)):A(A(this).j(E));if(N(E))return A(this.j(A(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,_=[],T=0;T<2*v;T++)_[T]=0;for(T=0;T<this.g.length;T++)for(var D=0;D<E.g.length;D++){var S=this.i(T)>>>16,I=this.i(T)&65535,Dn=E.i(D)>>>16,To=E.i(D)&65535;_[2*T+2*D]+=I*To,$(_,2*T+2*D),_[2*T+2*D+1]+=S*To,$(_,2*T+2*D+1),_[2*T+2*D+1]+=I*Dn,$(_,2*T+2*D+1),_[2*T+2*D+2]+=S*Dn,$(_,2*T+2*D+2)}for(T=0;T<v;T++)_[T]=_[2*T+1]<<16|_[2*T];for(T=v;T<2*v;T++)_[T]=0;return new o(_,0)};function $(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function F(E,v){this.g=E,this.h=v}function Z(E,v){if(C(v))throw Error("division by zero");if(C(E))return new F(p,p);if(N(E))return v=Z(A(E),v),new F(A(v.g),A(v.h));if(N(v))return v=Z(E,A(v)),new F(A(v.g),v.h);if(30<E.g.length){if(N(E)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,T=v;0>=T.l(E);)_=_e(_),T=_e(T);var D=G(_,1),S=G(T,1);for(T=G(T,2),_=G(_,2);!C(T);){var I=S.add(T);0>=I.l(E)&&(D=D.add(_),S=I),T=G(T,1),_=G(_,1)}return v=k(E,D.j(v)),new F(D,v)}for(D=p;0<=E.l(v);){for(_=Math.max(1,Math.floor(E.m()/v.m())),T=Math.ceil(Math.log(_)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),S=l(_),I=S.j(v);N(I)||0<I.l(E);)_-=T,S=l(_),I=S.j(v);C(S)&&(S=m),D=D.add(S),E=k(E,I)}return new F(D,E)}t.A=function(E){return Z(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],T=0;T<v;T++)_[T]=this.i(T)&E.i(T);return new o(_,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],T=0;T<v;T++)_[T]=this.i(T)|E.i(T);return new o(_,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],T=0;T<v;T++)_[T]=this.i(T)^E.i(T);return new o(_,this.h^E.h)};function _e(E){for(var v=E.g.length+1,_=[],T=0;T<v;T++)_[T]=E.i(T)<<1|E.i(T-1)>>>31;return new o(_,E.h)}function G(E,v){var _=v>>5;v%=32;for(var T=E.g.length-_,D=[],S=0;S<T;S++)D[S]=0<v?E.i(S+_)>>>v|E.i(S+_+1)<<32-v:E.i(S+_);return new o(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Gy=o0.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,$r=o0.Integer=o}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});var jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jn={};var Wy,Ky,to,Qy,ec,Bd,Yy,Jy,Zy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jd=="object"&&jd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var R=f++;return{value:d(R,c[R]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,R){for(var O=Array(arguments.length-2),we=2;we<arguments.length;we++)O[we-2]=arguments[we];return d.prototype[b].apply(g,O)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function A(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,R=g.length||0;c.length=b+R;for(let O=0;O<R;O++)c[b+O]=g[O]}else c.push(g)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function $(c){return/^[\s\xa0]*$/.test(c)}function F(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var _e=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function G(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let R=0;R<_.length;R++)f=_[R],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Lh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Dn{constructor(){this.h=this.g=null}add(d,f){let g=To.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var To=new k(()=>new sR,c=>c.reset());class sR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Do,bo=!1,Lh=new Dn,aI=()=>{let c=a.Promise.resolve(void 0);Do=()=>{c.then(oR)}};var oR=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){S(f)}var d=To;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}bo=!1};function nr(){this.s=this.s,this.C=this.C}nr.prototype.s=!1,nr.prototype.ma=function(){this.s||(this.s=!0,this.N())},nr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var aR=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Co(c,d){if(nt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(_e){e:{try{Z(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:cR[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Co.aa.h.call(this)}}C(Co,nt);var cR={2:"touch",3:"pen",4:"mouse"};Co.prototype.h=function(){Co.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var So="closure_listenable_"+(1e6*Math.random()|0),uR=0;function lR(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++uR,this.da=this.fa=!1}function Cc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Sc(c){this.src=c,this.g={},this.h=0}Sc.prototype.add=function(c,d,f,g,b){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var O=Vh(c,d,g,b);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new lR(d,this.src,R,!!g,b),d.fa=f,c.push(d)),d};function Fh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),R;(R=0<=b)&&Array.prototype.splice.call(g,b,1),R&&(Cc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Vh(c,d,f,g){for(var b=0;b<c.length;++b){var R=c[b];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==g)return b}return-1}var Uh="closure_lm_"+(1e6*Math.random()|0),jh={};function cI(c,d,f,g,b){if(g&&g.once)return lI(c,d,f,g,b);if(Array.isArray(d)){for(var R=0;R<d.length;R++)cI(c,d[R],f,g,b);return null}return f=Hh(f),c&&c[So]?c.K(d,f,l(g)?!!g.capture:!!g,b):uI(c,d,f,!1,g,b)}function uI(c,d,f,g,b,R){if(!d)throw Error("Invalid event type");var O=l(b)?!!b.capture:!!b,we=$h(c);if(we||(c[Uh]=we=new Sc(c)),f=we.add(d,f,g,O,R),f.proxy)return f;if(g=dR(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)aR||(b=O),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(hI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function dR(){function c(f){return d.call(c.src,c.listener,f)}let d=hR;return c}function lI(c,d,f,g,b){if(Array.isArray(d)){for(var R=0;R<d.length;R++)lI(c,d[R],f,g,b);return null}return f=Hh(f),c&&c[So]?c.L(d,f,l(g)?!!g.capture:!!g,b):uI(c,d,f,!0,g,b)}function dI(c,d,f,g,b){if(Array.isArray(d))for(var R=0;R<d.length;R++)dI(c,d[R],f,g,b);else g=l(g)?!!g.capture:!!g,f=Hh(f),c&&c[So]?(c=c.i,d=String(d).toString(),d in c.g&&(R=c.g[d],f=Vh(R,f,g,b),-1<f&&(Cc(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete c.g[d],c.h--)))):c&&(c=$h(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Vh(d,f,g,b)),(f=-1<c?d[c]:null)&&Bh(f))}function Bh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[So])Fh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(hI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=$h(d))?(Fh(f,c),f.h==0&&(f.src=null,d[Uh]=null)):Cc(c)}}}function hI(c){return c in jh?jh[c]:jh[c]="on"+c}function hR(c,d){if(c.da)c=!0;else{d=new Co(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Bh(c),c=f.call(g,d)}return c}function $h(c){return c=c[Uh],c instanceof Sc?c:null}var zh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hh(c){return typeof c=="function"?c:(c[zh]||(c[zh]=function(d){return c.handleEvent(d)}),c[zh])}function rt(){nr.call(this),this.i=new Sc(this),this.M=this,this.F=null}C(rt,nr),rt.prototype[So]=!0,rt.prototype.removeEventListener=function(c,d,f,g){dI(this,c,d,f,g)};function ft(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new nt(d,c);else if(d instanceof nt)d.target=d.target||c;else{var b=d;d=new nt(g,c),T(d,b)}if(b=!0,f)for(var R=f.length-1;0<=R;R--){var O=d.g=f[R];b=Ac(O,g,!0,d)&&b}if(O=d.g=c,b=Ac(O,g,!0,d)&&b,b=Ac(O,g,!1,d)&&b,f)for(R=0;R<f.length;R++)O=d.g=f[R],b=Ac(O,g,!1,d)&&b}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Cc(f[g]);delete c.g[d],c.h--}}this.F=null},rt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},rt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Ac(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,R=0;R<d.length;++R){var O=d[R];if(O&&!O.da&&O.capture==f){var we=O.listener,Ye=O.ha||O.src;O.fa&&Fh(c.i,O),b=we.call(Ye,g)!==!1&&b}}return b&&!g.defaultPrevented}function fI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function pI(c){c.g=fI(()=>{c.g=null,c.i&&(c.i=!1,pI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class fR extends nr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:pI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ao(c){nr.call(this),this.h=c,this.g={}}C(Ao,nr);var gI=[];function mI(c){G(c.g,function(d,f){this.g.hasOwnProperty(f)&&Bh(d)},c),c.g={}}Ao.prototype.N=function(){Ao.aa.N.call(this),mI(this)},Ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qh=a.JSON.stringify,pR=a.JSON.parse,gR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Gh(){}Gh.prototype.h=null;function yI(c){return c.h||(c.h=c.i())}function vI(){}var Ro={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wh(){nt.call(this,"d")}C(Wh,nt);function Kh(){nt.call(this,"c")}C(Kh,nt);var Jr={},_I=null;function Rc(){return _I=_I||new rt}Jr.La="serverreachability";function II(c){nt.call(this,Jr.La,c)}C(II,nt);function No(c){let d=Rc();ft(d,new II(d))}Jr.STAT_EVENT="statevent";function wI(c,d){nt.call(this,Jr.STAT_EVENT,c),this.stat=d}C(wI,nt);function pt(c){let d=Rc();ft(d,new wI(d,c))}Jr.Ma="timingevent";function EI(c,d){nt.call(this,Jr.Ma,c),this.size=d}C(EI,nt);function Mo(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function xo(){this.g=!0}xo.prototype.xa=function(){this.g=!1};function mR(c,d,f,g,b,R){c.info(function(){if(c.g)if(R)for(var O="",we=R.split("&"),Ye=0;Ye<we.length;Ye++){var pe=we[Ye].split("=");if(1<pe.length){var it=pe[0];pe=pe[1];var st=it.split("_");O=2<=st.length&&st[1]=="type"?O+(it+"="+pe+"&"):O+(it+"=redacted&")}}else O=null;else O=R;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+O})}function yR(c,d,f,g,b,R,O){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+R+" "+O})}function Gi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+_R(c,f)+(g?" "+g:"")})}function vR(c,d){c.info(function(){return"TIMEOUT: "+d})}xo.prototype.info=function(){};function _R(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var R=b[0];if(R!="noop"&&R!="stop"&&R!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return qh(f)}catch{return d}}var Nc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},TI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qh;function Mc(){}C(Mc,Gh),Mc.prototype.g=function(){return new XMLHttpRequest},Mc.prototype.i=function(){return{}},Qh=new Mc;function rr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Ao(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new DI}function DI(){this.i=null,this.g="",this.h=!1}var bI={},Yh={};function Jh(c,d,f){c.L=1,c.v=kc(bn(d)),c.m=f,c.P=!0,CI(c,null)}function CI(c,d){c.F=Date.now(),xc(c),c.A=bn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),jI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new DI,c.g=iw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new fR(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(gI[0]=b.toString()),b=gI);for(var R=0;R<b.length;R++){var O=cI(f,b[R],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),No(),mR(c.i,c.u,c.A,c.l,c.R,c.m)}rr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Cn(c)==3?d.j():this.Y(c)},rr.prototype.Y=function(c){try{if(c==this.g)e:{let st=Cn(this.g);var d=this.g.Ba();let Qi=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||WI(this.g)))){this.J||st!=4||d==7||(d==8||0>=Qi?No(3):No(2)),Zh(this);var f=this.g.Z();this.X=f;t:if(SI(this)){var g=WI(this.g);c="";var b=g.length,R=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zr(this),Po(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(R&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,yR(this.i,this.u,this.A,this.l,this.R,st,f),this.o){if(this.T&&!this.K){t:{if(this.g){var we,Ye=this.g;if((we=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(we)){var pe=we;break t}}pe=null}if(f=pe)Gi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xh(this,f);else{this.o=!1,this.s=3,pt(12),Zr(this),Po(this);break e}}if(this.P){f=!0;let Kt;for(;!this.J&&this.C<O.length;)if(Kt=IR(this,O),Kt==Yh){st==4&&(this.s=4,pt(14),f=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==bI){this.s=4,pt(15),Gi(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else Gi(this.i,this.l,Kt,null),Xh(this,Kt);if(SI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||O.length!=0||this.h.h||(this.s=1,pt(16),f=!1),this.o=this.o&&f,!f)Gi(this.i,this.l,O,"[Invalid Chunked Response]"),Zr(this),Po(this);else if(0<O.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),of(it),it.M=!0,pt(11))}}else Gi(this.i,this.l,O,null),Xh(this,O);st==4&&Zr(this),this.o&&!this.J&&(st==4?ew(this.j,this):(this.o=!1,xc(this)))}else FR(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Zr(this),Po(this)}}}catch{}finally{}};function SI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function IR(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Yh:(f=Number(d.substring(f,g)),isNaN(f)?bI:(g+=1,g+f>d.length?Yh:(d=d.slice(g,g+f),c.C=g+f,d)))}rr.prototype.cancel=function(){this.J=!0,Zr(this)};function xc(c){c.S=Date.now()+c.I,AI(c,c.I)}function AI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Mo(m(c.ba,c),d)}function Zh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}rr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(vR(this.i,this.A),this.L!=2&&(No(),pt(17)),Zr(this),this.s=2,Po(this)):AI(this,this.S-c)};function Po(c){c.j.G==0||c.J||ew(c.j,c)}function Zr(c){Zh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,mI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Xh(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||ef(f.h,c))){if(!c.K&&ef(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)jc(f),Vc(f);else break e;sf(f),pt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Mo(m(f.Za,f),6e3));if(1>=MI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ei(f,11)}else if((c.K||f.g==c)&&jc(f),!$(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let pe=b[d];if(f.T=pe[0],pe=pe[1],f.G==2)if(pe[0]=="c"){f.K=pe[1],f.ia=pe[2];let it=pe[3];it!=null&&(f.la=it,f.j.info("VER="+f.la));let st=pe[4];st!=null&&(f.Aa=st,f.j.info("SVER="+f.Aa));let Qi=pe[5];Qi!=null&&typeof Qi=="number"&&0<Qi&&(g=1.5*Qi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Kt=c.g;if(Kt){let $c=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($c){var R=g.h;R.g||$c.indexOf("spdy")==-1&&$c.indexOf("quic")==-1&&$c.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(tf(R,R.h),R.h=null))}if(g.D){let af=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;af&&(g.ya=af,Se(g.I,g.D,af))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var O=c;if(g.qa=rw(g,g.J?g.ia:null,g.W),O.K){xI(g.h,O);var we=O,Ye=g.L;Ye&&(we.I=Ye),we.B&&(Zh(we),xc(we)),g.g=O}else ZI(g);0<f.i.length&&Uc(f)}else pe[0]!="stop"&&pe[0]!="close"||ei(f,7);else f.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?ei(f,7):rf(f):pe[0]!="noop"&&f.l&&f.l.ta(pe),f.v=0)}}No(4)}catch{}}var wR=class{constructor(c,d){this.g=c,this.map=d}};function RI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function NI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function MI(c){return c.h?1:c.g?c.g.size:0}function ef(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function tf(c,d){c.g?c.g.add(d):c.h=d}function xI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}RI.prototype.cancel=function(){if(this.i=PI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function PI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function ER(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function TR(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function OI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=TR(c),g=ER(c),b=g.length,R=0;R<b;R++)d.call(void 0,g[R],f&&f[R],c)}var kI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DR(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var R=c[f].substring(0,g);b=c[f].substring(g+1)}else R=c[f];d(R,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Xr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Xr){this.h=c.h,Pc(this,c.j),this.o=c.o,this.g=c.g,Oc(this,c.s),this.l=c.l;var d=c.i,f=new Lo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),LI(this,f),this.m=c.m}else c&&(d=String(c).match(kI))?(this.h=!1,Pc(this,d[1]||"",!0),this.o=Oo(d[2]||""),this.g=Oo(d[3]||"",!0),Oc(this,d[4]),this.l=Oo(d[5]||"",!0),LI(this,d[6]||"",!0),this.m=Oo(d[7]||"")):(this.h=!1,this.i=new Lo(null,this.h))}Xr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ko(d,FI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ko(d,FI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ko(f,f.charAt(0)=="/"?SR:CR,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ko(f,RR)),c.join("")};function bn(c){return new Xr(c)}function Pc(c,d,f){c.j=f?Oo(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Oc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function LI(c,d,f){d instanceof Lo?(c.i=d,NR(c.i,c.h)):(f||(d=ko(d,AR)),c.i=new Lo(d,c.h))}function Se(c,d,f){c.i.set(d,f)}function kc(c){return Se(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Oo(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ko(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,bR),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function bR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var FI=/[#\/\?@]/g,CR=/[#\?:]/g,SR=/[#\?]/g,AR=/[#\?@]/g,RR=/#/g;function Lo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function ir(c){c.g||(c.g=new Map,c.h=0,c.i&&DR(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Lo.prototype,t.add=function(c,d){ir(this),this.i=null,c=Wi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function VI(c,d){ir(c),d=Wi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function UI(c,d){return ir(c),d=Wi(c,d),c.g.has(d)}t.forEach=function(c,d){ir(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){ir(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let R=0;R<b.length;R++)f.push(d[g])}return f},t.V=function(c){ir(this);let d=[];if(typeof c=="string")UI(this,c)&&(d=d.concat(this.g.get(Wi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return ir(this),this.i=null,c=Wi(this,c),UI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function jI(c,d,f){VI(c,d),0<f.length&&(c.i=null,c.g.set(Wi(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let R=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var b=R;O[g]!==""&&(b+="="+encodeURIComponent(String(O[g]))),c.push(b)}}return this.i=c.join("&")};function Wi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function NR(c,d){d&&!c.j&&(ir(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(VI(this,g),jI(this,b,f))},c)),c.j=d}function MR(c,d){let f=new xo;if(a.Image){let g=new Image;g.onload=y(sr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(sr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(sr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(sr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function xR(c,d){let f=new xo,g=new AbortController,b=setTimeout(()=>{g.abort(),sr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(R=>{clearTimeout(b),R.ok?sr(f,"TestPingServer: ok",!0,d):sr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),sr(f,"TestPingServer: error",!1,d)})}function sr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function PR(){this.g=new gR}function OR(c,d,f){let g=f||"";try{OI(c,function(b,R){let O=b;l(b)&&(O=qh(b)),d.push(g+R+"="+encodeURIComponent(O))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Fo(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Fo,Gh),Fo.prototype.g=function(){return new Lc(this.l,this.j)},Fo.prototype.i=function(c){return function(){return c}}({});function Lc(c,d){rt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Lc,rt),t=Lc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Uo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Uo(this)),this.g&&(this.readyState=3,Uo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;BI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function BI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Vo(this):Uo(this),this.readyState==3&&BI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Vo(this))},t.Qa=function(c){this.g&&(this.response=c,Vo(this))},t.ga=function(){this.g&&Vo(this)};function Vo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Uo(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Uo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $I(c){let d="";return G(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function nf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=$I(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Se(c,d,f))}function Me(c){rt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Me,rt);var kR=/^https?$/i,LR=["POST","PUT"];t=Me.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qh.g(),this.v=this.o?yI(this.o):yI(Qh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(R){zI(this,R);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())f.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(LR,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,O]of f)this.g.setRequestHeader(R,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{GI(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){zI(this,R)}};function zI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,HI(c),Fc(c)}function HI(c){c.A||(c.A=!0,ft(c,"complete"),ft(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ft(this,"complete"),ft(this,"abort"),Fc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fc(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qI(this):this.bb())},t.bb=function(){qI(this)};function qI(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)fI(c.Ea,0,c);else if(ft(c,"readystatechange"),Cn(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=O===0){var b=String(c.D).match(kI)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!kR.test(b?b.toLowerCase():"")}f=g}if(f)ft(c,"complete"),ft(c,"success");else{c.m=6;try{var R=2<Cn(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",HI(c)}}finally{Fc(c)}}}}function Fc(c,d){if(c.g){GI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ft(c,"ready");try{f.onreadystatechange=g}catch{}}}function GI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),pR(d)}};function WI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function FR(c){let d={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if($(c[g]))continue;var f=D(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[b]||[];d[b]=R,R.push(f)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jo(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function KI(c){this.Aa=0,this.i=[],this.j=new xo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jo("baseRetryDelayMs",5e3,c),this.cb=jo("retryDelaySeedMs",1e4,c),this.Wa=jo("forwardChannelMaxRetries",2,c),this.wa=jo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new RI(c&&c.concurrentRequestLimit),this.Da=new PR,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=KI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){pt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=rw(this,null,this.W),Uc(this)};function rf(c){if(QI(c),c.G==3){var d=c.U++,f=bn(c.I);if(Se(f,"SID",c.K),Se(f,"RID",d),Se(f,"TYPE","terminate"),Bo(c,f),d=new rr(c,c.j,d),d.L=2,d.v=kc(bn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=iw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),xc(d)}nw(c)}function Vc(c){c.g&&(of(c),c.g.cancel(),c.g=null)}function QI(c){Vc(c),c.u&&(a.clearTimeout(c.u),c.u=null),jc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Uc(c){if(!NI(c.h)&&!c.s){c.s=!0;var d=c.Ga;Do||aI(),bo||(Do(),bo=!0),Lh.add(d,c),c.B=0}}function VR(c,d){return MI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Mo(m(c.Ga,c,d),tw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new rr(this,this.j,c),R=this.o;if(this.S&&(R?(R=v(R),T(R,this.S)):R=this.S),this.m!==null||this.O||(b.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=JI(this,b,d),f=bn(this.I),Se(f,"RID",c),Se(f,"CVER",22),this.D&&Se(f,"X-HTTP-Session-Id",this.D),Bo(this,f),R&&(this.O?d="headers="+encodeURIComponent(String($I(R)))+"&"+d:this.m&&nf(f,this.m,R)),tf(this.h,b),this.Ua&&Se(f,"TYPE","init"),this.P?(Se(f,"$req",d),Se(f,"SID","null"),b.T=!0,Jh(b,f,null)):Jh(b,f,d),this.G=2}}else this.G==3&&(c?YI(this,c):this.i.length==0||NI(this.h)||YI(this))};function YI(c,d){var f;d?f=d.l:f=c.U++;let g=bn(c.I);Se(g,"SID",c.K),Se(g,"RID",f),Se(g,"AID",c.T),Bo(c,g),c.m&&c.o&&nf(g,c.m,c.o),f=new rr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=JI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),tf(c.h,f),Jh(f,g,d)}function Bo(c,d){c.H&&G(c.H,function(f,g){Se(d,g,f)}),c.l&&OI({},function(f,g){Se(d,g,f)})}function JI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let R=-1;for(;;){let O=["count="+f];R==-1?0<f?(R=b[0].g,O.push("ofs="+R)):R=0:O.push("ofs="+R);let we=!0;for(let Ye=0;Ye<f;Ye++){let pe=b[Ye].g,it=b[Ye].map;if(pe-=R,0>pe)R=Math.max(0,b[Ye].g-100),we=!1;else try{OR(it,O,"req"+pe+"_")}catch{g&&g(it)}}if(we){g=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function ZI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Do||aI(),bo||(Do(),bo=!0),Lh.add(d,c),c.v=0}}function sf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Mo(m(c.Fa,c),tw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,XI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Mo(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Vc(this),XI(this))};function of(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function XI(c){c.g=new rr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=bn(c.qa);Se(d,"RID","rpc"),Se(d,"SID",c.K),Se(d,"AID",c.T),Se(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Se(d,"TO",c.ja),Se(d,"TYPE","xmlhttp"),Bo(c,d),c.m&&c.o&&nf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=kc(bn(d)),f.m=null,f.P=!0,CI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Vc(this),sf(this),pt(19))};function jc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function ew(c,d){var f=null;if(c.g==d){jc(c),of(c),c.g=null;var g=2}else if(ef(c.h,d))f=d.D,xI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=Rc(),ft(g,new EI(g,f)),Uc(c)}else ZI(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&VR(c,d)||g==2&&sf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:ei(c,5);break;case 4:ei(c,10);break;case 3:ei(c,6);break;default:ei(c,2)}}}function tw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ei(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new Xr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Pc(g,"https"),kc(g),b?MR(g.toString(),f):xR(g.toString(),f)}else pt(2);c.G=0,c.l&&c.l.sa(d),nw(c),QI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function nw(c){if(c.G=0,c.ka=[],c.l){let d=PI(c.h);(d.length!=0||c.i.length!=0)&&(A(c.ka,d),A(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function rw(c,d,f){var g=f instanceof Xr?bn(f):new Xr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Oc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var R=new Xr(null);g&&Pc(R,g),d&&(R.g=d),b&&Oc(R,b),f&&(R.l=f),g=R}return f=c.D,d=c.ya,f&&d&&Se(g,f,d),Se(g,"VER",c.la),Bo(c,g),g}function iw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Me(new Fo({eb:f})):new Me(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sw(){}t=sw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bc(){}Bc.prototype.g=function(c,d){return new Ct(c,d)};function Ct(c,d){rt.call(this),this.g=new KI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!$(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!$(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ki(this)}C(Ct,rt),Ct.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ct.prototype.close=function(){rf(this.g)},Ct.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=qh(c),c=f);d.i.push(new wR(d.Ya++,c)),d.G==3&&Uc(d)},Ct.prototype.N=function(){this.g.l=null,delete this.j,rf(this.g),delete this.g,Ct.aa.N.call(this)};function ow(c){Wh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(ow,Wh);function aw(){Kh.call(this),this.status=1}C(aw,Kh);function Ki(c){this.g=c}C(Ki,sw),Ki.prototype.ua=function(){ft(this.g,"a")},Ki.prototype.ta=function(c){ft(this.g,new ow(c))},Ki.prototype.sa=function(c){ft(this.g,new aw)},Ki.prototype.ra=function(){ft(this.g,"b")},Bc.prototype.createWebChannel=Bc.prototype.g,Ct.prototype.send=Ct.prototype.o,Ct.prototype.open=Ct.prototype.m,Ct.prototype.close=Ct.prototype.close,Zy=Jn.createWebChannelTransport=function(){return new Bc},Jy=Jn.getStatEventTarget=function(){return Rc()},Yy=Jn.Event=Jr,Bd=Jn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nc.NO_ERROR=0,Nc.TIMEOUT=8,Nc.HTTP_ERROR=6,ec=Jn.ErrorCode=Nc,TI.COMPLETE="complete",Qy=Jn.EventType=TI,vI.EventType=Ro,Ro.OPEN="a",Ro.CLOSE="b",Ro.ERROR="c",Ro.MESSAGE="d",rt.prototype.listen=rt.prototype.K,to=Jn.WebChannel=vI,Ky=Jn.FetchXmlHttpFactory=Fo,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,Wy=Jn.XhrIo=Me}).apply(typeof jd<"u"?jd:typeof self<"u"?self:typeof window<"u"?window:{});var a0="@firebase/firestore";var Qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");var wo="10.13.2";var Fi=new Or("@firebase/firestore");function tc(){return Fi.logLevel}function j(t,...e){if(Fi.logLevel<=ue.DEBUG){let n=e.map(F_);Fi.debug(`Firestore (${wo}): ${t}`,...n)}}function Xn(t,...e){if(Fi.logLevel<=ue.ERROR){let n=e.map(F_);Fi.error(`Firestore (${wo}): ${t}`,...n)}}function co(t,...e){if(Fi.logLevel<=ue.WARN){let n=e.map(F_);Fi.warn(`Firestore (${wo}): ${t}`,...n)}}function F_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Q(t="Unexpected state"){let e=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: `+t;throw Xn(e),new Error(e)}function De(t,e){t||Q()}function J(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Pt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var vn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Gd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},rv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}},iv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},sv=class{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new vn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new Gd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Qe(e)}},ov=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},av=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ov(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},cv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},uv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new cv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function NB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Wd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=NB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function me(t,e){return t<e?-1:t>e?1:0}function uo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var tt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var te=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new tt(0,0))}static max(){return new t(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Kd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ne=class t extends Kd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},MB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,kt=class t extends Kd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return MB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ne.fromString(e))}static fromName(e){return new t(Ne.fromString(e).popFirst(5))}static empty(){return new t(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ne(e.slice()))}};var lv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};lv.UNKNOWN_ID=-1;function xB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new tt(n+1,0):new tt(n,r));return new Vi(i,q.empty(),e)}function PB(t){return new Vi(t.readTime,t.key,-1)}var Vi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(te.min(),q.empty(),-1)}static max(){return new t(te.max(),q.empty(),-1)}};function OB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}var kB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",dv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ic(t){return w(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==kB)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function LB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wc(t){return t.name==="IndexedDbTransactionError"}var B0=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Sh(t){return t==null}function ac(t){return t===0&&1/t==-1/0}function FB(t){return typeof t=="number"&&Number.isInteger(t)&&!ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var VB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],q5=[...VB,"documentOverlays"],UB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jB=UB,BB=[...jB,"indexConfiguration","indexState","indexEntries"];var G5=[...BB,"globals"];function c0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pe=class t{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new so(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new so(this.root,e,this.comparator,!1)}getReverseIterator(){return new so(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new so(this.root,e,this.comparator,!0)}},so=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},_n=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();let e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}};_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,s){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var dt=class t{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qd(this.data.getIterator())}getIteratorFrom(e){return new Qd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Qd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Wt=class t{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new t([])}unionWith(e){let n=new dt(kt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Yd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ht=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Yd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ht.EMPTY_BYTE_STRING=new ht("");var $B=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(t){if(De(!!t),typeof t=="string"){let e=0,n=$B.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(t.seconds),nanos:Re(t.nanos)}}function Re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qr(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}function V_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function U_(t){let e=t.mapValue.fields.__previous_value__;return V_(e)?U_(e):e}function cc(t){let e=er(t.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}var hv=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Jd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var $d={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?V_(t)?4:H0(t)?9007199254740991:z0(t)?10:11:Q()}function En(t,e){if(t===e)return!0;let n=Ui(t);if(n!==Ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cc(t).isEqual(cc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=er(i.timestampValue),a=er(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return qr(i.bytesValue).isEqual(qr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Re(i.geoPointValue.latitude)===Re(s.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Re(i.integerValue)===Re(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Re(i.doubleValue),a=Re(s.doubleValue);return o===a?ac(o)===ac(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return uo(t.arrayValue.values||[],e.arrayValue.values||[],En);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(c0(o)!==c0(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!En(o[u],a[u])))return!1;return!0}(t,e);default:return Q()}}function uc(t,e){return(t.values||[]).find(n=>En(n,e))!==void 0}function lo(t,e){if(t===e)return 0;let n=Ui(t),r=Ui(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Re(s.integerValue||s.doubleValue),u=Re(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return u0(t.timestampValue,e.timestampValue);case 4:return u0(cc(t),cc(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(s,o){let a=qr(s),u=qr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=me(a[l],u[l]);if(h!==0)return h}return me(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=me(Re(s.latitude),Re(o.latitude));return a!==0?a:me(Re(s.longitude),Re(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return l0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,C=(u=m.value)===null||u===void 0?void 0:u.arrayValue,N=me(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:l0(y,C)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===$d.mapValue&&o===$d.mapValue)return 0;if(s===$d.mapValue)return 1;if(o===$d.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=me(u[p],h[p]);if(m!==0)return m;let y=lo(a[u[p]],l[h[p]]);if(y!==0)return y}return me(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Q()}}function u0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);let n=er(t),r=er(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function l0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=lo(n[i],r[i]);if(s)return s}return me(n.length,r.length)}function ho(t){return fv(t)}function fv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=er(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=fv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${fv(n.fields[o])}`;return i+"}"}(t.mapValue):Q()}function d0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function pv(t){return!!t&&"integerValue"in t}function j_(t){return!!t&&"arrayValue"in t}function h0(t){return!!t&&"nullValue"in t}function f0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hd(t){return!!t&&"mapValue"in t}function z0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function rc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Hi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function H0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ot=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rc(n)}setAll(e){let n=kt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=rc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Hd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return En(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hi(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(rc(this.value))}};function q0(t){let e=[];return Hi(t.fields,(n,r)=>{let i=new kt([n]);if(Hd(r)){let s=q0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Wt(e)}var rn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),Ot.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),Ot.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),Ot.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var fo=class{constructor(e,n){this.position=e,this.inclusive=n}};function p0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=lo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function g0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!En(t.position[n],e.position[n]))return!1;return!0}var ji=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function zB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Zd=class{},$e=class t extends Zd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mv(e,n,r):n==="array-contains"?new _v(e,r):n==="in"?new Iv(e,r):n==="not-in"?new wv(e,r):n==="array-contains-any"?new Ev(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yv(e,r):new vv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(lo(n,this.value)):n!==null&&Ui(this.value)===Ui(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},sn=class t extends Zd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return G0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function G0(t){return t.op==="and"}function W0(t){return HB(t)&&G0(t)}function HB(t){for(let e of t.filters)if(e instanceof sn)return!1;return!0}function gv(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+ho(t.value);if(W0(t))return t.filters.map(e=>gv(e)).join(",");{let e=t.filters.map(n=>gv(n)).join(",");return`${t.op}(${e})`}}function K0(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&En(r.value,i.value)}(t,e):t instanceof sn?function(r,i){return i instanceof sn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&K0(o,i.filters[a]),!0):!1}(t,e):void Q()}function Q0(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${ho(n.value)}`}(t):t instanceof sn?function(n){return n.op.toString()+" {"+n.getFilters().map(Q0).join(" ,")+"}"}(t):"Filter"}var mv=class extends $e{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},yv=class extends $e{constructor(e,n){super(e,"in",n),this.keys=Y0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},vv=class extends $e{constructor(e,n){super(e,"not-in",n),this.keys=Y0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Y0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var _v=class extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return j_(n)&&uc(n.arrayValue,this.value)}},Iv=class extends $e{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&uc(this.value.arrayValue,n)}},wv=class extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!uc(this.value.arrayValue,n)}},Ev=class extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!j_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>uc(this.value.arrayValue,r))}};var Tv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function m0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Tv(t,e,n,r,i,s,o)}function B_(t){let e=J(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ho(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ho(r)).join(",")),e.ue=n}return e.ue}function $_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!K0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!g0(t.startAt,e.startAt)&&g0(t.endAt,e.endAt)}function Dv(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Gr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function qB(t,e,n,r,i,s,o,a){return new Gr(t,e,n,r,i,s,o,a)}function z_(t){return new Gr(t)}function y0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function J0(t){return t.collectionGroup!==null}function ic(t){let e=J(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new dt(kt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ji(s,r))}),n.has(kt.keyField().canonicalString())||e.ce.push(new ji(kt.keyField(),r))}return e.ce}function In(t){let e=J(t);return e.le||(e.le=GB(e,ic(t))),e.le}function GB(t,e){if(t.limitType==="F")return m0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ji(i.field,s)});let n=t.endAt?new fo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fo(t.startAt.position,t.startAt.inclusive):null;return m0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bv(t,e){let n=t.filters.concat([e]);return new Gr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cv(t,e,n){return new Gr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ah(t,e){return $_(In(t),In(e))&&t.limitType===e.limitType}function Z0(t){return`${B_(In(t))}|lt:${t.limitType}`}function no(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Q0(i)).join(", ")}]`),Sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ho(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ho(i)).join(",")),`Target(${r})`}(In(t))}; limitType=${t.limitType})`}function Rh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of ic(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=p0(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,ic(r),i)||r.endAt&&!function(o,a,u){let l=p0(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,ic(r),i))}(t,e)}function WB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function X0(t){return(e,n)=>{let r=!1;for(let i of ic(t)){let s=KB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function KB(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?lo(u,l):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}var Wr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hi(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return $0(this.inner)}size(){return this.innerSize}};var QB=new Pe(q.comparator);function tr(){return QB}var eA=new Pe(q.comparator);function nc(...t){let e=eA;for(let n of t)e=e.insert(n.key,n);return e}function tA(t){let e=eA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Oi(){return sc()}function nA(){return sc()}function sc(){return new Wr(t=>t.toString(),(t,e)=>t.isEqual(e))}var YB=new Pe(q.comparator),JB=new dt(q.comparator);function le(...t){let e=JB;for(let n of t)e=e.add(n);return e}var ZB=new dt(me);function XB(){return ZB}function H_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ac(e)?"-0":e}}function rA(t){return{integerValue:""+t}}function e$(t,e){return FB(e)?rA(e):H_(t,e)}var po=class{constructor(){this._=void 0}};function t$(t,e,n){return t instanceof go?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&V_(s)&&(s=U_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Bi?sA(t,e):t instanceof $i?oA(t,e):function(i,s){let o=iA(i,s),a=v0(o)+v0(i.Pe);return pv(o)&&pv(i.Pe)?rA(a):H_(i.serializer,a)}(t,e)}function n$(t,e,n){return t instanceof Bi?sA(t,e):t instanceof $i?oA(t,e):n}function iA(t,e){return t instanceof mo?function(r){return pv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var go=class extends po{},Bi=class extends po{constructor(e){super(),this.elements=e}};function sA(t,e){let n=aA(e);for(let r of t.elements)n.some(i=>En(i,r))||n.push(r);return{arrayValue:{values:n}}}var $i=class extends po{constructor(e){super(),this.elements=e}};function oA(t,e){let n=aA(e);for(let r of t.elements)n=n.filter(i=>!En(i,r));return{arrayValue:{values:n}}}var mo=class extends po{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function v0(t){return Re(t.integerValue||t.doubleValue)}function aA(t){return j_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function r$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Bi&&i instanceof Bi||r instanceof $i&&i instanceof $i?uo(r.elements,i.elements,En):r instanceof mo&&i instanceof mo?En(r.Pe,i.Pe):r instanceof go&&i instanceof go}(t.transform,e.transform)}var Sv=class{constructor(e,n){this.version=e,this.transformResults=n}},zr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function qd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var yo=class{};function cA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xd(t.key,zr.none()):new zi(t.key,t.data,zr.none());{let n=t.data,r=Ot.empty(),i=new dt(kt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Tn(t.key,r,new Wt(i.toArray()),zr.none())}}function i$(t,e,n){t instanceof zi?function(i,s,o){let a=i.value.clone(),u=I0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Tn?function(i,s,o){if(!qd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=I0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(uA(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function oc(t,e,n,r){return t instanceof zi?function(s,o,a,u){if(!qd(s.precondition,o))return a;let l=s.value.clone(),h=w0(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Tn?function(s,o,a,u){if(!qd(s.precondition,o))return a;let l=w0(s.fieldTransforms,u,o),h=o.data;return h.setAll(uA(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return qd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function s$(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=iA(r.transform,i||null);s!=null&&(n===null&&(n=Ot.empty()),n.set(r.field,s))}return n||null}function _0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&uo(r,i,(s,o)=>r$(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var zi=class extends yo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Tn=class extends yo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function uA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function I0(t,e,n){let r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,n$(o,a,n[i]))}return r}function w0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,t$(s,o,e))}return r}var Xd=class extends yo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Av=class extends yo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Rv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&i$(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=oc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=oc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=nA();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=cA(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,(n,r)=>_0(n,r))&&uo(this.baseMutations,e.baseMutations,(n,r)=>_0(n,r))}},Nv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=function(){return YB}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Mv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var xv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var je,he;function o$(t){switch(t){default:return Q();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function lA(t){if(t===void 0)return Xn("GRPC error has no .code"),M.UNKNOWN;switch(t){case je.OK:return M.OK;case je.CANCELLED:return M.CANCELLED;case je.UNKNOWN:return M.UNKNOWN;case je.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case je.INTERNAL:return M.INTERNAL;case je.UNAVAILABLE:return M.UNAVAILABLE;case je.UNAUTHENTICATED:return M.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case je.NOT_FOUND:return M.NOT_FOUND;case je.ALREADY_EXISTS:return M.ALREADY_EXISTS;case je.PERMISSION_DENIED:return M.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case je.ABORTED:return M.ABORTED;case je.OUT_OF_RANGE:return M.OUT_OF_RANGE;case je.UNIMPLEMENTED:return M.UNIMPLEMENTED;case je.DATA_LOSS:return M.DATA_LOSS;default:return Q()}}(he=je||(je={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var E0=null;function a$(){return new TextEncoder}var c$=new $r([4294967295,4294967295],0);function T0(t){let e=a$().encode(t),n=new Gy;return n.update(e),new Uint8Array(n.digest())}function D0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new $r([n,r],0),new $r([i,s],0)]}var Pv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ki(`Invalid padding: ${n}`);if(r<0)throw new ki(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ki(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ki(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=$r.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply($r.fromNumber(r)));return i.compare(c$)===1&&(i=new $r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=T0(e),[r,i]=D0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=T0(e),[r,i]=D0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ki=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var eh=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,lc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(te.min(),i,new Pe(me),tr(),le())}},lc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,le(),le(),le())}};var oo=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},th=class{constructor(e,n){this.targetId=e,this.me=n}},nh=class{constructor(e,n,r=ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},rh=class{constructor(){this.fe=0,this.ge=C0(),this.pe=ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=le(),n=le(),r=le();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new lc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=C0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Ov=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=tr(),this.qe=b0(),this.Qe=new Pe(me)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Dv(s))if(r===0){let o=new q(s.path);this.Ue(n,o,rn.newNoDocument(o,te.min()))}else De(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}E0?.et(function(h,p,m,y,C){var N,A,k,$,F,Z;let _e={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},G=p.unchangedNames;return G&&(_e.bloomFilter={applied:C===0,hashCount:(N=G?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:($=(k=(A=G?.bits)===null||A===void 0?void 0:A.bitmap)===null||k===void 0?void 0:k.length)!==null&&$!==void 0?$:0,padding:(Z=(F=G?.bits)===null||F===void 0?void 0:F.padding)!==null&&Z!==void 0?Z:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),_e}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=qr(r).toUint8Array()}catch(u){if(u instanceof Yd)return co("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Pv(o,i,s)}catch(u){return co(u instanceof ki?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Dv(a.target)){let u=new q(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,rn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=le();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new eh(e,n,this.Qe,this.ke,r);return this.ke=tr(),this.qe=b0(),this.Qe=new Pe(me),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new rh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new dt(me),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function b0(){return new Pe(q.comparator)}function C0(){return new Pe(q.comparator)}var u$={asc:"ASCENDING",desc:"DESCENDING"},l$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d$={and:"AND",or:"OR"},kv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Lv(t,e){return t.useProto3Json||Sh(e)?e:{value:e}}function ih(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function h$(t,e){return ih(t,e.toTimestamp())}function wn(t){return De(!!t),te.fromTimestamp(function(n){let r=er(n);return new tt(r.seconds,r.nanos)}(t))}function q_(t,e){return Fv(t,e).canonicalString()}function Fv(t,e){let n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hA(t){let e=Ne.fromString(t);return De(yA(e)),e}function Vv(t,e){return q_(t.databaseId,e.path)}function Xy(t,e){let n=hA(e);if(n.get(1)!==t.databaseId.projectId)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(pA(n))}function fA(t,e){return q_(t.databaseId,e)}function f$(t){let e=hA(t);return e.length===4?Ne.emptyPath():pA(e)}function Uv(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pA(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function S0(t,e,n){return{name:Vv(t,e),fields:n.value.mapValue.fields}}function p$(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(De(h===void 0||typeof h=="string"),ht.fromBase64String(h||"")):(De(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ht.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?M.UNKNOWN:lA(l.code);return new L(h,l.message||"")}(o);n=new nh(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Xy(t,r.document.name),s=wn(r.document.updateTime),o=r.document.createTime?wn(r.document.createTime):te.min(),a=new Ot({mapValue:{fields:r.document.fields}}),u=rn.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new oo(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Xy(t,r.document),s=r.readTime?wn(r.readTime):te.min(),o=rn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new oo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Xy(t,r.document),s=r.removedTargetIds||[];n=new oo([],s,i,null)}else{if(!("filter"in e))return Q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new xv(i,s),a=r.targetId;n=new th(a,o)}}return n}function g$(t,e){let n;if(e instanceof zi)n={update:S0(t,e.key,e.value)};else if(e instanceof Xd)n={delete:Vv(t,e.key)};else if(e instanceof Tn)n={update:S0(t,e.key,e.data),updateMask:D$(e.fieldMask)};else{if(!(e instanceof Av))return Q();n={verify:Vv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof go)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $i)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof mo)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:h$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(t,e.precondition)),n}function m$(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?wn(i.updateTime):wn(s);return o.isEqual(te.min())&&(o=wn(s)),new Sv(o,i.transformResults||[])}(n,e))):[]}function y$(t,e){return{documents:[fA(t,e.path)]}}function v$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fA(t,i);let s=function(l){if(l.length!==0)return mA(sn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:ro(m.field),direction:w$(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Lv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function _$(t){let e=f$(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){De(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=gA(p);return m instanceof sn&&W0(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(C){return new ji(io(C.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Sh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new fo(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new fo(y,m)}(n.endAt)),qB(e,i,o,s,a,"F",u,l)}function I$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=io(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=io(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=io(n.unaryFilter.field);return $e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=io(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return $e.create(io(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sn.create(n.compositeFilter.filters.map(r=>gA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function w$(t){return u$[t]}function E$(t){return l$[t]}function T$(t){return d$[t]}function ro(t){return{fieldPath:t.canonicalString()}}function io(t){return kt.fromServerFormat(t.fieldPath)}function mA(t){return t instanceof $e?function(n){if(n.op==="=="){if(f0(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(h0(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(f0(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(h0(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:E$(n.op),value:n.value}}}(t):t instanceof sn?function(n){let r=n.getFilters().map(i=>mA(i));return r.length===1?r[0]:{compositeFilter:{op:T$(n.op),filters:r}}}(t):Q()}function D$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var dc=class t{constructor(e,n,r,i,s=te.min(),o=te.min(),a=ht.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var jv=class{constructor(e){this.ct=e}};function b$(t){let e=_$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cv(e,e.limit,"L"):e}var sh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Re(e.integerValue));else if("doubleValue"in e){let r=Re(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),ac(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=er(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(qr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?H0(e)?this.dt(n,Number.MAX_SAFE_INTEGER):z0(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Q()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Re(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),q.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};sh.vt=new sh;var Bv=class{constructor(){this.un=new $v}addToCollectionParentIndex(e,n){return this.un.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Vi.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Vi.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},$v=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dt(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(Ne.comparator)).toArray()}};var K5=new Uint8Array(0);var yn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(41943040,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);var hc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var zv=class{constructor(){this.changes=new Wr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Hv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var qv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&oc(r.mutation,i,Wt.empty(),tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){let i=Oi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=nc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=tr(),o=sc(),a=function(){return sc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Tn)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),oc(h.mutation,l,h.mutation.getFieldMask(),tt.now())):o.set(l.key,Wt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Hv(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=sc(),i=new Pe((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Wt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=nA();h.forEach(m=>{if(!s.has(m)){let y=cA(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):J0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(Oi()),a=-1,u=s;return o.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,le())).next(h=>({batchId:a,changes:tA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=nc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=nc();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,u=>{let l=function(p,m){return new Gr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,rn.newInvalidDocument(h)))});let a=nc();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&oc(h.mutation,l,Wt.empty(),tt.now()),Rh(n,l)&&(a=a.insert(u,l))}),a})}};var Gv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return P.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:wn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:b$(i.bundledQuery),readTime:wn(i.readTime)}}(n)),P.resolve()}};var Wv=class{constructor(){this.overlays=new Pe(q.comparator),this.Ir=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Oi();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=Oi(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pe((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Oi(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Oi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Mv(n,r));let s=this.Ir.get(n);s===void 0&&(s=le(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var Kv=class{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var fc=class{constructor(){this.Tr=new dt(Be.Er),this.dr=new dt(Be.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Be(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Be(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new q(new Ne([])),r=new Be(n,e),i=new Be(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new q(new Ne([])),r=new Be(n,e),i=new Be(n,e+1),s=le();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Be(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Be=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return q.comparator(e.key,n.key)||me(e.wr,n.wr)}static Ar(e,n){return me(e.wr,n.wr)||q.comparator(e.key,n.key)}};var Qv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new dt(Be.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Rv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Be(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Be(n,0),i=new Be(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(me);return n.forEach(i=>{let s=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;q.isDocumentKey(s)||(s=s.child(""));let o=new Be(new q(s),0),a=new dt(me);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),P.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(n.mutations,i=>{let s=new Be(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Be(n,0),i=this.br.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Yv=class{constructor(e){this.Mr=e,this.docs=function(){return new Pe(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let r=tr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():rn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=tr(),o=n.path,a=new q(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||OB(PB(h),r)<=0||(i.has(h.key)||Rh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Q()}Or(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Jv(this)}getSize(e){return P.resolve(this.size)}},Jv=class extends zv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Zv=class{constructor(e){this.persistence=e,this.Nr=new Wr(n=>B_(n),$_),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new fc,this.targetCount=0,this.kr=hc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),P.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new hc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Kn(n),P.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Br.containsKey(n))}};var Xv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new B0(0),this.Kr=!1,this.Kr=!0,this.$r=new Kv,this.referenceDelegate=e(this),this.Ur=new Zv(this),this.indexManager=new Bv,this.remoteDocumentCache=function(i){return new Yv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new jv(n),this.Gr=new Gv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Wv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Qv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new e_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},e_=class extends dv{constructor(e){super(),this.currentSequenceNumber=e}},t_=class t{constructor(e){this.persistence=e,this.Jr=new fc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Q()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=q.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return P.or([()=>P.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var n_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=le(),i=le();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var r_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var i_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return GC()?8:LB(Ke())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new r_;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(tc()<=ue.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(tc()<=ue.DEBUG&&j("QueryEngine","Query:",no(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(tc()<=ue.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,In(n))):P.resolve())}Yi(e,n){if(y0(n))return P.resolve(null);let r=In(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Cv(n,null,"F"),r=In(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=le(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,Cv(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return y0(n)||i.isEqual(te.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?P.resolve(null):(tc()<=ue.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),no(n)),this.rs(e,o,n,xB(i,-1)).next(a=>a))})}ts(e,n){let r=new dt(X0(e));return n.forEach((i,s)=>{Rh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return tc()<=ue.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",no(n)),this.Ji.getDocumentsMatchingQuery(e,n,Vi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var s_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Pe(me),this._s=new Wr(s=>B_(s),$_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function C$(t,e,n,r){return new s_(t,e,n,r)}function vA(t,e){return w(this,null,function*(){let n=J(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=le();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function S$(t,e){let n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(N=>{let A=l.docVersions.get(C);De(A!==null),N.version.compareTo(A)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _A(t){let e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function A$(t,e){let n=J(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ht.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,A,k){return N.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(s,y))});let u=tr(),l=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(R$(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(te.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function R$(t,e,n){let r=le(),i=le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=tr();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function N$(t,e){let n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function M$(t,e){let n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new dc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function o_(t,e,n){return w(this,null,function*(){let r=J(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!wc(o))throw o;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function A0(t,e,n){let r=J(t),i=te.min(),s=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=J(u),m=p._s.get(h);return m!==void 0?P.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,In(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:le())).next(a=>(x$(r,WB(e),a),{documents:a,Ts:s})))}function x$(t,e,n){let r=t.us.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var oh=class{constructor(){this.activeTargetIds=XB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var a_=class{constructor(){this.so=new oh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new oh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var c_=class{_o(e){}shutdown(){}};var ah=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var zd=null;function ev(){return zd===null?zd=function(){return 268435456+Math.round(2147483648*Math.random())}():zd++,"0x"+zd.toString(16)}var P$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var u_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var lt="WebChannelConnection",l_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=ev(),u=this.xo(n,r.toUriEncodedString());j("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(j("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw co("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=P$[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=ev();return new Promise((o,a)=>{let u=new Wy;u.setWithCredentials(!0),u.listenOnce(Qy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ec.NO_ERROR:let h=u.getResponseJson();j(lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case ec.TIMEOUT:j(lt,`RPC '${e}' ${s} timed out`),a(new L(M.DEADLINE_EXCEEDED,"Request time out"));break;case ec.HTTP_ERROR:let p=u.getStatus();if(j(lt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let C=function(A){let k=A.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(k)>=0?k:M.UNKNOWN}(y.status);a(new L(C,y.message))}else a(new L(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new L(M.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{j(lt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);j(lt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=ev(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Zy(),a=Jy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Ky({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");j(lt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,y=!1,C=new u_({Io:A=>{y?j(lt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(j(lt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),j(lt,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},To:()=>p.close()}),N=(A,k,$)=>{A.listen(k,F=>{try{$(F)}catch(Z){setTimeout(()=>{throw Z},0)}})};return N(p,to.EventType.OPEN,()=>{y||(j(lt,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),N(p,to.EventType.CLOSE,()=>{y||(y=!0,j(lt,`RPC '${e}' stream ${i} transport closed`),C.So())}),N(p,to.EventType.ERROR,A=>{y||(y=!0,co(lt,`RPC '${e}' stream ${i} transport errored:`,A),C.So(new L(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,to.EventType.MESSAGE,A=>{var k;if(!y){let $=A.data[0];De(!!$);let F=$,Z=F.error||((k=F[0])===null||k===void 0?void 0:k.error);if(Z){j(lt,`RPC '${e}' stream ${i} received error:`,Z);let _e=Z.status,G=function(_){let T=je[_];if(T!==void 0)return lA(T)}(_e),E=Z.message;G===void 0&&(G=M.INTERNAL,E="Unknown error status: "+_e+" with message "+Z.message),y=!0,C.So(new L(G,E)),p.close()}else j(lt,`RPC '${e}' stream ${i} received:`,$),C.bo($)}}),N(a,Yy.STAT_EVENT,A=>{A.stat===Bd.PROXY?j(lt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Bd.NOPROXY&&j(lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}};function tv(){return typeof document<"u"?document:null}function Nh(t){return new kv(t,!0)}var ch=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var uh=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ch(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Xn(n.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new L(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},d_=class extends uh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=p$(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?wn(o.readTime):te.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Uv(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=Dv(u)?{documents:y$(s,u)}:{query:v$(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=dA(s,o.resumeToken);let l=Lv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=ih(s,o.snapshotVersion.toTimestamp());let l=Lv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=I$(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Uv(this.serializer),n.removeTarget=e,this.a_(n)}},h_=class extends uh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=m$(e.writeResults,e.commitTime),r=wn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Uv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>g$(this.serializer,r))};this.a_(n)}};var f_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Fv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(M.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Fv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},p_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Xn(n),this.D_=!1):j("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var g_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){qi(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=J(u);l.L_.add(4),yield Ec(l),l.q_.set("Unknown"),l.L_.delete(4),yield Mh(l)})}(this))}))}),this.q_=new p_(r,i)}};function Mh(t){return w(this,null,function*(){if(qi(t))for(let e of t.B_)yield e(!0)})}function Ec(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function IA(t,e){let n=J(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Q_(n)?K_(n):Eo(n).r_()&&W_(n,e))}function G_(t,e){let n=J(t),r=Eo(n);n.N_.delete(e),r.r_()&&wA(n,e),n.N_.size===0&&(r.r_()?r.o_():qi(n)&&n.q_.set("Unknown"))}function W_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eo(t).A_(e)}function wA(t,e){t.Q_.xe(e),Eo(t).R_(e)}function K_(t){t.Q_=new Ov({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Eo(t).start(),t.q_.v_()}function Q_(t){return qi(t)&&!Eo(t).n_()&&t.N_.size>0}function qi(t){return J(t).L_.size===0}function EA(t){t.Q_=void 0}function O$(t){return w(this,null,function*(){t.q_.set("Online")})}function k$(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{W_(t,e)})})}function L$(t,e){return w(this,null,function*(){EA(t),Q_(t)?(t.q_.M_(e),K_(t)):t.q_.set("Unknown")})}function F$(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof nh&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield lh(t,r)}else if(e instanceof oo?t.Q_.Ke(e):e instanceof th?t.Q_.He(e):t.Q_.We(e),!n.isEqual(te.min()))try{let r=yield _A(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(ht.EMPTY_BYTE_STRING,h.snapshotVersion)),wA(s,u);let p=new dc(h.target,u,l,h.sequenceNumber);W_(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){j("RemoteStore","Failed to raise snapshot:",r),yield lh(t,r)}})}function lh(t,e,n){return w(this,null,function*(){if(!wc(e))throw e;t.L_.add(1),yield Ec(t),t.q_.set("Offline"),n||(n=()=>_A(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Mh(t)}))})}function TA(t,e){return e().catch(n=>lh(t,n,e))}function xh(t){return w(this,null,function*(){let e=J(t),n=Kr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;V$(e);)try{let i=yield N$(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,U$(e,i)}catch(i){yield lh(e,i)}DA(e)&&bA(e)})}function V$(t){return qi(t)&&t.O_.length<10}function U$(t,e){t.O_.push(e);let n=Kr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function DA(t){return qi(t)&&!Kr(t).n_()&&t.O_.length>0}function bA(t){Kr(t).start()}function j$(t){return w(this,null,function*(){Kr(t).p_()})}function B$(t){return w(this,null,function*(){let e=Kr(t);for(let n of t.O_)e.m_(n.mutations)})}function $$(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=Nv.from(r,e,n);yield TA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield xh(t)})}function z$(t,e){return w(this,null,function*(){e&&Kr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return o$(o)&&o!==M.ABORTED}(i.code)){let s=r.O_.shift();Kr(r).s_(),yield TA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield xh(r)}})}(t,e)),DA(t)&&bA(t)})}function R0(t,e){return w(this,null,function*(){let n=J(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let r=qi(n);n.L_.add(3),yield Ec(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Mh(n)})}function H$(t,e){return w(this,null,function*(){let n=J(t);e?(n.L_.delete(2),yield Mh(n)):e||(n.L_.add(2),yield Ec(n),n.q_.set("Unknown"))})}function Eo(t){return t.K_||(t.K_=function(n,r,i){let s=J(n);return s.w_(),new d_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:O$.bind(null,t),Ro:k$.bind(null,t),mo:L$.bind(null,t),d_:F$.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),Q_(t)?K_(t):t.q_.set("Unknown")):(yield t.K_.stop(),EA(t))}))),t.K_}function Kr(t){return t.U_||(t.U_=function(n,r,i){let s=J(n);return s.w_(),new h_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:j$.bind(null,t),mo:z$.bind(null,t),f_:B$.bind(null,t),g_:$$.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield xh(t)):(yield t.U_.stop(),t.O_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var m_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Y_(t,e){if(Xn("AsyncQueue",`${e}: ${t}`),wc(t))return new L(M.UNAVAILABLE,`${e}: ${t}`);throw t}var dh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=nc(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var hh=class{constructor(){this.W_=new Pe(q.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Q():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},vo=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,dh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var y_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},v_=class{constructor(){this.queries=N0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=J(n),s=i.queries;i.queries=N0(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new L(M.ABORTED,"Firestore shutting down"))}};function N0(){return new Wr(t=>Z0(t),Ah)}function CA(t,e){return w(this,null,function*(){let n=J(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new y_,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=Y_(o,`Initialization of query '${no(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&J_(n)})}function SA(t,e){return w(this,null,function*(){let n=J(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function q$(t,e){let n=J(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&J_(n)}function G$(t,e,n){let r=J(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function J_(t){t.Y_.forEach(e=>{e.next()})}var __,M0;(M0=__||(__={})).ea="default",M0.Cache="cache";var fh=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==__.Cache}};var ph=class{constructor(e){this.key=e}},gh=class{constructor(e){this.key=e}},I_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=le(),this.mutatedKeys=le(),this.Aa=X0(e),this.Ra=new dh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new hh,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Rh(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),A=!1;m&&y?m.data.isEqual(y.data)?C!==N&&(r.track({type:3,doc:y}),A=!0):this.ga(m,y)||(r.track({type:2,doc:y}),A=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),A=!0):m&&!y&&(r.track({type:1,doc:m}),A=!0,(u||l)&&(a=!0)),A&&(y?(o=o.add(y),s=N?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(y,C){let N=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return N(y)-N(C)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new vo(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new hh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=le(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new gh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new ph(r))}),n}ba(e){this.Ta=e.Ts,this.da=le();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return vo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},w_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},E_=class{constructor(e){this.key=e,this.va=!1}},T_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Wr(a=>Z0(a),Ah),this.Ma=new Map,this.xa=new Set,this.Oa=new Pe(q.comparator),this.Na=new Map,this.La=new fc,this.Ba={},this.ka=new Map,this.qa=hc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function W$(t,e,n=!0){return w(this,null,function*(){let r=PA(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield AA(r,e,n,!0),i})}function K$(t,e){return w(this,null,function*(){let n=PA(t);yield AA(n,e,!0,!1)})}function AA(t,e,n,r){return w(this,null,function*(){let i=yield M$(t.localStore,In(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield Q$(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&IA(t.remoteStore,i),a})}function Q$(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,m,y)=>function(N,A,k,$){return w(this,null,function*(){let F=A.view.ma(k);F.ns&&(F=yield A0(N.localStore,A.query,!1).then(({documents:E})=>A.view.ma(E,F)));let Z=$&&$.targetChanges.get(A.targetId),_e=$&&$.targetMismatches.get(A.targetId)!=null,G=A.view.applyChanges(F,N.isPrimaryClient,Z,_e);return P0(N,A.targetId,G.wa),G.snapshot})}(t,p,m,y);let s=yield A0(t.localStore,e,!0),o=new I_(e,s.Ts),a=o.ma(s.documents),u=lc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);P0(t,n,l.wa);let h=new w_(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function Y$(t,e,n){return w(this,null,function*(){let r=J(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Ah(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield o_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&G_(r.remoteStore,i.targetId),D_(r,i.targetId)}).catch(Ic))):(D_(r,i.targetId),yield o_(r.localStore,i.targetId,!0))})}function J$(t,e){return w(this,null,function*(){let n=J(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),G_(n.remoteStore,r.targetId))})}function Z$(t,e,n){return w(this,null,function*(){let r=sz(t);try{let i=yield function(o,a){let u=J(o),l=tt.now(),h=a.reduce((y,C)=>y.add(C.key),le()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=tr(),N=le();return u.cs.getEntries(y,h).next(A=>{C=A,C.forEach((k,$)=>{$.isValidDocument()||(N=N.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(A=>{p=A;let k=[];for(let $ of a){let F=s$($,p.get($.key).overlayedDocument);F!=null&&k.push(new Tn($.key,F,q0(F.value.mapValue),zr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,k,a)}).next(A=>{m=A;let k=A.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,A.batchId,k)})}).then(()=>({batchId:m.batchId,changes:tA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Pe(me)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Tc(r,i.changes),yield xh(r.remoteStore)}catch(i){let s=Y_(i,"Failed to persist write");n.reject(s)}})}function RA(t,e){return w(this,null,function*(){let n=J(t);try{let r=yield A$(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?De(o.va):i.removedDocuments.size>0&&(De(o.va),o.va=!1))}),yield Tc(n,r,e)}catch(r){yield Ic(r)}})}function x0(t,e,n){let r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=J(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&J_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function X$(t,e,n){return w(this,null,function*(){let r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Pe(q.comparator);o=o.insert(s,rn.newNoDocument(s,te.min()));let a=le().add(s),u=new eh(te.min(),new Map,new Pe(me),o,a);yield RA(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Z_(r)}else yield o_(r.localStore,e,!1).then(()=>D_(r,e,n)).catch(Ic)})}function ez(t,e){return w(this,null,function*(){let n=J(t),r=e.batch.batchId;try{let i=yield S$(n.localStore,e);MA(n,r,null),NA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Tc(n,i)}catch(i){yield Ic(i)}})}function tz(t,e,n){return w(this,null,function*(){let r=J(t);try{let i=yield function(o,a){let u=J(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(De(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);MA(r,e,n),NA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Tc(r,i)}catch(i){yield Ic(i)}})}function NA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function MA(t,e,n){let r=J(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function D_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||xA(t,r)})}function xA(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(G_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Z_(t))}function P0(t,e,n){for(let r of n)r instanceof ph?(t.La.addReference(r.key,e),nz(t,r)):r instanceof gh?(j("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||xA(t,r.key)):Q()}function nz(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(j("SyncEngine","New document in limbo: "+n),t.xa.add(r),Z_(t))}function Z_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new q(Ne.fromString(e)),r=t.qa.next();t.Na.set(r,new E_(n)),t.Oa=t.Oa.insert(n,r),IA(t.remoteStore,new dc(In(z_(n.path)),r,"TargetPurposeLimboResolution",B0.oe))}}function Tc(t,e,n){return w(this,null,function*(){let r=J(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=n_.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=J(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!wc(p))throw p;j("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),C=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(C);h.os=h.os.insert(m,N)}}})}(r.localStore,s))})}function rz(t,e){return w(this,null,function*(){let n=J(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());let r=yield vA(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new L(M.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Tc(n,r.hs)}})}function iz(t,e){let n=J(t),r=n.Na.get(e);if(r&&r.va)return le().add(r.key);{let i=le(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function PA(t){let e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X$.bind(null,e),e.Ca.d_=q$.bind(null,e.eventManager),e.Ca.$a=G$.bind(null,e.eventManager),e}function sz(t){let e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ez.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tz.bind(null,e),e}var mh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return C$(this.persistence,new i_,e.initialUser,this.serializer)}createPersistence(e){return new Xv(t_.Zr,this.serializer)}createSharedClientState(e){return new a_}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var b_=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>x0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rz.bind(null,this.syncEngine),yield H$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new v_}()}createDatastore(e){let n=Nh(e.databaseInfo.databaseId),r=function(s){return new l_(s)}(e.databaseInfo);return function(s,o,a,u){return new f_(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new g_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>x0(this.syncEngine,n,0),function(){return ah.D()?new ah:new c_}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){let p=new T_(i,s,o,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=J(i);j("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Ec(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var yh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Xn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var C_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=Wd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){j("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Y_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function nv(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield vA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function O0(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield az(t);j("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>R0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>R0(e.remoteStore,i)),t._onlineComponents=e})}function oz(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function az(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield nv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!oz(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),yield nv(t,new mh)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield nv(t,new mh);return t._offlineComponents})}function OA(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield O0(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield O0(t,new b_))),t._onlineComponents})}function cz(t){return OA(t).then(e=>e.syncEngine)}function S_(t){return w(this,null,function*(){let e=yield OA(t),n=e.eventManager;return n.onListen=W$.bind(null,e.syncEngine),n.onUnlisten=Y$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=K$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=J$.bind(null,e.syncEngine),n})}function uz(t,e,n={}){let r=new vn;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(s,o,a,u,l){let h=new yh({next:m=>{o.enqueueAndForget(()=>SA(s,p)),m.fromCache&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new fh(a,h,{includeMetadataChanges:!0,_a:!0});return CA(s,p)}(yield S_(t),t.asyncQueue,e,n,r)})),r.promise}function kA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var k0=new Map;function LA(t,e,n){if(!n)throw new L(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lz(t,e,n,r){if(e===!0&&r===!0)throw new L(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function L0(t){if(!q.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function F0(t){if(q.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ph(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function Zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Ph(t);throw new L(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var vh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},_o=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rv;switch(r.type){case"firstParty":return new av(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=k0.get(n);r&&(j("ComponentProvider","Removing Datastore"),k0.delete(n),r.terminate())}(this),Promise.resolve()}};function FA(t,e,n,r={}){var i;let s=(t=Zn(t,_o))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Qe.MOCK_USER;else{a=jC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qe(l)}t._authCredentials=new iv(new Gd(a,u))}}var Qr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},bt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Hr=class t extends Qr{constructor(e,n,r){super(e,n,z_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function VA(t,e,...n){if(t=qe(t),LA("collection","path",e),t instanceof _o){let r=Ne.fromString(e,...n);return F0(r),new Hr(t,null,r)}{if(!(t instanceof bt||t instanceof Hr))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return F0(r),new Hr(t.firestore,null,r)}}function X_(t,e,...n){if(t=qe(t),arguments.length===1&&(e=Wd.newId()),LA("doc","path",e),t instanceof _o){let r=Ne.fromString(e,...n);return L0(r),new bt(t,null,new q(r))}{if(!(t instanceof bt||t instanceof Hr))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return L0(r),new bt(t.firestore,t instanceof Hr?t.converter:null,new q(r))}}var A_=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new ch(this,"async_queue_retry"),this.Eu=()=>{let n=tv();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=tv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=tv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new vn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!wc(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Xn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=m_.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Q()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function V0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Yr=class extends _o{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new A_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jA(this),this._firestoreClient.terminate()}};function UA(t,e){let n=typeof t=="object"?t:Qs(),r=typeof t=="string"?t:e||"(default)",i=$a(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=UC("firestore");s&&FA(i,...s)}return i}function eI(t){return t._firestoreClient||jA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jA(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new hv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,kA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new C_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var pc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ht.fromBase64String(e))}catch(n){throw new L(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Io=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var gc=class{constructor(e){this._methodName=e}};var mc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}};var yc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var dz=/^__.*__$/,R_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Tn(e,this.data,this.fieldMask,n,this.fieldTransforms):new zi(e,this.data,n,this.fieldTransforms)}},_h=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Tn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function BA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}var N_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return wh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(BA(this.wu)&&dz.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},M_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nh(e)}Nu(e,n,r,i=!1){return new N_({wu:e,methodName:n,Ou:r,path:kt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function tI(t){let e=t._freezeSettings(),n=Nh(t._databaseId);return new M_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hz(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);nI("Data must be an object, but it was:",o,r);let a=$A(r,o),u,l;if(s.merge)u=new Wt(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=x_(e,p,n);if(!o.contains(m))throw new L(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);HA(h,m)||h.push(m)}u=new Wt(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new R_(new Ot(a),u,l)}var Ih=class t extends gc{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function fz(t,e,n,r){let i=t.Nu(1,e,n);nI("Data must be an object, but it was:",i,r);let s=[],o=Ot.empty();Hi(r,(u,l)=>{let h=rI(e,u,n);l=qe(l);let p=i.Cu(h);if(l instanceof Ih)s.push(h);else{let m=Dc(l,p);m!=null&&(s.push(h),o.set(h,m))}});let a=new Wt(s);return new _h(o,a,i.fieldTransforms)}function pz(t,e,n,r,i,s){let o=t.Nu(1,e,n),a=[x_(e,r,n)],u=[i];if(s.length%2!=0)throw new L(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(x_(e,s[m])),u.push(s[m+1]);let l=[],h=Ot.empty();for(let m=a.length-1;m>=0;--m)if(!HA(l,a[m])){let y=a[m],C=u[m];C=qe(C);let N=o.Cu(y);if(C instanceof Ih)l.push(y);else{let A=Dc(C,N);A!=null&&(l.push(y),h.set(y,A))}}let p=new Wt(l);return new _h(h,p,o.fieldTransforms)}function gz(t,e,n,r=!1){return Dc(n,t.Nu(r?4:3,e))}function Dc(t,e){if(zA(t=qe(t)))return nI("Unsupported field value:",e,t),$A(t,e);if(t instanceof gc)return function(r,i){if(!BA(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=Dc(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return e$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=tt.fromDate(r);return{timestampValue:ih(i.serializer,s)}}if(r instanceof tt){let s=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ih(i.serializer,s)}}if(r instanceof mc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pc)return{bytesValue:dA(i.serializer,r._byteString)};if(r instanceof bt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:q_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return H_(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Ph(r)}`)}(t,e)}function $A(t,e){let n={};return $0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hi(t,(r,i)=>{let s=Dc(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function zA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof mc||t instanceof pc||t instanceof bt||t instanceof gc||t instanceof yc)}function nI(t,e,n){if(!zA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Ph(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function x_(t,e,n){if((e=qe(e))instanceof Io)return e._internalPath;if(typeof e=="string")return rI(t,e);throw wh("Field path arguments must be of type string or ",t,!1,void 0,n)}var mz=new RegExp("[~\\*/\\[\\]]");function rI(t,e,n){if(e.search(mz)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Io(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new L(M.INVALID_ARGUMENT,a+t+u)}function HA(t,e){return t.some(n=>n.isEqual(e))}var Eh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new P_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Oh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},P_=class extends Eh{data(){return super.data()}};function Oh(t,e){return typeof e=="string"?rI(t,e):e instanceof Io?e._internalPath:e._delegate._internalPath}function qA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vc=class{},Th=class extends vc{};function GA(t,e,...n){let r=[];e instanceof vc&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof O_).length,a=s.filter(u=>u instanceof Dh).length;if(o>1||o>0&&a>0)throw new L(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Dh=class t extends Th{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return QA(e._query,n),new Qr(e.firestore,e.converter,bv(e._query,n))}_parse(e){let n=tI(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){j0(p,h);let y=[];for(let C of p)y.push(U0(u,s,C));m={arrayValue:{values:y}}}else m=U0(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||j0(p,h),m=gz(a,o,p,h==="in"||h==="not-in");return $e.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function WA(t,e,n){let r=e,i=Oh("where",t);return Dh._create(i,r,n)}var O_=class t extends vc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:sn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)QA(o,u),o=bv(o,u)}(e._query,n),new Qr(e.firestore,e.converter,bv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var k_=class t extends Th{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ji(s,o)}(e._query,this._field,this._direction);return new Qr(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Gr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function KA(t,e="asc"){let n=e,r=Oh("orderBy",t);return k_._create(r,n)}function U0(t,e,n){if(typeof(n=qe(n))=="string"){if(n==="")throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J0(e)&&n.indexOf("/")!==-1)throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ne.fromString(n));if(!q.isDocumentKey(r))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return d0(t,new q(r))}if(n instanceof bt)return d0(t,n._key);throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ph(n)}.`)}function j0(t,e){if(!Array.isArray(t)||t.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QA(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var L_=class{convertValue(e,n="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Hi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Re(o.doubleValue));return new yc(s)}convertGeoPoint(e){return new mc(Re(e.latitude),Re(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=U_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cc(e));default:return null}}convertTimestamp(e){let n=er(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ne.fromString(e);De(yA(r));let i=new Jd(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||Xn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function yz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Li=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},bh=class extends Eh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ao(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Oh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ao=class extends bh{data(e={}){return super.data(e)}},Ch=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Li(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ao(this._firestore,this._userDataWriter,r.key,r,new Li(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new ao(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Li(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new ao(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Li(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:vz(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function vz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}var _c=class extends L_{constructor(e){super(),this.firestore=e}convertBytes(e){return new pc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}};function YA(t){t=Zn(t,Qr);let e=Zn(t.firestore,Yr),n=eI(e),r=new _c(e);return qA(t._query),uz(n,t._query).then(i=>new Ch(e,r,t,i))}function JA(t,e,n,...r){t=Zn(t,bt);let i=Zn(t.firestore,Yr),s=tI(i),o;return o=typeof(e=qe(e))=="string"||e instanceof Io?pz(s,"updateDoc",t._key,e,n,r):fz(s,"updateDoc",t._key,e),XA(i,[o.toMutation(t._key,zr.exists(!0))])}function ZA(t,e){let n=Zn(t.firestore,Yr),r=X_(t),i=yz(t.converter,e);return XA(n,[hz(tI(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,zr.exists(!1))]).then(()=>r)}function iI(t,...e){var n,r,i;t=qe(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||V0(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(V0(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof bt)l=Zn(t.firestore,Yr),h=z_(t._key.path),u={next:p=>{e[o]&&e[o](_z(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=Zn(t,Qr);l=Zn(p.firestore,Yr),h=p._query;let m=new _c(l);u={next:y=>{e[o]&&e[o](new Ch(l,m,p,y))},error:e[o+1],complete:e[o+2]},qA(t._query)}return function(m,y,C,N){let A=new yh(N),k=new fh(y,A,C);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return CA(yield S_(m),k)})),()=>{A.za(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return SA(yield S_(m),k)}))}}(eI(l),h,a,u)}function XA(t,e){return function(r,i){let s=new vn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return Z$(yield cz(r),i,s)})),s.promise}(eI(t),e)}function _z(t,e,n){let r=n.docs.get(e._key),i=new _c(t);return new bh(t,i,e._key,r,new Li(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){wo=i})(Fr),Lr(new Gt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Yr(new sv(r.getProvider("auth-internal")),new uv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jd(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ge(a0,"4.7.2",e),Ge(a0,"4.7.2","esm2017")})();var kh=function(){return kh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kh.apply(this,arguments)};var Ez={includeMetadataChanges:!1};function eR(t,e){return e===void 0&&(e=Ez),new ie(function(n){var r=iI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function tR(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:kh(kh({},r),(n={},n[e.idField]=t.id,n))}function nR(t){return eR(t,{includeMetadataChanges:!0}).pipe(ee(function(e){return e.docs}))}function rR(t,e){return e===void 0&&(e={}),nR(t).pipe(ee(function(n){return n.map(function(r){return tR(r,e)})}))}var bc=class{constructor(e){return e}},iR="firestore",sI=class{constructor(){return za(iR)}};var oI=new U("angularfire2.firestore-instances");function Tz(t,e){let n=Id(iR,t,e);return n&&new bc(n)}function Dz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new bc(r)}}var bz={provide:sI,deps:[[new ut,oI]]},Cz={provide:bc,useFactory:Tz,deps:[[new ut,oI],Wn]};function T7(t,...e){return Ge("angularfire",Ai.full,"fst"),Ut([Cz,bz,{provide:oI,useFactory:Dz(t),multi:!0,deps:[ge,ct,Zs,Ri,[new ut,Xa],[new ut,Js],...e]}])}var D7=et(rR,!0);var b7=et(ZA,!0);var C7=et(VA,!0);var S7=et(X_,!0);var A7=et(YA,!0);var R7=et(UA,!0);var N7=et(KA,!0);var M7=et(GA,!0);var x7=et(JA,!0);var P7=et(WA,!0);export{V as a,be as b,w as c,ie as d,gt as e,Ae as f,W as g,ee as h,vN as i,z as j,kE as k,B as l,yi as m,U as n,H as o,x as p,QE as q,vi as r,Ss as s,aM as t,ll as u,HW as v,qW as w,eg as x,ct as y,ot as z,Dr as A,GW as B,WW as C,Ze as D,Dl as E,JW as F,CO as G,UO as H,FD as I,JO as J,ZO as K,UD as L,jD as M,bg as N,hk as O,fk as P,ZW as Q,BD as R,XW as S,Ek as T,e3 as U,Tk as V,Dk as W,t3 as X,Sk as Y,HD as Z,Ak as _,n3 as $,Rk as aa,r3 as ba,GD as ca,i3 as da,s3 as ea,o3 as fa,a3 as ga,c3 as ha,u3 as ia,Ms as ja,l3 as ka,xs as la,sb as ma,d3 as na,Ag as oa,Ps as pa,O3 as qa,k3 as ra,L3 as sa,F3 as ta,V3 as ua,x1 as va,z1 as wa,cL as xa,Z3 as ya,D6 as za,oF as Aa,xr as Ba,H6 as Ca,q6 as Da,tt as Ea,O8 as Fa,k8 as Ga,Za as Ha,A5 as Ia,R5 as Ja,N5 as Ka,M5 as La,bc as Ma,T7 as Na,D7 as Oa,b7 as Pa,C7 as Qa,S7 as Ra,A7 as Sa,R7 as Ta,N7 as Ua,M7 as Va,x7 as Wa,P7 as Xa};
